<application>
  <component name="VimEditorSettings">
    <editor>
      <key-repeat enabled="true" />
    </editor>
  </component>
  <component name="VimHistorySettings">
    <history>
      <history-search>
        <entry>,&quot;</entry>
        <entry>A</entry>
        <entry encoding="base64">IDo=</entry>
        <entry encoding="base64">IA==</entry>
        <entry>jkb_auth</entry>
        <entry>pLABEL</entry>
        <entry>pTARGET</entry>
        <entry>pEND</entry>
        <entry>auth_pre&quot;</entry>
        <entry>pre&quot;</entry>
      </history-search>
      <history-cmd>
        <entry>%s/pre&quot;/backup&quot;/g</entry>
        <entry>1064</entry>
        <entry>52</entry>
        <entry>79</entry>
        <entry>53</entry>
        <entry>42</entry>
        <entry>33</entry>
        <entry>36</entry>
        <entry>239</entry>
        <entry>324</entry>
        <entry>101</entry>
        <entry>344</entry>
        <entry>147</entry>
        <entry>11629</entry>
        <entry>wq</entry>
        <entry>L135899</entry>
        <entry>135899</entry>
        <entry>145249</entry>
        <entry>145318</entry>
        <entry>141171</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
  </component>
  <component name="VimKeySettings">
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed J</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed K</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 6</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
  <component name="VimMarksSettings">
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Logger.ts" timestamp="1610106218232" />
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/ignorefiles/README.md" timestamp="1610361387648">
        <mark key="[" line="56" column="14" />
        <mark key="]" line="56" column="14" />
        <mark key="^" line="52" column="15" />
        <mark key="." line="56" column="14" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Group.ts" timestamp="1610364970794">
        <mark key="[" line="17" column="29" />
        <mark key="]" line="17" column="29" />
        <mark key="^" line="17" column="29" />
        <mark key="." line="17" column="28" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/ignorefiles/BIMWINNER.BOS3D.js" timestamp="1610366059656">
        <mark key="[" line="141235" column="40" />
        <mark key="]" line="145234" column="4" />
        <mark key="^" line="139528" column="6" />
        <mark key="." line="139528" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/CameraAnimator.ts" timestamp="1610362585743">
        <mark key="[" line="5" column="1" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/ViewerImpl.ts" timestamp="1610363310370" />
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/node_modules/@types/node/console.d.ts" timestamp="1610105496250" />
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/EventDispatcher.ts" timestamp="1610102206644">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="84" column="0" />
        <mark key="^" line="83" column="6" />
        <mark key="." line="84" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/SVGRect.ts" timestamp="1610101988058">
        <mark key="]" line="137" column="16" />
        <mark key="." line="137" column="15" />
        <mark key="^" line="137" column="16" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/node_modules/three/src/core/EventDispatcher.d.ts" timestamp="1610101751837" />
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Event.ts" timestamp="1610101780322">
        <mark key="[" line="79" column="1" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Scene.ts" timestamp="1610365242323">
        <mark key="'" line="1380" column="38" />
        <mark key="[" line="384" column="7" />
        <mark key="]" line="10" column="31" />
        <mark key="^" line="10" column="31" />
        <mark key="." line="10" column="30" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Constant.ts" timestamp="1610364728575">
        <mark key="[" line="142" column="0" />
        <mark key="]" line="181" column="2" />
        <mark key="^" line="181" column="2" />
        <mark key="." line="181" column="1" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/BOS3DMaterial.ts" timestamp="1610420310435">
        <mark key="[" line="5" column="28" />
        <mark key="]" line="11" column="0" />
        <mark key="^" line="12" column="26" />
        <mark key="." line="11" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/ModelManager.ts" timestamp="1610363542358">
        <mark key="[" line="19" column="31" />
        <mark key="]" line="19" column="31" />
        <mark key="^" line="19" column="31" />
        <mark key="." line="19" column="30" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/MaterialUtil.ts" timestamp="1610365920477">
        <mark key="[" line="51" column="31" />
        <mark key="]" line="51" column="31" />
        <mark key="^" line="51" column="31" />
        <mark key="." line="51" column="30" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Viewer.ts" timestamp="1610107156119">
        <mark key="'" line="97" column="6" />
        <mark key="[" line="76" column="4" />
        <mark key="]" line="43" column="10" />
        <mark key="." line="43" column="9" />
        <mark key="^" line="43" column="10" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/ViewController.ts" timestamp="1610098507311">
        <mark key="[" line="1" column="25" />
      </file>
      <file name="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Camera.ts" timestamp="1610361734371">
        <mark key="[" line="0" column="1" />
      </file>
    </filemarks>
    <jumps>
      <jump line="6" column="0" filename="$APPLICATION_CONFIG_DIR$/consoles/db/e4cc4159-d979-4ca4-b688-634fce7bac53/console_1.sql" />
      <jump line="12" column="15" filename="$APPLICATION_CONFIG_DIR$/consoles/db/ea922166-ecef-4afc-aef8-b91670afaf3d/console.sql" />
      <jump line="18" column="0" filename="$USER_HOME$/Documents/work/code/bom/bom-fe/src/views/analysis/EventAnalysisV2/Event4.vue" />
      <jump line="1" column="8" filename="$APPLICATION_CONFIG_DIR$/consoles/db/fb08bfed-d95e-49cd-ae58-dea936442732/console.sql" />
      <jump line="29" column="44" filename="$USER_HOME$/Documents/work/code/hlj_data_process/hlj_data_process/src/main/java/com/tencent/wll/prominentcitizens/es/PassRecordRepository.java" />
      <jump line="12" column="12" filename="$USER_HOME$/Documents/work/code/jingxinju/jiankangbao-cloud/yingji-auth/auth.log" />
      <jump line="0" column="0" filename="$USER_HOME$/Documents/work/code/jingxinju/jiankangbao-cloud/yingji-auth/auth.log" />
      <jump line="1" column="0" filename="$USER_HOME$/Documents/work/code/jingxinju/jiankangbao-cloud/yingji-auth/auth.log" />
      <jump line="15" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_shixiang_prod.json" />
      <jump line="30" column="13" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_shixiang_prod.json" />
      <jump line="29" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_shixiang_prod.json" />
      <jump line="14" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_shixiang_prod.json" />
      <jump line="12" column="5" filename="$APPLICATION_CONFIG_DIR$/scratches/1.json" />
      <jump line="1" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/1.json" />
      <jump line="0" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/1.json" />
      <jump line="13" column="19" filename="$APPLICATION_CONFIG_DIR$/scratches/1.json" />
      <jump line="4" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/1.json" />
      <jump line="13" column="140" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_poi_prod.json" />
      <jump line="14" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_poi_prod.json" />
      <jump line="19" column="21" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_poi_prod.json" />
      <jump line="13" column="123" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_push_prod.json" />
      <jump line="18" column="22" filename="$APPLICATION_CONFIG_DIR$/scratches/jkb_push_prod.json" />
      <jump line="13" column="22" filename="$APPLICATION_CONFIG_DIR$/scratches/hosts.log" />
      <jump line="2" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/hosts.log" />
      <jump line="4" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/hosts.log" />
      <jump line="0" column="333" filename="$APPLICATION_CONFIG_DIR$/scratches/hosts.log" />
      <jump line="10" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_auth_pre.json" />
      <jump line="9" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_auth_pre.json" />
      <jump line="11" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_auth_pre.json" />
      <jump line="18" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_auth_pre.json" />
      <jump line="16" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_auth_pre.json" />
      <jump line="14" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_shixiang_pre.json" />
      <jump line="14" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_poi_pre.json" />
      <jump line="14" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_push_pre.json" />
      <jump line="6" column="29" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_push_pre.json" />
      <jump line="23" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/pre_new/jkb_shixiang_pre.json" />
      <jump line="13" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="12" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="121" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="146" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="145" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="269" column="4" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="134" column="44" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_auth_prod.json" />
      <jump line="8" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_poi_prod.json" />
      <jump line="7" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_poi_prod.json" />
      <jump line="44" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_shixiang_prod.json" />
      <jump line="43" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_shixiang_prod.json" />
      <jump line="23" column="26" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_shixiang_prod.json" />
      <jump line="22" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_push_prod.json" />
      <jump line="21" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_push_prod.json" />
      <jump line="67" column="25" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_push_prod.json" />
      <jump line="70" column="6" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_push_prod.json" />
      <jump line="71" column="6" filename="$APPLICATION_CONFIG_DIR$/scratches/prod_new/jkb_push_prod.json" />
      <jump line="17" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_auth_backup.json" />
      <jump line="16" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_auth_backup.json" />
      <jump line="172" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_auth_backup.json" />
      <jump line="171" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_auth_backup.json" />
      <jump line="330" column="3" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_auth_backup.json" />
      <jump line="19" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_shixiang_bakcup.json" />
      <jump line="18" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_shixiang_bakcup.json" />
      <jump line="16" column="25" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_shixiang_bakcup.json" />
      <jump line="8" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_poi_backup.json" />
      <jump line="7" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_poi_backup.json" />
      <jump line="7" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_push_backup.json" />
      <jump line="6" column="2" filename="$APPLICATION_CONFIG_DIR$/scratches/prometheus_config_backup_覆盖/jkb_push_backup.json" />
      <jump line="14" column="14" filename="$USER_HOME$/Documents/work/code/jingxinju/jiankangbao-cloud/alert_boy2.py" />
      <jump line="379" column="0" filename="$USER_HOME$/Documents/work/code/golang_projects/src/git.code.oa.com/cloud_industry_yunnan/fe-yunnan/cloud_industry_portals_web/src/nginx.yaml" />
      <jump line="375" column="3" filename="$USER_HOME$/Documents/work/code/golang_projects/src/git.code.oa.com/cloud_industry_yunnan/fe-yunnan/cloud_industry_portals_web/src/nginx.yaml" />
      <jump line="0" column="3" filename="$USER_HOME$/Documents/work/code/golang_projects/src/git.code.oa.com/cloud_industry_yunnan/fe-yunnan/cloud_industry_portals_web/src/nginx.yaml" />
      <jump line="6" column="0" filename="$USER_HOME$/Documents/work/code/golang_projects/src/git.code.oa.com/cloud_industry_yunnan/fe-yunnan/cloud_industry_portals_web/src/nginx.yaml" />
      <jump line="87" column="6" filename="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Viewer.ts" />
      <jump line="156" column="9" filename="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/ViewerImpl.ts" />
      <jump line="1369" column="38" filename="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/Scene.ts" />
      <jump line="2" column="33" filename="$USER_HOME$/Documents/work/code/ice/M3DViewer/src/Viewer/MaterialUtil.ts" />
    </jumps>
  </component>
  <component name="VimRegisterSettings">
    <registers>
      <register name="a" type="4">
        <keys>
          <key char="65" code="0" mods="0" />
          <key char="34" code="0" mods="0" />
          <key char="65535" code="8" mods="0" />
          <key char="58" code="0" mods="0" />
          <key char="56" code="0" mods="0" />
          <key char="48" code="0" mods="0" />
          <key char="56" code="0" mods="0" />
          <key char="48" code="0" mods="0" />
          <key char="34" code="0" mods="0" />
          <key char="44" code="0" mods="0" />
          <key char="65535" code="27" mods="0" />
          <key char="106" code="0" mods="0" />
        </keys>
      </register>
      <register name="&quot;" type="2">
        <text encoding="base64">ICAgIHByaXZhdGUgdHlwZTogc3RyaW5nOwo=</text>
      </register>
      <register name="-" type="4">
        <text>props</text>
      </register>
      <register name="/" type="4">
        <text>pre&quot;</text>
      </register>
      <register name="0" type="4">
        <text encoding="base64">ewoJICBjb25zdHJ1Y3RvcjogVmlld2VySW1wbCwKCSAgLy8gLS0tLS0tIOazqOWGjOiHquWumuS5ieWbnuiwg+WHveaVsCBFIC0tLS0tLS0tLS0tLS0tIC8vCgkgIC8vIC0tLS0tLSDnrqHnkIblpJbpg6jmj5Lku7bnmoRyZW5kZXIgUyAtLS0tLS0tLS0tLS0tLSAvLwoKCSAgLyoqCgkgICAqIOazqOWGjCByZW5kZXIg5Zue6LCD5Ye95pWwCgkgICAqIEBtZXRob2QgIGFkZFJlbmRlckxpc3RlbmVyCgkgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgLSByZW5kZXIg5Zue6LCD5Ye95pWwCgkgICAqLwoJICBhZGRSZW5kZXJMaXN0ZW5lcjogZnVuY3Rpb24gYWRkUmVuZGVyTGlzdGVuZXIoY2FsbGJhY2spIHsKCSAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoInJlbmRlciIsIGNhbGxiYWNrKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDlj5bmtoggcmVuZGVyIOWbnuiwg+azqOWGjAoJICAgKiBAbWV0aG9kICByZW1vdmVSZW5kZXJMaXN0ZW5lcgoJICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIC0gcmVuZGVyIOWbnuiwg+WHveaVsAoJICAgKi8KCSAgcmVtb3ZlUmVuZGVyTGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZVJlbmRlckxpc3RlbmVyKGNhbGxiYWNrKSB7CgkgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZW5kZXIiLCBjYWxsYmFjayk7CgkgIH0sCgoJICAvKioKCSAgICog6Kem5Y+RIHJlbmRlciDlm57osIMKCSAgICogQG1ldGhvZCBvblJlbmRlckxpc3RlbmVyCgkgICAqLwoJICBvblJlbmRlckxpc3RlbmVyOiBmdW5jdGlvbiBvblJlbmRlckxpc3RlbmVyKCkgewoJICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgicmVuZGVyIik7CgkgIH0sCgoJICAvKioKCSAgICog5rOo5YaMIHJlbmRlciBGaW5pc2hlZAoJICAgKiBAbWV0aG9kIGFkZFJlbmRlckZpbmlzaGVkTGlzdGVuZXIKCSAgICovCgkgIGFkZFJlbmRlckZpbmlzaGVkTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZFJlbmRlckZpbmlzaGVkTGlzdGVuZXIoY2FsbGJhY2spIHsKCSAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoInJlbmRlckZpbmlzaGVkIiwgY2FsbGJhY2spOwoJICB9LAoKCSAgLyoqCgkgICAqIOWPlua2iCByZW5kZXIgRmluaXNoZWQg5rOo5YaMCgkgICAqIEBtZXRob2QgcmVtb3ZlUmVuZGVyRmluaXNoZWRMaXN0ZW5lcgoJICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIC0gcmVuZGVyIGZpbmlzaGVkIOWbnuiwg+WHveaVsAoJICAgKi8KCSAgcmVtb3ZlUmVuZGVyRmluaXNoZWRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlUmVuZGVyRmluaXNoZWRMaXN0ZW5lcihjYWxsYmFjaykgewoJICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVuZGVyRmluaXNoZWQiLCBjYWxsYmFjayk7CgkgIH0sCgoJICAvKioKCSAgICog5ZON5bqUIHJlbmRlciBGaW5pc2hlZAoJICAgKkBtZXRob2Qgb25SZW5kZXJGaW5pc2hlZExpc3RlbmVyCgkgICAqLwoJICBvblJlbmRlckZpbmlzaGVkTGlzdGVuZXI6IGZ1bmN0aW9uIG9uUmVuZGVyRmluaXNoZWRMaXN0ZW5lcigpIHsKCSAgICB0aGlzLmRpc3BhdGNoRXZlbnQoInJlbmRlckZpbmlzaGVkIik7CgkgIH0sCgoJICAvKioKCSAgICog5ZON5bqUIHJlbmRlciBGaW5pc2hlZAoJICAgKkBtZXRob2Qgb25SZW5kZXJGaW5pc2hlZExpc3RlbmVyCgkgICAqLwoJICByZW1vdmVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycygpIHsKCSAgICB0aGlzLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXIoKTsKCSAgfSwKCSAgLy8gLS0tLS0tIOeuoeeQhuWklumDqOaPkuS7tueahHJlbmRlciBFIC0tLS0tLS0tLS0tLS0tIC8vCgoJICAvKioKCSAgICog6YeK5pS+6LWE5rqQCgkgICAqIEBtZXRob2QgZGVzdHJveQoJICAgKi8KCSAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKCSAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpOwoJICAgIHRoaXMuY29udHJvbE1hbmFnZXIudW5yZWdpc3RlckRvbUV2ZW50TGlzdGVuZXJzKHRoaXMuZG9tRWxlbWVudCk7CgkgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudC5jaGlsZE5vZGVzWzBdKTsKCSAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsOwoJICAgIHRoaXMuY29udHJvbE1hbmFnZXIuZGVzdHJveSgpOwoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLmRlc3Ryb3koKTsKCgkgICAgaWYgKHRoaXMuaW5jcmVtZW50UmVuZGVySGFuZGxlID4gMCkgewoJICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5pbmNyZW1lbnRSZW5kZXJIYW5kbGUpOwoJICAgIH0KCgkgICAgaWYgKHRoaXMuYmxpbmtIYW5kbGUgPiAwKSB7CgkgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmJsaW5rSGFuZGxlKTsKCSAgICB9CgoJICAgIGlmICh0aGlzLnJlbmRlcmVyICYmIHRoaXMucmVuZGVyZXIuZGVzdHJveSkgewoJICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7CgkgICAgfQoKCSAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDsKCSAgICB0aGlzLm1vZGVsTWFuYWdlciA9IG51bGw7CgkgICAgdGhpcy5jb250cm9sTWFuYWdlciA9IG51bGw7CgkgICAgdGhpcy5oaWdobGlnaHRNYW5hZ2VyID0gbnVsbDsKCSAgfSwKCgkgIC8qKgoJICAgKiDliJ3lp4vljJYKCSAgICogQG1ldGhvZCBpbml0CgkgICAqIEBwYXJhbSB7ZG9tfSBkb21FbGVtZW50IC0gZG9t5a655ZmoCgkgICAqLwoJICBpbml0OiBmdW5jdGlvbiBpbml0KGRvbUVsZW1lbnQpIHsKCSAgICBsb2dnZXIkMS5sb2coIkJPUzNEIFZlcnNpb246ICIgKyBWZXJzaW9uKTsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoJICAgIHNjb3BlLnV1aWQgPSBUSFJFRS5NYXRoLmdlbmVyYXRlVVVJRCgpOwoJICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQ7CgkgICAgZG9tRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gImxpbmVhci1ncmFkaWVudChyZ2IoMjA2LCAyNTAsIDI1NSkgMCUsIHJnYigyMDIsIDIwMiwgMjAyKSAxMDAlKSI7CgkgICAgdmFyIGluY3JlbWVudFJlbmRlckVuYWJsZWQgPSBHbG9iYWxEYXRhLkluY3JlbWVudFJlbmRlcjsKCSAgICB2YXIgbWF4RHJhd0NhY2hlTnVtID0gR2xvYmFsRGF0YS5tYXhEcmF3Q2FjaGVOdW07CgkgICAgdmFyIGlzTW9iaWxlID0gRGV2aWNlVGVzdC5pc01vYmlsZURldmljZSgpOwoJICAgIHZhciBzZXR0aW5ncyA9IHsKCSAgICAgIGFscGhhOiB0cnVlLAoJICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlLAoJICAgICAgYW50aWFsaWFzOiB0cnVlLAoJICAgICAgbWF4RHJhd0NhY2hlTnVtOiBtYXhEcmF3Q2FjaGVOdW0sCgkgICAgICBsb2dhcml0aG1pY0RlcHRoQnVmZmVyOiB0cnVlCgkgICAgfTsKCgkgICAgaWYgKCFCSU1XSU5ORVIuQk9TM0QuR2xvYmFsRGF0YS5EaXNhYmxlQW50aWFsaWFzKSB7CgkgICAgICBzZXR0aW5ncy5hbnRpYWxpYXMgPSB0cnVlOwoJICAgIH0KCgkgICAgdmFyIGNhbnZhcyA9IG51bGw7CgoJICAgIHRyeSB7CgkgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKCSAgICAgIGNhbnZhcy5zdHlsZS5vdXRsaW5lID0gIm5vbmUiOwoJICAgICAgdmFyIHdlYmdsQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCJ3ZWJnbCIsIHNldHRpbmdzKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIiwgc2V0dGluZ3MpOwoKCSAgICAgIGlmICghd2ViZ2xDb250ZXh0KSB7CgkgICAgICAgIHNldHRpbmdzLmFudGlhbGlhcyA9IGZhbHNlOwoJICAgICAgfQoJICAgIH0gY2F0Y2ggKGUpIHsKCSAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9CgoJICAgIHZhciB2aWV3cG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJICAgIHZpZXdwb3J0LnNldEF0dHJpYnV0ZSgiaWQiLCBzY29wZS51dWlkKTsgLy8gQklNV0lOTkVSLkJPUzNELkdlb21VdGlsLmluaXRpYWxpemVVbml0SW5zdGFuY2VzKCk7CgoJICAgIHNldHRpbmdzLmNhbnZhcyA9IGNhbnZhczsgLy8gc2V0dGluZ3MuY29udGV4dD1jYW52YXMuZ2V0Q29udGV4dCggJ3dlYmdsMicgKTsKCgkgICAgaWYgKGluY3JlbWVudFJlbmRlckVuYWJsZWQpIHsKCSAgICAgIEdsb2JhbERhdGEuSW5zdGFuY2UgPSBmYWxzZTsgLy8g5aKe6YeP57uY5Yi25LiL56aB55So5a6e5L6LCgoJICAgICAgdGhpcy5tb2RlbE1hbmFnZXIucGVybWl0QmxpbmsodHJ1ZSk7IC8vIOemgeatouaehOS7tuW8uuiwgwoKCSAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlckJ5SW5jcmVtZW50KHNldHRpbmdzKTsgLy8gdGhpcy5vcmRlcmVkUmVuZGVyZXIgPSBuZXcgT3JkZXJlZFJlbmRlcmVyKCk7CgkgICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldFJlbmRlcmVyKHRoaXMub3JkZXJlZFJlbmRlcmVyKTsKCgkgICAgICB0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRpY2tldCgwKTsKCSAgICB9IGVsc2UgewoJICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHNldHRpbmdzKTsKCSAgICAgIEdsb2JhbERhdGEuSW5jcmVtZW50UmVuZGVyID0gZmFsc2U7CgkgICAgfQoKCSAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsIGZ1bmN0aW9uIChldmVudCkgewoJICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCgkgICAgICBpZiAoc2NvcGUuaW5jcmVtZW50UmVuZGVySGFuZGxlID4gMCkgewoJICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShzY29wZS5pbmNyZW1lbnRSZW5kZXJIYW5kbGUpOwoJICAgICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tLS0tLSB3ZWJnbGNvbnRleHRsb3N0IC0tLS0tLS0tLS0tLS0tIik7CgkgICAgICB9CgkgICAgfSwgZmFsc2UpOyAvLyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0CgoJICAgIHZhciB2aWV3cG9ydFdpZHRoID0gZG9tRWxlbWVudC5vZmZzZXRXaWR0aDsKCSAgICB2YXIgdmlld3BvcnRIZWlnaHQgPSBkb21FbGVtZW50Lm9mZnNldEhlaWdodDsKCSAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDAsIDApOyAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IFRIUkVFLkNvbG9yKDEsIDAsIDApLCAxKTsKCSAgICAvLyB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8oMSk7CgoJICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7CgkgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTsKCSAgICB0aGlzLnJlbmRlcmVyLnNvcnRPYmplY3RzID0gZmFsc2U7IC8vIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7CgkgICAgLy8gdGhpcy5yZW5kZXJlci5nYW1tYUlucHV0ID0gdHJ1ZTsKCSAgICAvLyB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTsKCSAgICAvLyB0aGlzLndnYiA9IG5ldyBUSFJFRS5PdXRsaW5lRWZmZWN0KCB0aGlzLnJlbmRlcmVyICk7CgkgICAgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZyA9IEdsb2JhbERhdGEuVG9uZU1hcHBpbmc7CgkgICAgLy/pmLTlvbEgYnkgbHR5CgoJICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSBHbG9iYWxEYXRhLkVuYWJsZVNoYWRvdzsgLy8gdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAucmVuZGVyUmV2ZXJzZVNpZGVkID0gZmFsc2U7ICAgIC8vcmVtb3ZlZAoJICAgIC8vIEFkZGVkIGJ5IHhtaCBiZWdpbgoJICAgIC8vIOWFgeiuuOiOt+W+l+eEpueCue+8jOWwhumUruebmOS6i+S7tuazqOWGjOWIsOeItuWuueWZqO+8iOS5i+WJjeazqOWGjOWIsHdpbmRvd+S4iuS8muWtmOWcqOWQhOenjeiBlOWKqOmXrumimO+8ie+8jOm8oOagh+eCueWHu+eItuWuueWZqO+8jOa/gOa0u2NhbnZhcwoKCSAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CgkgICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1haW4tY2FudmFzIik7IC8vIEFkZGVkIGJ5IHhtaCBlbmQKCgkgICAgdmlld3BvcnQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKCSAgICB0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodmlld3BvcnQpOyAvLyBDYW1lcmEKCSAgICAvLyB0aGlzLmNhbWVyYSA9IHRoaXMuZGVmYXVsdENhbWVyYSA9IG5ldyBDYW1lcmEoQ0FNRVJBVFlQRS5QRVJTUEVDVElWRSwgY2FtZXJhUGFyYW1zKTsKCgkgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmRlZmF1bHRDYW1lcmEgPSBuZXcgQ2FtZXJhKDQ1LCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgMC4xLCBHbG9iYWxEYXRhLlNjZW5lU2l6ZSAqIDIwMC4wKTsgLy8gdGhpcy5jYW1lcmEudXAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTsKCgkgICAgdGhpcy5jYW1lcmEudXAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTsKCSAgICB0aGlzLmNhbWVyYS5yZWFsVXAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTsgLy8gdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDE1MCwgNTAwKTsKCSAgICAvLyB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMzk0ODQsIDQ2NzM3LCAyODk2MSk7CgkgICAgLy90aGlzLmNhbWVyYS50YXJnZXQuc2V0KDQwMDAsIC04MDAwLCAxNTAwMCk7CgoJICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0aGlzLmNhbWVyYS50YXJnZXQpOyAvLyB0aGlzLmNhbWVyYSA9IHRoaXMuY2FtZXJhLmNsb25lKCk7ICAgLy/mianlsZXvvIzkvr/kuo7nm7jmnLrlpI3liLYKCgkgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOwoJICAgIHRoaXMuY2FtZXJhQ29udHJvbCA9IG5ldyBDYW1lcmFDb250cm9sKHRoaXMsIHRoaXMuY2FtZXJhLCBkb21FbGVtZW50LCBmdW5jdGlvbiAoc2NlbmVOb3RDaGFuZ2VkKSB7CgkgICAgICBzY29wZS5yZW5kZXIoc2NlbmVOb3RDaGFuZ2VkKTsKCSAgICB9KTsgLy8gdGhpcy5oaWdobGlnaHRNYW5hZ2VyID0gbmV3IEhpZ2hsaWdodE1hbmFnZXIodGhpcywgdGhpcy5yZW5kZXJlciwgdGhpcy5jYW1lcmEsIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTsKCSAgICAvLyB0aGlzLnNldENvbnRyb2xEZWZhdWx0KCk7CgkgICAgLy8gdGhpcy5jb250cm9sTWFuYWdlci5zZXRDb250cm9sTW9kZSh0aGlzLCAiIik7CgoJICAgIHRoaXMuY29udHJvbE1hbmFnZXIgPSBuZXcgQ29udHJvbE1hbmFnZXIoKTsgLy8gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0U3RvcmFnZSgpLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRTLk9OX0RBVEFCQVNFX09QRU4sIGNhbGxiYWNrKTsKCSAgICAvLyBSZWdpc3RlciBFdmVudHMKCSAgICAvL3RoaXMuY29udHJvbE1hbmFnZXIucmVnaXN0ZXJEb21FdmVudExpc3RlbmVycyh0aGlzLmRvbUVsZW1lbnQpOwoJICAgIC8vIHRoaXMuY29udHJvbE1hbmFnZXIuc2V0Q29udHJvbE1vZGUodGhpcywib3JiaXQiKTsKCgkgICAgdGhpcy5jb250cm9sTWFuYWdlci5zZXRDb250cm9sTW9kZSh0aGlzLCAicGljayIpOyAvLyB0aGlzLm1vZGVsTWFuYWdlci5vblVwZGF0ZVZpZXdlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAvLyAgICAgc2NvcGUucmVuZGVyKHRydWUpOwoJICAgIC8vIH07CgoJICAgIHRoaXMuc2V0T3JiaXRCdXR0b24oImxlZnQiKTsgLy9sdHkKCgkgICAgdGhpcy5zZXRSZXZlcnNlV2hlZWxEaXJlY3Rpb24oZmFsc2UpOyAvLyB0aGlzLmdvVG9Jbml0aWFsVmlldygpOwoJICAgIC8vIGlmIChHbG9iYWxEYXRhLklCTCkgewoJICAgIC8vICAgICB0aGlzLmxvYWRJQkxjZmcoImRhdGEvSUJMQ29uZmlnLmpzb24iKTsKCSAgICAvLyB9CgoJICAgIHRoaXMuY29udHJvbE1hbmFnZXIucmVnaXN0ZXJEb21FdmVudExpc3RlbmVycyh2aWV3cG9ydCk7CgkgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7CgkgICAgdGhpcy5jb21wb3NlciA9IG5ldyBSZW5kZXJFZmZlY3RDb21wb3Nlcih0aGlzLnJlbmRlcmVyKTsKCSAgICB0aGlzLmNvbXBvc2VyLmluaXQodGhpcy5tb2RlbE1hbmFnZXIsIHRoaXMuZ2V0U2NlbmUoKSwgdGhpcy5jYW1lcmEsIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTsKCSAgICB0aGlzLnN0YXJ0UmVuZGVyKCk7IC8vCgoJICAgIHRoaXMuYWRkWGh6TG9nb1dhdGVybWFyayhkb21FbGVtZW50LCBjYW52YXMpOyAvLyB0aGlzLmNvbnRyb2xNYW5hZ2VyLnJlZ2lzdGVyRG9tRXZlbnRMaXN0ZW5lcnModGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKCSAgfSwKCgkgIC8qKgoJICAgKiAg6I635Y+W5a655ZmoCgkgICAqIEBtZXRob2QgZ2V0RG9tRWxlbWVudAoJICAgKiBAcmV0dXJuIHtET018bnVsbH0KCSAgICovCgkgIGdldERvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldERvbUVsZW1lbnQoKSB7CgkgICAgaWYgKHRoaXMuZG9tRWxlbWVudCkgewoJICAgICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudDsKCSAgICB9IGVsc2UgewoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqICDojrflj5bmuLLmn5NjYW52YXMKCSAgICoKCSAgICovCgkgIGdldFJlbmRlcmVyRG9tRWxlbWVudDogZnVuY3Rpb24gZ2V0UmVuZGVyZXJEb21FbGVtZW50KCkgewoJICAgIGlmICh0aGlzLnJlbmRlcmVyICYmIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCkgewoJICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudDsKCSAgICB9IGVsc2UgewoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqICDliLfmlrDmuLLmn5PmqKHlnosKCSAgICogQG1ldGhvZCByZW5kZXIKCSAgICovCgkgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHNjZW5lTm90Q2hhbmdlZCkgewoJICAgIHRoaXMubmVlZFJlbmRlciA9IHRydWU7CgkgIH0sCgkgIHN0YXJ0UmVuZGVyOiBmdW5jdGlvbiBzdGFydFJlbmRlcigpIHsKCSAgICB0aGlzLl9yZW5kZXJUaW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmNoZWNrTmVlZFJlZG5lcik7CgkgIH0sCgkgIHN0b3BSZWRuZXI6IGZ1bmN0aW9uIHN0b3BSZWRuZXIoKSB7CgkgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVuZGVyVGltZXIpOwoJICB9LAoJICBfcmVuZGVyOiBmdW5jdGlvbiBfcmVuZGVyKHNjZW5lTm90Q2hhbmdlZCkgewoJICAgIHZhciBjYW1lcmEgPSB0aGlzLmNhbWVyYTsKCSAgICB2YXIgbW9kZWxNYW5hZ2VyID0gdGhpcy5tb2RlbE1hbmFnZXI7CgkgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIHZhciBpbmNyZW1lbnRSZW5kZXJFbmFibGVkID0gR2xvYmFsRGF0YS5JbmNyZW1lbnRSZW5kZXI7CgkgICAgLy8g5rKh5pyJ5qih5Z6L5Yqg6L29LOi/lOWbngoKCSAgICBpZiAoIW1vZGVsTWFuYWdlci5oYXNNb2RlbCgpKSB7CgkgICAgICBsb2dnZXIkMS5sb2coIm1vZGVsIG5vdCBsb2FkZWQhIik7CgkgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CgkgICAgICByZXR1cm47CgkgICAgfSAvLyBpZiAoR2xvYmFsRGF0YS5JQkwgJiYgdGhpcy5nZXRTY2VuZSgpLmlibFByb2JlICE9IG51bGwgJiYgIXRoaXMuZ2V0U2NlbmUoKS5pYmxQcm9iZS5pc0NvbXB1dGVkKSB7CgkgICAgLy8gICAgIHJldHVybjsKCSAgICAvLyB9CgoKCSAgICBpZiAoc2NlbmUuZmlsbENsaXBQbGFuZSAmJiBHbG9iYWxEYXRhLkNsaXBwaW5nQ2FwcyAmJiBHbG9iYWxEYXRhLk1lcmdlQ29tcG9uZW50KSB7CgkgICAgICB0aGlzLnNldFJlbmRlclN0YXRlQ2hhbmdlZCh0cnVlKTsKCSAgICB9CgoJICAgIHRoaXMuX2NoZWNrRGF0YUNoYW5nZWQoKTsKCgkgICAgaWYgKEdsb2JhbERhdGEuSW5jcmVtZW50UmVuZGVyKSB7CgkgICAgICB0aGlzLmluY3JlbWVudFJlbmRlcihzY2VuZU5vdENoYW5nZWQpOwoJICAgIH0gZWxzZSB7CgkgICAgICB0aGlzLmZ1bGxSZW5kZXIoc2NlbmVOb3RDaGFuZ2VkKTsKCSAgICB9CgkgIH0sCgkgIGluY3JlbWVudFJlbmRlcjogZnVuY3Rpb24gaW5jcmVtZW50UmVuZGVyKHNjZW5lTm90Q2hhbmdlZCkgewoJICAgIHZhciBzY29wZSA9IHRoaXM7CgkgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOwoJICAgIHZhciBtb2RlbE1hbmFnZXIgPSB0aGlzLm1vZGVsTWFuYWdlcjsKCSAgICB2YXIgbW9kZWxNYW5hZ2VyID0gdGhpcy5tb2RlbE1hbmFnZXI7CgkgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIOWinumHj+e7mOWItgoKCSAgICArK3RoaXMuY291bnRSZW5kZXJSZXF1ZXN0OwoKCSAgICBpZiAodGhpcy5jb3VudFJlbmRlclJlcXVlc3QgPiB0aGlzLm1heENvdW50UmVuZGVyUmVxdWVzdCkgewoJICAgICAgdGhpcy5jb3VudFJlbmRlclJlcXVlc3QgPSAwOwoJICAgIH0KCgkgICAgaWYgKHRoaXMucmVuZGVyaW5nKSB7CgkgICAgICByZXR1cm47CgkgICAgfQoKCSAgICB0aGlzLnJlbmRlcmluZyA9IHRydWU7IC8vIHVwZGF0ZSBjYW1lcmEncyBpbm5lci9vdXRlciBzdGF0dXMsIGJvdGggImNhbGN1bGF0ZU5lYXJGYXIiIGFuZCAicHJlcGFyZVNjZW5lIiB3aWxsIHVzZSB0aGlzIGluZm8uCgoJICAgIG1vZGVsTWFuYWdlci5jYWxjdWxhdGVDYW1lcmFNb2RlbFJlbGF0aW9uKGNhbWVyYS5wb3NpdGlvbik7CgkgICAgdGhpcy5jYWxjdWxhdGVOZWFyRmFyKCk7CgkgICAgdGhpcy5jYW1lcmFDb250cm9sLnVwZGF0ZUNhbWVyYSgpOwoJICAgIHNjZW5lLnVwZGF0ZUxpZ2h0cyhjYW1lcmEpOwoJICAgIHZhciBpc1VwZGF0ZVJlbmRlckxpc3QgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmlzVXBkYXRlUmVuZGVyTGlzdDsgLy8gaWYgKEdsb2JhbERhdGEuRW5hYmxlUmVuZGVyUGFzcykgewoJICAgIC8vICAgICBfcmVuZGVyQ29tcG9zZXIucmVzdGFydChzY2VuZU5vdENoYW5nZWQsIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuaG92ZXJJZCk7CgkgICAgLy8gICAgIC8vIGFsd2F5cyB1cGRhdGUgcmVuZGVyIGxpc3QKCSAgICAvLyAgICAgLy8gVE9ETzogY29uc2lkZXIgYSBiZXR0ZXIgc29sdXRpb24gbm90IHRvIHVwZGF0ZSB0aGUgcmVuZGVyIGxpc3QsIGZvciBleGFtcGxlLCB6b29tIHRoZSBzY2VuZQoJICAgIC8vICAgICByZW5kZXJlci5zZXRPYmplY3RMaXN0VXBkYXRlU3RhdGUodHJ1ZSk7CgkgICAgLy8gfQoJICAgIC8vIGVsc2UgewoJICAgIC8vICAgICByZW5kZXJlci5yZXNldEluY3JlbWVudFJlbmRlcigpOy8vIOmHjee9ruWinumHj+e7mOWItueKtuaAgQoJICAgIC8vICAgICByZW5kZXJlci5zZXRPYmplY3RMaXN0VXBkYXRlU3RhdGUoaXNVcGRhdGVSZW5kZXJMaXN0KTsvLyDorr7nva7mm7TmlrDnirbmgIEKCSAgICAvLyB9CgoJICAgIHJlbmRlcmVyLnJlc2V0SW5jcmVtZW50UmVuZGVyKCk7IC8vIOmHjee9ruWinumHj+e7mOWItueKtuaAgQoKCSAgICByZW5kZXJlci5zZXRPYmplY3RMaXN0VXBkYXRlU3RhdGUoaXNVcGRhdGVSZW5kZXJMaXN0KTsgLy8g6K6+572u5pu05paw54q25oCBCgoJICAgIGZ1bmN0aW9uIGRvUmVuZGVyKGNhbGxJZCwgYXV0b0NsZWFyKSB7CgkgICAgICB2YXIgcmVuZGVySWQgPSBjYWxsSWQ7CgkgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyB2YXIgcmVuZGVyZXIgPSBzY29wZS5yZW5kZXJlcjsKCSAgICAgICAgcmVuZGVyZXIuYXV0b0NsZWFyID0gYXV0b0NsZWFyOwoKCSAgICAgICAgaWYgKHNjb3BlLmNvbnRyb2xNYW5hZ2VyLmNhbWVyYUNoYW5nZSkgewoJICAgICAgICAgIHJlbmRlcmVyLnJlc2V0SW5jcmVtZW50UmVuZGVyKCk7IC8vIOmHjee9ruWinumHj+e7mOWItueKtuaAgQoKCSAgICAgICAgICByZW5kZXJlci5hdXRvQ2xlYXIgPSB0cnVlOwoJICAgICAgICAgIHNjb3BlLmNvbnRyb2xNYW5hZ2VyLmNhbWVyYUNoYW5nZSA9IGZhbHNlOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHJlbmRlcmVyLmF1dG9DbGVhciA9IGF1dG9DbGVhcjsKCSAgICAgICAgfQoKCSAgICAgICAgdmFyIGlzRmluaXNoZWQgPSByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CgoJICAgICAgICBpZiAoIWlzRmluaXNoZWQgJiYgcmVuZGVySWQgPT09IHNjb3BlLmNvdW50UmVuZGVyUmVxdWVzdCkgewoJICAgICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgLy90aHJvdHRsZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gMzBmcHMsIGllLiAxMDAwLzMwID0gMzNtcwoJICAgICAgICAgIC8vICAgICBzY29wZS5pbmNyZW1lbnRSZW5kZXJIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9SZW5kZXIoc2NvcGUuY291bnRSZW5kZXJSZXF1ZXN0LCBmYWxzZSkpOwoJICAgICAgICAgIC8vIH0sIDMzKTsKCSAgICAgICAgICBzY29wZS5pbmNyZW1lbnRSZW5kZXJIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9SZW5kZXIocmVuZGVySWQsIGZhbHNlKSk7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgc2NvcGUucmVuZGVyaW5nID0gZmFsc2U7CgoJICAgICAgICAgIGlmIChyZW5kZXJJZCAhPT0gc2NvcGUuY291bnRSZW5kZXJSZXF1ZXN0KSB7CgkgICAgICAgICAgICBzY29wZS5yZW5kZXIoKTsKCSAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgLy8g57uT5p2f5ZCO5Zue6LCD5Ye95pWwCgkgICAgICAgICAgICBzY29wZS5vblJlbmRlckZpbmlzaGVkTGlzdGVuZXIoKTsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgIH07CgkgICAgfSAvLyDov5nmoLfkv67mlLnkvJrnvLrluKfvvIzmgaLlpI3liLDkuYvliY3nmoTlpITnkIbmlrnlvI8KCSAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IC8vdGhyb3R0bGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIDMwZnBzLCBpZS4gMTAwMC8zMCA9IDMzbXMKCSAgICAvLyAgICBzY29wZS5pbmNyZW1lbnRSZW5kZXJIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9SZW5kZXIoc2NvcGUuY291bnRSZW5kZXJSZXF1ZXN0LCB0cnVlKSk7CgkgICAgLy8gfSwgMzMpOwoKCgkgICAgdGhpcy5pbmNyZW1lbnRSZW5kZXJIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9SZW5kZXIoc2NvcGUuY291bnRSZW5kZXJSZXF1ZXN0LCB0cnVlKSk7CgoJICAgIGlmIChpc1VwZGF0ZVJlbmRlckxpc3QpIHsKCSAgICAgIG1vZGVsTWFuYWdlci5wcmVwYXJlU2NlbmUoY2FtZXJhKTsKCSAgICB9CgoJICAgIHRoaXMub25SZW5kZXJGaW5pc2hlZExpc3RlbmVyKCk7CgkgICAgdGhpcy5jYW1lcmFDb250cm9sLnNldENhbWVyYUNoYW5naW5nKGZhbHNlKTsgLy8gYWRkCgkgIH0sCgkgIGZ1bGxSZW5kZXI6IGZ1bmN0aW9uIGZ1bGxSZW5kZXIoc2NlbmVOb3RDaGFuZ2VkKSB7CgkgICAgdmFyIHNjb3BlID0gdGhpczsKCSAgICB2YXIgY2FtZXJhID0gdGhpcy5jYW1lcmE7CgkgICAgdmFyIG1vZGVsTWFuYWdlciA9IHRoaXMubW9kZWxNYW5hZ2VyOwoJICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7CgkgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoKCSAgICBmdW5jdGlvbiByZW5kZXJTY2VuZSgpIHsKCSAgICAgIC8vIHVwZGF0ZSBjYW1lcmEncyBpbm5lci9vdXRlciBzdGF0dXMsIGJvdGggImNhbGN1bGF0ZU5lYXJGYXIiIGFuZCAicHJlcGFyZVNjZW5lIiB3aWxsIHVzZSB0aGlzIGluZm8uCgkgICAgICAvLyBtb2RlbE1hbmFnZXIuY2FsY3VsYXRlQ2FtZXJhTW9kZWxSZWxhdGlvbihjYW1lcmEucG9zaXRpb24pOwoJICAgICAgc2NvcGUuY2FsY3VsYXRlTmVhckZhcigpOwoJICAgICAgc2NvcGUuY2FtZXJhQ29udHJvbC51cGRhdGVDYW1lcmEoKTsKCSAgICAgIHNjZW5lLnVwZGF0ZUxpZ2h0cyhjYW1lcmEpOyAvLyBtb2RlbE1hbmFnZXIucHJlcGFyZVNjZW5lKGNhbWVyYSk7CgoJICAgICAgaWYgKG1vZGVsTWFuYWdlci5nZXRCbGlua0VuYWJsZWQoKSkgewoJICAgICAgICBtb2RlbE1hbmFnZXIudXBkYXRlQmxpbmtNYXRlcmlhbCgpOwoJICAgICAgfSAvL2ZpbGxDbGlwUGxhbmXkuIDnm7TpmpDol48KCgoJICAgICAgaWYgKHNjZW5lLmZpbGxDbGlwUGxhbmUgJiYgR2xvYmFsRGF0YS5DbGlwcGluZ0NhcHMpIHsKCSAgICAgICAgbW9kZWxNYW5hZ2VyLnByZXBhcmVDYXBTY2VuZSgpOwoJICAgICAgICByZW5kZXJlci5jbGVhcigpOwoJICAgICAgICByZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTsKCSAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0OwoJICAgICAgICB2YXIgc3RhdGUgPSByZW5kZXJlci5zdGF0ZTsKCSAgICAgICAgc3RhdGUuYnVmZmVycy5zdGVuY2lsLnNldFRlc3QodHJ1ZSk7CgkgICAgICAgIHN0YXRlLmJ1ZmZlcnMuc3RlbmNpbC5zZXRGdW5jKGNvbnRleHQuQUxXQVlTLCAxLCAweGZmKTsKCSAgICAgICAgc3RhdGUuYnVmZmVycy5zdGVuY2lsLnNldE9wKGNvbnRleHQuS0VFUCwgY29udGV4dC5LRUVQLCBjb250ZXh0LklOQ1IpOyAvL0lOQ1IKCgkgICAgICAgIHNjZW5lLm92ZXJyaWRlTWF0ZXJpYWwgPSBzY2VuZS5iYWNrTWF0ZXJpYWw7CgkgICAgICAgIHNjZW5lLmJhY2tGcm9udFN0ZW5jaWwgPSB0cnVlOwoJICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CgkgICAgICAgIHN0YXRlLmJ1ZmZlcnMuc3RlbmNpbC5zZXRGdW5jKGNvbnRleHQuQUxXQVlTLCAxLCAweGZmKTsKCSAgICAgICAgc3RhdGUuYnVmZmVycy5zdGVuY2lsLnNldE9wKGNvbnRleHQuS0VFUCwgY29udGV4dC5LRUVQLCBjb250ZXh0LkRFQ1IpOyAvL0RFQ1IKCgkgICAgICAgIHNjZW5lLm92ZXJyaWRlTWF0ZXJpYWwgPSBzY2VuZS5mcm9udE1hdGVyaWFsOwoJICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CgkgICAgICAgIHNjZW5lLmJhY2tGcm9udFN0ZW5jaWwgPSBmYWxzZTsKCSAgICAgICAgc3RhdGUuYnVmZmVycy5zdGVuY2lsLnNldEZ1bmMoY29udGV4dC5MRVFVQUwsIDEsIDB4ZmYpOyAvLyggcmVmICYgbWFzayApIDw9ICggc3RlbmNpbCAmIG1hc2sgKSDlg4/ntKDlkIzkuLrlpJrkuKrniankvZPnmoTlhoXpg6jml7YKCgkgICAgICAgIHN0YXRlLmJ1ZmZlcnMuc3RlbmNpbC5zZXRPcChjb250ZXh0LktFRVAsIGNvbnRleHQuS0VFUCwgY29udGV4dC5LRUVQKTsKCSAgICAgICAgcmVuZGVyZXIucmVuZGVyKG1vZGVsTWFuYWdlci5jYXBzU2NlbmUsIGNhbWVyYSk7CgkgICAgICAgIHN0YXRlLmJ1ZmZlcnMuc3RlbmNpbC5zZXRUZXN0KGZhbHNlKTsKCSAgICAgICAgc2NlbmUub3ZlcnJpZGVNYXRlcmlhbCA9IG51bGw7CgkgICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIC8v5Yik5pat5piv5ZCm5pyJ6YCJ5Lit55qE5p6E5Lu277yM55So5p2l5YeP5bCR6ZSv6b2/CgkgICAgICAgIGlmIChzY29wZS5jb21wb3NlciAmJiBzY29wZS5nZXRTZWxlY3Rpb24oKS5sZW5ndGggPiAwICYmIEdsb2JhbERhdGEuRW5hYmxlU2VsZWN0aW9uT3V0bGluZSkgewoJICAgICAgICAgIHNjb3BlLmNvbXBvc2VyLnJlbmRlcigpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIC8vIHJlbmRlcmVyLnNldFJlbmRlclRhcmdldChudWxsKTsKCSAgICAgICAgICAvLyByZW5kZXJlci5jbGVhcigpOwoJICAgICAgICAgIC8vIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKCSAgICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSwgbnVsbCwgdHJ1ZSk7CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICBzY29wZS5vblJlbmRlckxpc3RlbmVyKCk7CgkgICAgICBzY29wZS5vblJlbmRlckZpbmlzaGVkTGlzdGVuZXIoKTsgLy8g57uT5p2f5ZCO5Zue6LCD5Ye95pWwCgoJICAgICAgc2NvcGUuY2FtZXJhQ29udHJvbC5zZXRDYW1lcmFDaGFuZ2luZyhmYWxzZSk7IC8vIGFkZAoKCSAgICAgIGlmIChtb2RlbE1hbmFnZXIuZ2V0QmxpbmtFbmFibGVkKCkpIHsKCSAgICAgICAgc2NvcGUuYmxpbmtIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyU2NlbmUpOwoJICAgICAgfQoKCSAgICAgIG1vZGVsTWFuYWdlci5kaXNwb3NlQnVmZmVyQWZ0ZXJWYm8oKTsKCSAgICB9CgoJICAgIGlmICh0aGlzLmJsaW5rSGFuZGxlID4gMCkgewoJICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5ibGlua0hhbmRsZSk7CgkgICAgfQoKCSAgICByZW5kZXJTY2VuZSgpOwoJICB9LAoKCSAgLyoqCgkgICAqIOeql+WPo+Wkp+Wwj+WPmOWMluWbnuiwg+S6i+S7tgoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSDnqpflj6Plrr0KCSAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIOeql+WPo+mrmAoJICAgKi8KCSAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkgewoJICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpOwoKCSAgICBpZiAodmlld3BvcnQpIHsKCSAgICAgIHZpZXdwb3J0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICJweCI7CgkgICAgICB2aWV3cG9ydC5zdHlsZS53aWR0aCA9IHdpZHRoICsgInB4IjsKCSAgICB9CgoJICAgIHRoaXMuY2FtZXJhLnNldFNpemUod2lkdGgsIGhlaWdodCk7CgkgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwoJICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsgLy8gdGhpcy5jb250cm9sTWFuYWdlci5yZXNpemUoKTsKCgkgICAgdGhpcy5jb21wb3NlciAmJiB0aGlzLmNvbXBvc2VyLnNldFNpemUod2lkdGgsIGhlaWdodCk7CgkgICAgdGhpcy5oaWdobGlnaHRNYW5hZ2VyICYmIHRoaXMuaGlnaGxpZ2h0TWFuYWdlci5yZXNpemUod2lkdGgsIGhlaWdodCk7CgkgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsKCSAgICAgIHR5cGU6ICJyZXNpemUiLAoJICAgICAgZGF0YTogewoJICAgICAgICB3aWR0aDogd2lkdGgsCgkgICAgICAgIGhlaWdodDogaGVpZ2h0CgkgICAgICB9CgkgICAgfSk7CgkgICAgdGhpcy5yZW5kZXIoKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDliqjmgIHorqHnrpfnm7jmnLrov5zov5Hoo4HliarpnaIKCSAgICoKCSAgICovCgkgIGNhbGN1bGF0ZU5lYXJGYXI6IGZ1bmN0aW9uIGNhbGN1bGF0ZU5lYXJGYXIoKSB7CgkgICAgLy8gZGVidWdnZXI7CgkgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoJICAgIHZhciBib3VuZGluZ0JveCA9IHNjZW5lLmdldEJvdW5kaW5nQm94V29ybGQoKTsgLy8gdmFyIGJvdW5kaW5nQm94ID0gbmV3IFRIUkVFLkJveDMoCgkgICAgLy8gCW5ldyBUSFJFRS5WZWN0b3IzKCAtODkxNi4zOTY0ODQzNzUsIC02OTMyLjU2Mjk4ODI4MTI1LCAtMTUwICksCgkgICAgLy8gCW5ldyBUSFJFRS5WZWN0b3IzKCAxMTM4My42MDM1MTU2MjUsIDM3NjcuNDM2NzY3NTc4MTI1LCAxNjE1MCApCgkgICAgLy8gKTsKCgkgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOyAvLyByZWR1Y2luZyB6LWZpZ2h0aW5nIGJ5IGR5bmFtaWNhbGx5IGFkanVzdCBuZWFyL2ZhcgoKCSAgICBpZiAoYm91bmRpbmdCb3ggIT09IG51bGwgJiYgYm91bmRpbmdCb3gubWF4LnggIT09IC1JbmZpbml0eSAmJiBib3VuZGluZ0JveC5tYXgueCAhPT0gSW5maW5pdHkpIDsgZWxzZSB7CgkgICAgICBpZiAoc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gJiYgc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4pIHsKCSAgICAgICAgc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKCSAgICAgICAgICB2YXIgdGVtcEJvdW5kYXJ5ID0gbmV3IFRIUkVFLkJveDMoKS5zZXRGcm9tT2JqZWN0KGl0ZW0pOwoJICAgICAgICAgIGJvdW5kaW5nQm94LnVuaW9uKHRlbXBCb3VuZGFyeSk7CgkgICAgICAgIH0pOwoJICAgICAgfQoKCSAgICAgIHNjZW5lLmdlb21ldHJ5R3JvdXAuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveDsKCSAgICB9CgoJICAgIHZhciBib3ggPSB0aGlzLnRlbXA7CgkgICAgYm94LmNvcHkoYm91bmRpbmdCb3gpOyAvLyBib3guYXBwbHlNYXRyaXg0KHNjZW5lLmdldE1hdHJpeEdsb2JhbCgpKTsKCgkgICAgdmFyIGNlbnRlciA9IGJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSk7CgkgICAgdmFyIHBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uOwoJICAgIHZhciBuZXdQb3MgPSBwb3NpdGlvbi5jbG9uZSgpLnN1YihjZW50ZXIpOwoJICAgIHZhciBsZW5ndGggPSBuZXdQb3MubGVuZ3RoKCk7CgkgICAgdmFyIGRpYWdvbmFsID0gYm94LmdldFNpemUobmV3IFRIUkVFLlZlY3RvcjMoKSkubGVuZ3RoKCk7IC8v5Yik5pat55u45py65piv5ZCm5Zyo5YyF5Zu055uS5YaF6YOoCgoJICAgIHZhciBtaW5OZWFyID0gdGhpcy5nZXRTY2VuZSgpLmdldEJvdW5kaW5nQm94V29ybGQoKS5nZXRTaXplKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmxlbmd0aCgpID4gMTAwMCA/IDEgOiAwLjE7CgkgICAgdmFyIGNvbnRhaW5zUG9pbnQgPSBib3guY29udGFpbnNQb2ludChwb3NpdGlvbik7CgkgICAgdmFyIG5lYXIgPSBjYW1lcmEubmVhcjsKCSAgICB2YXIgZmFyID0gY2FtZXJhLmZhcjsgLy8gaWYgKGNvbnRhaW5zUG9pbnQpIHsKCSAgICAvLyAgICAgbmVhciA9IG1pbk5lYXI7CgkgICAgLy8gICAgIGZhciA9ICBkaWFnb25hbCoyOwoJICAgIC8vIH0gZWxzZSB7CgkgICAgLy8gICAgIC8vIG5lYXIgPSBsZW5ndGggLSBkaWFnb25hbC8yOwoJICAgIC8vICAgICBuZWFyID0gbGVuZ3RoIC8gMjsKCSAgICAvLyAgICAgZmFyID0gbGVuZ3RoICsgZGlhZ29uYWw7CgkgICAgLy8gfQoJICAgIC8vIGlmIChuZWFyIDw9IDApIHsKCSAgICAvLyAgICAgbmVhciA9IG1pbk5lYXI7CgkgICAgLy8gfQoKCSAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuY29udGFpbnNDYW1lcmEgfHwgIXRoaXMuZW5hYmxlQ2FtZXJhTmVhckZhcikgewoJICAgICAgZmFyID0gbGVuZ3RoICsgZGlhZ29uYWw7CgoJICAgICAgaWYgKGNhbWVyYS5pc1BlcnNwZWN0aXZlKSB7CgkgICAgICAgIG5lYXIgPSBtaW5OZWFyOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgbmVhciA9IC1mYXI7CgkgICAgICB9CgkgICAgfSBlbHNlIHsKCSAgICAgIHZhciByYWRpdXMgPSAwLjUgKiBkaWFnb25hbDsKCSAgICAgIGZhciA9IGxlbmd0aCArIHJhZGl1czsKCgkgICAgICBpZiAoY2FtZXJhLmlzUGVyc3BlY3RpdmUpIHsKCSAgICAgICAgdmFyIGRlbHRhID0gMC4wMDE7CgkgICAgICAgIG5lYXIgPSAobGVuZ3RoICogbGVuZ3RoICsgbGVuZ3RoICogZGVsdGEpIC8gKCgxIDw8IDI0KSAqIGRlbHRhKTsgLy8gZmFyID0gbGVuZ3RoICsgZGlhZ29uYWw7CgoJICAgICAgICBpZiAobGVuZ3RoICsgbmVhciA+IHJhZGl1cyAmJiBuZWFyICsgcmFkaXVzID4gbGVuZ3RoKSB7CgkgICAgICAgICAgbmVhciA9IGxlbmd0aCAvIDIgLSByYWRpdXM7CgkgICAgICAgIH0KCgkgICAgICAgIGlmIChuZWFyID4gbGVuZ3RoIC0gZGlhZ29uYWwgLyAyKSB7CgkgICAgICAgICAgbmVhciA9IGxlbmd0aCAtIGRpYWdvbmFsIC8gMjsKCSAgICAgICAgfQoKCSAgICAgICAgaWYgKG5lYXIgPD0gMCkgewoJICAgICAgICAgIG5lYXIgPSBtaW5OZWFyOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICBuZWFyID0gLWZhcjsKCSAgICAgIH0KCSAgICB9CgoJICAgIGlmIChjb250YWluc1BvaW50KSB7CgkgICAgICBpZiAobmVhciA+IG1pbk5lYXIpIHsKCSAgICAgICAgbmVhciA9IG1pbk5lYXI7CgkgICAgICB9CgoJICAgICAgZmFyID0gZGlhZ29uYWwgKiAyOwoJICAgIH0KCgkgICAgbmVhciA9IDAuMDAxOwoJICAgIGZhciA9IGZhciAqIDU7CgkgICAgY2FtZXJhLnNldE5lYXJGYXIobmVhciwgZmFyKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmtYvph4/ph43orr7pgInkuK3nmoTpopzoibIKCSAgICogY29sb3I6MHhYWFhYWFgsb3BhY2l0eTowLTEKCSAgICovCgkgIHJlc2V0U2VsZWN0aW9uQ29sb3I6IGZ1bmN0aW9uIHJlc2V0U2VsZWN0aW9uQ29sb3IoY29sb3IsIG9wYWNpdHkpIHsKCSAgICB2YXIgc2NlbmVTdGF0ZSA9IHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGU7CgkgICAgc2NlbmVTdGF0ZS5zZXRTZWxlY3Rpb25Db2xvcihjb2xvciwgb3BhY2l0eSk7CgkgIH0sCgoJICAvKioKCSAgICog6K6h566X5Lik5Liq5p6E5Lu25LmL6Ze055qE5pyA5bCP6Led56a7CgkgICAqLwoJICBjYWxjdWxhdGVNaW5EaXN0YW5jZTogZnVuY3Rpb24gY2FsY3VsYXRlTWluRGlzdGFuY2UodXNlcklkMSwgdXNlcklkMikgewoJICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU1pbk1heERpc2ZvckJveGVzKGEsIGIpIHsKCSAgICAgIHZhciBtaW5TcURpcyA9IDA7CgkgICAgICB2YXIgbWF4U3FEaXMgPSAwOwoKCSAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7CgkgICAgICAgIHZhciBhTWluID0gYS5taW4uZ2V0Q29tcG9uZW50KGkpOwoJICAgICAgICB2YXIgYU1heCA9IGEubWF4LmdldENvbXBvbmVudChpKTsKCSAgICAgICAgdmFyIGJNaW4gPSBiLm1pbi5nZXRDb21wb25lbnQoaSk7CgkgICAgICAgIHZhciBiTWF4ID0gYi5tYXguZ2V0Q29tcG9uZW50KGkpOwoJICAgICAgICB2YXIgZCA9IDA7CgoJICAgICAgICBpZiAoYU1pbiA+IGJNYXgpIHsKCSAgICAgICAgICBkID0gYU1pbiAtIGJNYXg7CgkgICAgICAgIH0gZWxzZSBpZiAoYU1heCA8IGJNaW4pIHsKCSAgICAgICAgICBkID0gYk1pbiAtIGFNYXg7CgkgICAgICAgIH0KCgkgICAgICAgIG1pblNxRGlzICs9IGQgKiBkOwoJICAgICAgICB2YXIgbWF4RCA9IE1hdGgubWF4KGJNYXgsIGFNYXgpIC0gTWF0aC5taW4oYU1pbiwgYk1pbik7CgkgICAgICAgIG1heFNxRGlzICs9IG1heEQgKiBtYXhEOwoJICAgICAgfQoKCSAgICAgIHJldHVybiB7CgkgICAgICAgIG1pbkRpczogTWF0aC5zcXJ0KG1pblNxRGlzKSwKCSAgICAgICAgbWF4RGlzOiBNYXRoLnNxcnQobWF4U3FEaXMpCgkgICAgICB9OwoJICAgIH0KCgkgICAgdmFyIHZBID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsKCSAgICB2YXIgdkIgPSBuZXcgVEhSRUUuVmVjdG9yMygpOwoJICAgIHZhciB2QyA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CgoJICAgIGZ1bmN0aW9uIGdldFRyaSh0cmksIHBvc2l0aW9uLCBhLCBiLCBjLCBpbnN0YW5jZU1hdHJpeCkgewoJICAgICAgdkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbiwgYSk7CgkgICAgICB2Qi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLCBiKTsKCSAgICAgIHZDLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24sIGMpOwoKCSAgICAgIGlmIChpbnN0YW5jZU1hdHJpeCkgewoJICAgICAgICB2QS5hcHBseU1hdHJpeDQoaW5zdGFuY2VNYXRyaXgpOwoJICAgICAgICB2Qi5hcHBseU1hdHJpeDQoaW5zdGFuY2VNYXRyaXgpOwoJICAgICAgICB2Qy5hcHBseU1hdHJpeDQoaW5zdGFuY2VNYXRyaXgpOwoJICAgICAgfQoKCSAgICAgIHRyaS5wdXNoKHZBKTsKCSAgICAgIHRyaS5wdXNoKHZCKTsKCSAgICAgIHRyaS5wdXNoKHZDKTsKCSAgICB9CgoJICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU1pbkRpc0JldHdlZW5NZXNoZXMocmF5SW50ZXJzZWN0LCBvYmplY3RJbnRlcnNlY3QsIGZpbmFsTWluRGlzKSB7CgkgICAgICB2YXIgcmVzdWx0ID0gewoJICAgICAgICBzdGFydDogbnVsbCwKCSAgICAgICAgZW5kOiBudWxsLAoJICAgICAgICBtaW5EaXN0YW5jZTogZmluYWxNaW5EaXMKCSAgICAgIH07CgkgICAgICB2YXIgcmF5TWVzaCA9IHJheUludGVyc2VjdC5tZXNoOwoJICAgICAgdmFyIHJheUluZGV4SW5mbyA9IHJheUludGVyc2VjdC5pbmRleEluZm87CgkgICAgICB2YXIgcmF5SW5zdGFuY2VNYXRyaXggPSByYXlJbnRlcnNlY3QubWF0cml4OwoJICAgICAgdmFyIHJheUdlb21ldHJ5ID0gcmF5TWVzaC5nZW9tZXRyeTsKCSAgICAgIHZhciByYXlQb3NpdGlvbiA9IHJheUdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247CgkgICAgICB2YXIgcmF5QmVnaW5JbmRleCA9IHJheUluZGV4SW5mbyA/IHJheUluZGV4SW5mby5pbmRleFN0YXJ0IDogMDsKCSAgICAgIHZhciByYXlJbmRleEFycmF5ID0gcmF5R2VvbWV0cnkuZ2V0SW5kZXgoKS5hcnJheTsKCSAgICAgIHZhciByYXlFbmRJbmRleCA9IHJheUluZGV4SW5mbyA/IHJheUluZGV4SW5mby5pbmRleFN0YXJ0ICsgcmF5SW5kZXhJbmZvLmluZGV4Q291bnQgOiByYXlJbmRleEFycmF5Lmxlbmd0aDsKCSAgICAgIHZhciBvYk1lc2ggPSBvYmplY3RJbnRlcnNlY3QubWVzaDsKCSAgICAgIHZhciBvYkluZGV4SW5mbyA9IG9iamVjdEludGVyc2VjdC5pbmRleEluZm87CgkgICAgICB2YXIgb2JJbnN0YW5jZU1hdHJpeCA9IG9iamVjdEludGVyc2VjdC5tYXRyaXg7CgkgICAgICB2YXIgYSwgYiwgYzsgLy9jb21wdXRlIGV2ZXJ5IGJvdW5kaW5nQm94IG9mIHRyaWFuZ2xlIGNvc3QgbW9yZSB0aW1lCgoJICAgICAgZm9yICh2YXIgaSA9IHJheUJlZ2luSW5kZXgsIGxlbiA9IHJheUVuZEluZGV4OyBpIDwgbGVuOyBpICs9IDMpIHsKCSAgICAgICAgYSA9IHJheUluZGV4QXJyYXlbaV07CgkgICAgICAgIGIgPSByYXlJbmRleEFycmF5W2kgKyAxXTsKCSAgICAgICAgYyA9IHJheUluZGV4QXJyYXlbaSArIDJdOwoJICAgICAgICB2YXIgdHJpUyA9IFtdOwoJICAgICAgICBnZXRUcmkodHJpUywgcmF5UG9zaXRpb24sIGEsIGIsIGMsIHJheUluc3RhbmNlTWF0cml4KTsKCSAgICAgICAgdmFyIHRlbXBSZXN1bHQgPSBvYk1lc2gubWluRGlzdGFuY2VUb1RyaSh0cmlTLCBvYkluZGV4SW5mbywgb2JJbnN0YW5jZU1hdHJpeCk7CgoJICAgICAgICBpZiAodGVtcFJlc3VsdC5taW5EaXN0YW5jZSA8IHJlc3VsdC5taW5EaXN0YW5jZSkgewoJICAgICAgICAgIHJlc3VsdC5taW5EaXN0YW5jZSA9IHRlbXBSZXN1bHQubWluRGlzdGFuY2U7CgkgICAgICAgICAgcmVzdWx0LnN0YXJ0ID0gdGVtcFJlc3VsdC5zdGFydDsKCSAgICAgICAgICByZXN1bHQuZW5kID0gdGVtcFJlc3VsdC5lbmQ7CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH0KCgkgICAgdmFyIG1pbkRpc3RhbmNlT2JqZWN0cyA9IHRoaXMubW9kZWxNYW5hZ2VyLmdldE1pbkRpc3RhbmNlT2JqZWN0cyh1c2VySWQxLCB1c2VySWQyKTsKCgkgICAgaWYgKCFtaW5EaXN0YW5jZU9iamVjdHMpIHsKCSAgICAgIHJldHVybiAtMTsKCSAgICB9CgoJICAgIHZhciBvYmplY3RzID0gW107CgkgICAgdmFyIHJlc3VsdCA9IHsKCSAgICAgIHN0YXJ0OiBudWxsLAoJICAgICAgZW5kOiBudWxsLAoJICAgICAgbWluRGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWQoJICAgIH07CgoJICAgIGZvciAodmFyIHVpZCBpbiBtaW5EaXN0YW5jZU9iamVjdHMpIHsKCSAgICAgIG9iamVjdHMucHVzaChtaW5EaXN0YW5jZU9iamVjdHNbdWlkXSk7CgkgICAgfQoKCSAgICBpZiAob2JqZWN0c1swXS5sZW5ndGggPCAxIHx8IG9iamVjdHNbMV0ubGVuZ3RoIDwgMSkgewoJICAgICAgcmV0dXJuIC0xOwoJICAgIH0KCgkgICAgdmFyIHJheU9iamVjdCA9IG9iamVjdHNbMF07CgkgICAgdmFyIG9iamVjdCA9IG9iamVjdHNbMV07CgkgICAgdmFyIHJheUxlbiA9IHJheU9iamVjdC5sZW5ndGg7CgkgICAgdmFyIG9iamVjdExlbiA9IG9iamVjdC5sZW5ndGg7IC8vb3B0aW1pemUgYnkgYm91bmRpbmdib3jvvJpmaXJzdCBjYWxjdWxhdGUgbWluaW11biBtYXhEaXMsdGhlbiBvdXQgbWVzaGVzIHdob3NlIGJvdW5kaW5nQm94cycgbWluaW11biBkaXN0YW5jZSBhcmUgbGFyZ2VyIHRoYW4gbWludW11biBtYXhEaXMKCgkgICAgdmFyIGRpc3RSYW5nZU9mQm94ID0gbnVsbDsKCSAgICB2YXIgbWluTWF4RGlzID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOwoKCSAgICBpZiAocmF5TGVuID4gMSB8fCBvYmplY3RMZW4gPiAxKSB7CgkgICAgICBkaXN0UmFuZ2VPZkJveCA9IHt9OwoKCSAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF5TGVuOyBpICs9IDEpIHsKCSAgICAgICAgdmFyIGludGVyc2VjdDAgPSByYXlPYmplY3RbaV07CgoJICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iamVjdExlbjsgaiArPSAxKSB7CgkgICAgICAgICAgdmFyIGludGVyc2VjdDEgPSBvYmplY3Rbal07CgkgICAgICAgICAgdmFyIGRpc3RSYW5nZSA9IGNhbGN1bGF0ZU1pbk1heERpc2ZvckJveGVzKGludGVyc2VjdDAuYm91bmRpbmdCb3gsIG9iamVjdFtqXS5ib3VuZGluZ0JveCk7CgkgICAgICAgICAgbWluTWF4RGlzID0gbWluTWF4RGlzIDwgZGlzdFJhbmdlLm1heERpcyA/IG1pbk1heERpcyA6IGRpc3RSYW5nZS5tYXhEaXM7CgkgICAgICAgICAgZGlzdFJhbmdlT2ZCb3hbaSArICJfIiArIGpdID0gZGlzdFJhbmdlOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJheUxlbjsgaSArPSAxKSB7CgkgICAgICB2YXIgaW50ZXJzZWN0MCA9IHJheU9iamVjdFtpXTsKCgkgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iamVjdExlbjsgaiArPSAxKSB7CgkgICAgICAgIGlmIChkaXN0UmFuZ2VPZkJveCkgewoJICAgICAgICAgIHZhciBtaW5Cb3hEaXMgPSBkaXN0UmFuZ2VPZkJveFtpICsgIl8iICsgal0ubWluRGlzOwoKCSAgICAgICAgICBpZiAobWluQm94RGlzID4gbWluTWF4RGlzIHx8IG1pbkJveERpcyA+IHJlc3VsdC5taW5EaXN0YW5jZSkgewoJICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgfQoJICAgICAgICB9CgoJICAgICAgICB2YXIgaW50ZXJzZWN0MSA9IG9iamVjdFtqXTsKCSAgICAgICAgdmFyIHRlbXBSZXN1bHQgPSBjYWxjdWxhdGVNaW5EaXNCZXR3ZWVuTWVzaGVzKGludGVyc2VjdDAsIGludGVyc2VjdDEsIHJlc3VsdC5taW5EaXN0YW5jZSk7CgoJICAgICAgICBpZiAodGVtcFJlc3VsdC5taW5EaXN0YW5jZSA8IHJlc3VsdC5taW5EaXN0YW5jZSkgewoJICAgICAgICAgIHJlc3VsdC5taW5EaXN0YW5jZSA9IHRlbXBSZXN1bHQubWluRGlzdGFuY2U7CgkgICAgICAgICAgcmVzdWx0LnN0YXJ0ID0gdGVtcFJlc3VsdC5zdGFydDsKCSAgICAgICAgICByZXN1bHQuZW5kID0gdGVtcFJlc3VsdC5lbmQ7CgkgICAgICAgIH0KCgkgICAgICAgIGlmIChyZXN1bHQubWluRGlzdGFuY2UgPT09IDApIHsKCSAgICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoKCSAgICBkaXN0UmFuZ2VPZkJveCA9IG51bGw7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfSwKCgkgIC8qKgoJICAgKiAg5rOo5YaMRG9t5LqL5Lu2CgkgICAqCgkgICAqLwoJICByZWdpc3RlckRvbUV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiByZWdpc3RlckRvbUV2ZW50TGlzdGVuZXJzKCkgewoJICAgIGlmICh0aGlzLmRvbUVsZW1lbnQpIHsKCSAgICAgIHRoaXMuY29udHJvbE1hbmFnZXIucmVnaXN0ZXJEb21FdmVudExpc3RlbmVycyh0aGlzLmRvbUVsZW1lbnQpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiAg5Y+W5raIRG9t5LqL5Lu2CgkgICAqCgkgICAqLwoJICB1bnJlZ2lzdGVyRG9tRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uIHVucmVnaXN0ZXJEb21FdmVudExpc3RlbmVycygpIHsKCSAgICBpZiAodGhpcy5kb21FbGVtZW50KSB7CgkgICAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLnVucmVnaXN0ZXJEb21FdmVudExpc3RlbmVycyh0aGlzLmRvbUVsZW1lbnQpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiAg5rOo5YaM5qih5Z6L5LqL5Lu255uR5ZCs5ZmoCgkgICAqCgkgICAqLwoJICByZWdpc3RlckV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spOwoJICB9LAoJICB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gdW5yZWdpc3RlckV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTsKCSAgfSwKCSAgcmVnaXN0ZXJDYW1lcmFFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZWdpc3RlckNhbWVyYUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHsKCSAgICB0aGlzLmNhbWVyYUNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7CgkgIH0sCgkgIHVucmVnaXN0ZXJDYW1lcmFFdmVudExpc3RlbmVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyQ2FtZXJhRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykgewoJICAgIHRoaXMuY2FtZXJhQ29udHJvbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTsKCSAgfSwKCSAgcmVnaXN0ZXJEb21FdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZWdpc3RlckRvbUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHsKCSAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spOwoJICB9LAoJICB1bnJlZ2lzdGVyRG9tRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gdW5yZWdpc3RlckRvbUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHsKCSAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spOwoJICB9LAoKCSAgLyoqCgkgICAqIOWKoOi9veaooeWeiwoJICAgKiBAbWV0aG9kIGxvYWQKCSAgICogQHBhcmFtIHtTdHJpbmd9IFtwYXJhbWV0ZXJzLm1vZGVsS2V5XSAtIOaooeWei2tleQoJICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcmFtZXRlcnMuc2VydmVyVXJsXSAtIOacjeWKoeWZqOWcsOWdgAoJICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwYXJhbWV0ZXJzLm5vdGlmeVByb2dyZXNzXSAtIOaYr+WQpumAmuefpeWKoOi9vei/m+W6pu+8jOm7mOiupHRydWUKCSAgICovCgkgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQocGFyYW1ldGVycykgewoJICAgIHZhciBzY29wZSA9IHRoaXM7CgkgICAgcmV0dXJuIHRoaXMubW9kZWxNYW5hZ2VyLmxvYWQocGFyYW1ldGVycywgZnVuY3Rpb24gKCkgewoJICAgICAgaWYgKHNjb3BlLl91c2VCYXRjaE1lcmdlID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgc2NvcGUuX3VzZUJhdGNoTWVyZ2UgPSBzY29wZS5tb2RlbE1hbmFnZXIuc2hvdWxkVXNlQmF0Y2hSZW5kZXJpbmcoKTsKCSAgICAgICAgR2xvYmFsRGF0YS5NZXJnZUNvbXBvbmVudCA9IHNjb3BlLl91c2VCYXRjaE1lcmdlOwoKCSAgICAgICAgc2NvcGUuX3NldHVwUmVuZGVyZXIoKTsKCSAgICAgIH0KCSAgICB9LCBmdW5jdGlvbiAobW9kZWwpIHsKCSAgICAgIHNjb3BlLm1vZGVsTWFuYWdlci51cGRhdGVTY2VuZSgpOyAvLwoKCSAgICAgIHNjb3BlLm1vZGVsTWFuYWdlci51cGRhdGVNZXNoTm9kZXMoKTsKCSAgICAgIHZhciBmaWx0ZXIgPSBzY29wZS5tb2RlbE1hbmFnZXIuZmlsdGVyOwoJICAgICAgdmFyIG5vZGVJbmZvcyA9IHNjb3BlLm1vZGVsTWFuYWdlci5nZXROb2RlSW5mb3MoKTsKCSAgICAgIGZpbHRlci5pbml0RmlsdGVyTWFuYWdlcihub2RlSW5mb3MpOyAvL2lmKEdsb2JhbERhdGEuSGFzTGF5ZXJEYXRhKXsKCSAgICAgIC8vICAgIHNjb3BlLmdldEZpbHRlcigpLmhpZGVBbGwoKTsKCSAgICAgIC8vfQoKCSAgICAgIGxvZ2dlciQxLnRpbWUoIlJlbmRlcmluZzogIik7IC8vIHVzZXIgbWlnaHQgZG8gc29tZXRoaW5nIHdoZW4gZmluaXNoaW5nIGxvYWRpbmcgbW9kZWwsCgkgICAgICAvLyBoZXJlIG1ha2UgZGVmYXVsdCByZW5kZXIgY2FsbCBhZnRlciB1c2VyJ3MgY3VzdG9taXphdGlvbi4KCSAgICAgIC8vIGN1c3RvbWl6ZWQgY2FtZXJhIHNldHRpbmcgLHNob3VsZCBkaXJ0eSB0aGUgY2FtZXJhLgoKCSAgICAgIHNjb3BlLmNhbWVyYS5kaXJ0eSA9IHRydWU7CgoJICAgICAgaWYgKHNjb3BlLmNhbWVyYS5kaXJ0eSkgewoJICAgICAgICBzY29wZS5yZW5kZXIoKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHNjb3BlLmdvVG9Jbml0aWFsVmlldygpOwoJICAgICAgICBzY29wZS56b29tQWxsKCk7CgkgICAgICB9CgoJICAgICAgbW9kZWwuZGlzcGF0Y2hFdmVudEV4KHsKCSAgICAgICAgdHlwZTogRVZFTlRTLk9OX0xPQURfQ09NUExFVEUKCSAgICAgIH0pOwoJICAgICAgbG9nZ2VyJDEudGltZUVuZCgiUmVuZGVyaW5nOiAiKTsKCSAgICB9KTsKCSAgfSwKCgkgIC8qKgoJICAgKiDljbjovb3mqKHlnosKCSAgICogQG1ldGhvZCB1bmxvYWQKCSAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGVsS2V5IC0g5qih5Z6LS2V5CgkgICAqLwoJICB1bmxvYWQ6IGZ1bmN0aW9uIHVubG9hZChtb2RlbEtleSkgewoJICAgIHZhciBzdWNjZXNzID0gdGhpcy5tb2RlbE1hbmFnZXIudW5sb2FkKG1vZGVsS2V5KTsKCgkgICAgaWYgKHN1Y2Nlc3MpIHsKCSAgICAgIGlmICghR2xvYmFsRGF0YS5Vc2VyQ29udHJvbFZpZXcpIHsKCSAgICAgICAgdGhpcy56b29tQWxsKCk7CgkgICAgICB9CgoJICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5Y246L295omA5pyJ5qih5Z6LCgkgICAqIEBtZXRob2QgdW5sb2FkQWxsCgkgICAqLwoJICB1bmxvYWRBbGw6IGZ1bmN0aW9uIHVubG9hZEFsbCgpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci51bmxvYWRBbGwoKTsKCSAgICB0aGlzLnJlbmRlcigpOwoJICB9LAoKCSAgLyoqCgkgICAqIOaYvuekuuaMh+WumuaooeWeiwoJICAgKiBAbWV0aG9kIHNob3dNb2RlbAoJICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZWxLZXkgLSDmqKHlnotLZXkKCSAgICovCgkgIHNob3dNb2RlbDogZnVuY3Rpb24gc2hvd01vZGVsKG1vZGVsS2V5KSB7CgkgICAgdmFyIHN1Y2Nlc3MgPSB0aGlzLm1vZGVsTWFuYWdlci5zaG93TW9kZWwobW9kZWxLZXkpOwoKCSAgICBpZiAoc3VjY2VzcykgewoJICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6ZqQ6JeP5oyH5a6a5qih5Z6LCgkgICAqIEBtZXRob2QgaGlkZU1vZGVsCgkgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RlbEtleSAtIOaooeWei+WMheWQjQoJICAgKi8KCSAgaGlkZU1vZGVsOiBmdW5jdGlvbiBoaWRlTW9kZWwobW9kZWxLZXkpIHsKCSAgICB2YXIgc3VjY2VzcyA9IHRoaXMubW9kZWxNYW5hZ2VyLmhpZGVNb2RlbChtb2RlbEtleSk7CgoJICAgIGlmIChzdWNjZXNzKSB7CgkgICAgICB0aGlzLnJlbmRlcigpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDpmpDol4/miJbmmL7npLrmqKHlnosKCSAgICogQG1ldGhvZCBzaG93U2NlbmUKCSAgICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIC0g5qih5Z6L5a+56LGhCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYlZpc2libGUgLSDmmK/lkKblj6/op4EKCSAgICovCgkgIHNob3dTY2VuZTogZnVuY3Rpb24gc2hvd1NjZW5lKG1vZGVsLCBiVmlzaWJsZSkgewoJICAgIGlmIChtb2RlbCkgewoJICAgICAgbW9kZWwuc2V0VmlzaWJsZShiVmlzaWJsZSk7CgkgICAgICB0aGlzLnJlbmRlcigpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmuIXpmaTlnLrmma/mlbDmja4KCSAgICoKCSAgICovCgkgIGNsZWFyQWxsOiBmdW5jdGlvbiBjbGVhckFsbCgpIHsKCSAgICB0aGlzLmdldFNjZW5lKCkuY2xlYXJBbGwoKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDojrflvpflnLrmma/lr7nosaEKCSAgICoKCSAgICovCgkgIGdldFNjZW5lOiBmdW5jdGlvbiBnZXRTY2VuZSgpIHsKCSAgICByZXR1cm4gdGhpcy5tb2RlbE1hbmFnZXIuc2NlbmU7CgkgIH0sCgkgIGdldENhcHNTY2VuZTogZnVuY3Rpb24gZ2V0Q2Fwc1NjZW5lKCkgewoJICAgIHJldHVybiB0aGlzLm1vZGVsTWFuYWdlci5jYXBzU2NlbmU7CgkgIH0sCgoJICAvKioKCSAgICog6I635b6X5Lqk5LqS566h55CG5a+56LGhCgkgICAqLwoJICBnZXRDb250cm9sTWFuYWdlcjogZnVuY3Rpb24gZ2V0Q29udHJvbE1hbmFnZXIoKSB7CgkgICAgcmV0dXJuIHRoaXMuY29udHJvbE1hbmFnZXI7CgkgIH0sCgoJICAvKioKCSAgICog6I635b6X6L+H5ruk5Zmo5a+56LGhCgkgICAqCgkgICAqLwoJICBnZXRGaWx0ZXI6IGZ1bmN0aW9uIGdldEZpbHRlcigpIHsKCSAgICByZXR1cm4gdGhpcy5maWx0ZXI7CgkgIH0sCgoJICAvKioKCSAgICog6I635b6X5b2T5YmNIENvbnRyb2wg5ZCN5a2X5qCH6K+GCgkgICAqCgkgICAqIEByZXR1cm4ge1N0cmluZ30gQ29udHJvbCDlkI3lrZfmoIfor4YKCSAgICovCgkgIGdldEN1cnJlbnRDb250cm9sTmFtZTogZnVuY3Rpb24gZ2V0Q3VycmVudENvbnRyb2xOYW1lKCkgewoJICAgIHJldHVybiB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldEN1cnJlbnRDb250cm9sTmFtZSgpOwoJICB9LAoKCSAgLyoqCgkgICAqIOiOt+W+lyBDb250cm9sIOaooeW8jwoJICAgKgoJICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDb250cm9sIOaooeW8jwoJICAgKi8KCSAgZ2V0Q3VycmVudENvbnRyb2xNb2RlOiBmdW5jdGlvbiBnZXRDdXJyZW50Q29udHJvbE1vZGUoKSB7CgkgICAgcmV0dXJuIHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0Q3VycmVudENvbnRyb2xNb2RlKCk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572uIENvbnRyb2wg5qih5byPCgkgICAqCgkgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gQ29udHJvbCDlkI3lrZfmoIfor4Yge0BsaW5rIENvbnRyb2xNb2RlfQoJICAgKi8KCSAgc2V0Q29udHJvbE1vZGU6IGZ1bmN0aW9uIHNldENvbnRyb2xNb2RlKG5hbWUpIHsKCSAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLnNldENvbnRyb2xNb2RlKHRoaXMsIG5hbWUpOwoJICAgIHRoaXMucmVuZGVyKCk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u57y655yB55qEQ29udHJvbOaooeW8j++8iOahhumAieaooeW8jyAtIFJlY3RQaWNrIENvbnRyb2zvvIkKCSAgICoKCSAgICovCgkgIHNldENvbnRyb2xEZWZhdWx0OiBmdW5jdGlvbiBzZXRDb250cm9sRGVmYXVsdCgpIHsKCSAgICB0aGlzLnNldENvbnRyb2xNb2RlKENvbnRyb2xNb2RlLlBJQ0spOwoJICB9LAoKCSAgLyoqCgkgICAqIOiOt+W+l+WcuuaZr+WMheWbtOebkijlj5jmjaLliY0pCgkgICAqCgkgICAqIEByZXR1cm4ge1RIUkVFLkJveDN9IOWcuuaZr+WMheWbtOebkgoJICAgKi8KCSAgZ2V0Qm91bmRpbmdCb3hXb3JsZDogZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3hXb3JsZCgpIHsKCSAgICByZXR1cm4gdGhpcy5nZXRTY2VuZSgpLmdldEJvdW5kaW5nQm94V29ybGQoKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDojrflvpflnLrmma/ljIXlm7Tnm5Io5Y+Y5o2i5ZCOKQoJICAgKgoJICAgKiBAcmV0dXJuIHtUSFJFRS5Cb3gzfSDlnLrmma/ljIXlm7Tnm5IKCSAgICovCgkgIGdldEJvdW5kaW5nQm94OiBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveCgpIHsKCSAgICByZXR1cm4gdGhpcy5nZXRTY2VuZSgpLmdldEJvdW5kaW5nQm94KCk7CgkgIH0sCgkgIGdldE1vZGVsOiBmdW5jdGlvbiBnZXRNb2RlbChpZCkgewoJICAgIHZhciBtb2RlbCA9IHRoaXMubW9kZWxNYW5hZ2VyLmdldE1vZGVsKGlkKTsKCSAgICByZXR1cm4gbW9kZWw7CgkgIH0sCgkgIGdldE1vZGVsTWFuYWdlcjogZnVuY3Rpb24gZ2V0TW9kZWxNYW5hZ2VyKCkgewoJICAgIHJldHVybiB0aGlzLm1vZGVsTWFuYWdlcjsKCSAgfSwKCSAgc2V0TW9kZWxNYXRyaXg6IGZ1bmN0aW9uIHNldE1vZGVsTWF0cml4KG1hdHJpeCwgbW9kZWxLZXkpIHsKCSAgICB2YXIgbW9kZWwgPSB0aGlzLmdldE1vZGVsKG1vZGVsS2V5KTsKCgkgICAgaWYgKG1vZGVsKSB7CgkgICAgICBtb2RlbC5zZXRNb2RlbE1hdHJpeChtYXRyaXgpOwoJICAgIH0KCSAgfSwKCSAgZ2V0TW9kZWxNYXRyaXg6IGZ1bmN0aW9uIGdldE1vZGVsTWF0cml4KG1vZGVsS2V5KSB7CgkgICAgdmFyIG1hdHJpeCA9IG51bGw7CgkgICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbChtb2RlbEtleSk7CgoJICAgIGlmIChtb2RlbCkgewoJICAgICAgbWF0cml4ID0gbW9kZWwuZ2V0TW9kZWxNYXRyaXgoKTsKCSAgICB9CgoJICAgIHJldHVybiBtYXRyaXg7CgkgIH0sCgkgIG92ZXJ0dXJuWUFuZFpheGlzOiBmdW5jdGlvbiBvdmVydHVybllBbmRaYXhpcyhtb2RlbEtleSkgewoJICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwobW9kZWxLZXkpOwoKCSAgICBpZiAobW9kZWwpIHsKCSAgICAgIG1vZGVsLm92ZXJ0dXJuWUFuZFpheGlzKCk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOaUvuWkpwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZmFjdG9yIC0g5pS+5aSn5Zug5a2QCgkgICAqLwoJICB6b29tSW46IGZ1bmN0aW9uIHpvb21JbihmYWN0b3IpIHsKCSAgICBpZiAoZmFjdG9yID09PSB1bmRlZmluZWQpIHsKCSAgICAgIGZhY3RvciA9IDAuMTsKCSAgICB9CgoJICAgIGlmIChmYWN0b3IgPCAwKSB7CgkgICAgICBmYWN0b3IgPSAwOwoJICAgIH0KCgkgICAgdGhpcy5jYW1lcmFDb250cm9sLnpvb20oZmFjdG9yKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDnvKnlsI8KCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IGZhY3RvciAtIOe8qeWwj+WboOWtkAoJICAgKi8KCSAgem9vbU91dDogZnVuY3Rpb24gem9vbU91dChmYWN0b3IpIHsKCSAgICBpZiAoZmFjdG9yID09PSB1bmRlZmluZWQpIHsKCSAgICAgIGZhY3RvciA9IDAuMTsKCSAgICB9CgoJICAgIGlmIChmYWN0b3IgPiAwKSB7CgkgICAgICBmYWN0b3IgKj0gLTE7CgkgICAgfSBlbHNlIHsKCSAgICAgIGZhY3RvciA9IDA7CgkgICAgfSAvLyDnvKnlsI/vvIxmYWN0b3IgPCAwCgoKCSAgICB0aGlzLmNhbWVyYUNvbnRyb2wuem9vbShmYWN0b3IpOwoJICB9LAoKCSAgLyoqCgkgICAqIOe8qeaUvuWIsOWcuuaZr+WMheWbtOebkuWkp+WwjwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gbWFyZ2luIC0g5YyF5Zu055uS57yp5pS+5q+U5L6LLCDnvLrnnIHlgLw6IDAuMCwgbWFyZ2luID4gMCDmqKHlnovnvKnlsI/vvIjljIXlm7Tnm5Llj5jlpKfvvInvvIxtYXJnaW4gPCAwIOaooeWei+aUvuWkp++8iOWMheWbtOebkuWPmOWwj++8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW8gLSDnm7jmnLrkuI7kuK3lv4Pot53nprvnmoTmi4nkvLjmr5TkvossIOe8uuecgeWAvDogMS4wCgkgICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gZGlyZWN0aW9uIC0g55u45py66KeC5a+f5pa55ZCRCgkgICAqLwoJICB6b29tQWxsOiBmdW5jdGlvbiB6b29tQWxsKG1hcmdpbiwgcmF0aW8sIGRpcmVjdGlvbikgewoJICAgIHZhciBib3ggPSB0aGlzLmdldFNjZW5lKCkuZ2V0Qm91bmRpbmdCb3goKTsKCgkgICAgdGhpcy5fem9vbVRvTG9jYWxCb3goYm94LCBtYXJnaW4sIHJhdGlvLCBkaXJlY3Rpb24pOwoJICB9LAoKCSAgLyoqCgkgICAqIOe8qeaUvuWIsOWcuuaZr+WGhemDqOWMheWbtOebkuWkp+WwjwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gbWFyZ2luIC0g5YyF5Zu055uS57yp5pS+5q+U5L6LLCDnvLrnnIHlgLw6IDAuMCwgbWFyZ2luID4gMCDmqKHlnovnvKnlsI/vvIjljIXlm7Tnm5Llj5jlpKfvvInvvIxtYXJnaW4gPCAwIOaooeWei+aUvuWkp++8iOWMheWbtOebkuWPmOWwj++8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW8gLSDnm7jmnLrkuI7kuK3lv4Pot53nprvnmoTmi4nkvLjmr5TkvossIOe8uuecgeWAvDogMS4wCgkgICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gZGlyZWN0aW9uIC0g55u45py66KeC5a+f5pa55ZCRCgkgICAqLwoJICB6b29tVG9CdWlsZGluZzogZnVuY3Rpb24gem9vbVRvQnVpbGRpbmcobWFyZ2luLCByYXRpbywgZGlyZWN0aW9uKSB7CgkgICAgdGhpcy56b29tQWxsKG1hcmdpbiwgcmF0aW8sIGRpcmVjdGlvbik7CgkgIH0sCgoJICAvKioKCSAgICog57yp5pS+5Yiw6YCJ5Lit5p6E5Lu25YyF5Zu055uS5aSn5bCPCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXJnaW4gLSDljIXlm7Tnm5LnvKnmlL7mr5TkvossIOe8uuecgeWAvDogMC4wLCBtYXJnaW4gPiAwIOaooeWei+e8qeWwj++8iOWMheWbtOebkuWPmOWkp++8ie+8jG1hcmdpbiA8IDAg5qih5Z6L5pS+5aSn77yI5YyF5Zu055uS5Y+Y5bCP77yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyAtIOebuOacuuS4juS4reW/g+i3neemu+eahOaLieS8uOavlOS+iywg57y655yB5YC8OiAxLjAKCSAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBkaXJlY3Rpb24gLSDnm7jmnLrop4Llr5/mlrnlkJEKCSAgICovCgkgIHpvb21Ub1NlbGVjdGlvbjogZnVuY3Rpb24gem9vbVRvU2VsZWN0aW9uKG1hcmdpbiwgcmF0aW8sIGRpcmVjdGlvbikgewoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCSAgICB2YXIgc2NlbmVTdGF0ZSA9IHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGU7IC8vIHZhciBib3ggPSBzY2VuZS5nZXRCb3VuZGluZ0JveE9mR2VvbWV0cmllcyhzY2VuZVN0YXRlLmdldFNlbGVjdGlvbigpKTsKCgkgICAgdmFyIGJveCA9IHRoaXMuZ2V0Qm91bmRpbmdCb3hCeUlkcyhzY2VuZVN0YXRlLmdldFNlbGVjdGlvblNldCgpKTsKCgkgICAgaWYgKGJveC5pc0VtcHR5KCkpIHsKCSAgICAgIGJveCA9IHNjZW5lLmdldEJvdW5kaW5nQm94KCk7IC8vIHdvcmtzcGFjZQoJICAgIH0KCgkgICAgdGhpcy5fem9vbVRvTG9jYWxCb3goYm94LCBtYXJnaW4sIHJhdGlvLCBkaXJlY3Rpb24pOwoJICB9LAoKCSAgLyoqIEludGVybmFsIHVzZSBvbmx5ICovCgoJICAvKioKCSAgICog57yp5pS+5Yiw5oyH5a6a5YyF5Zu05YyF5Zu055uS5aSn5bCPCgkgICAqCgkgICAqIEBwYXJhbSB7VEhSRUUuQm94M30gYm94IC0g5YyF5Zu055uS77yI5bel5L2c5Yy65Z2Q5qCH57O777yM6Z2e5LiW55WM5Z2Q5qCH57O777yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXJnaW4gLSDljIXlm7Tnm5LnvKnmlL7mr5TkvossIOe8uuecgeWAvDogMC4wLCBtYXJnaW4gPiAwIOaooeWei+e8qeWwj++8iOWMheWbtOebkuWPmOWkp++8ie+8jG1hcmdpbiA8IDAg5qih5Z6L5pS+5aSn77yI5YyF5Zu055uS5Y+Y5bCP77yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyAtIOebuOacuuS4juS4reW/g+i3neemu+eahOaLieS8uOavlOS+iywg57y655yB5YC8OiAxLjAKCSAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBkaXJlY3Rpb24gLSDnm7jmnLrop4Llr5/mlrnlkJEKCSAgICovCgkgIF96b29tVG9Mb2NhbEJveDogZnVuY3Rpb24gX3pvb21Ub0xvY2FsQm94KGJveCwgbWFyZ2luLCByYXRpbywgZGlyZWN0aW9uKSB7CgkgICAgLy8gVE9ETzogem9vbVRvQm9455qE6L2s5Zy65Yqo55S75rKh5a6e546w77yI546w5Zyo55qEQ2FtZXJhQW5pbWF0b3Llj6rmmK/moLnmja7nm7jmnLpkaXLlkox1cOi/m+ihjOS6huaPkuWAvCnvvIzph43mnoTml7blrp7njrAKCSAgICAvLyBUT0RPOiByZWd1bGFpemUgY2FtZXJhIGFuZCBjYW1lcmFDb250cm9sJ3MgcmVzcG9uc2liaWxpdHkKCSAgICB0aGlzLmNhbWVyYS56b29tVG9Cb3goYm94LCBtYXJnaW4sIHJhdGlvLCBkaXJlY3Rpb24pOwoJICAgIHRoaXMuY2FtZXJhQ29udHJvbC51cGRhdGUodHJ1ZSwgdHJ1ZSk7CgkgIH0sCgoJICAvKioKCSAgICog57yp5pS+5Yiw5oyH5a6a5YyF5Zu05YyF5Zu055uS5aSn5bCPCgkgICAqCgkgICAqIEBwYXJhbSB7VEhSRUUuQm94M30gYm94IC0g5YyF5Zu055uS77yI5LiW55WM5Z2Q5qCH57O777yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXJnaW4gLSDljIXlm7Tnm5LnvKnmlL7mr5TkvossIOe8uuecgeWAvDogMC4wLCBtYXJnaW4gPiAwIOaooeWei+e8qeWwj++8iOWMheWbtOebkuWPmOWkp++8ie+8jG1hcmdpbiA8IDAg5qih5Z6L5pS+5aSn77yI5YyF5Zu055uS5Y+Y5bCP77yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyAtIOebuOacuuS4juS4reW/g+i3neemu+eahOaLieS8uOavlOS+iywg57y655yB5YC8OiAxLjAKCSAgICovCgkgIHpvb21Ub0JveDogZnVuY3Rpb24gem9vbVRvQm94KGJveCwgbWFyZ2luLCByYXRpbywgZGlyZWN0aW9uKSB7CgkgICAgdmFyIF9ib3VuZCA9IG5ldyBUSFJFRS5Cb3gzKCk7CgoJICAgIGlmICghYm94KSB7CgkgICAgICBfYm91bmQuY29weSh0aGlzLmdldFNjZW5lKCkuZ2V0Qm91bmRpbmdCb3goKSk7CgkgICAgfSBlbHNlIHsKCSAgICAgIF9ib3VuZC5jb3B5KGJveCk7CgoJICAgICAgX2JvdW5kLmFwcGx5TWF0cml4NCh0aGlzLmdldFNjZW5lKCkuZ2V0TWF0cml4R2xvYmFsKCkpOwoJICAgIH0KCgkgICAgdGhpcy5fem9vbVRvTG9jYWxCb3goX2JvdW5kLCBtYXJnaW4sIHJhdGlvLCBkaXJlY3Rpb24pOwoJICB9LAoKCSAgLyoqCgkgICAqIOagueaNruinguWvn+aWueWQkee8qeaUvuWIsOaMh+WumuWMheWbtOebkuiMg+WbtAoJICAgKgoJICAgKiBAcGFyYW0ge1RIUkVFLkJveDN9IGJveCAtIOWMheWbtOebku+8iOS4lueVjOWdkOagh+ezu++8iQoJICAgKiBAcGFyYW0ge1RIUkVFLlZlY3RvcjN9IGRpcmVjdGlvbiAtIOinguWvn+aWueWQke+8iOS7juWMheWbtOebkuS4reW/g+aMh+WQkeafkOS4quWPguiAg+eCue+8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gbWFyZ2luIC0g5YyF5Zu055uS57yp5pS+5q+U5L6LLCDnvLrnnIHlgLw6IDAuMCwgbWFyZ2luID4gMCDmqKHlnovnvKnlsI/vvIjljIXlm7Tnm5Llj5jlpKfvvInvvIxtYXJnaW4gPCAwIOaooeWei+aUvuWkp++8iOWMheWbtOebkuWPmOWwj++8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW8gLSDnm7jmnLrkuI7kuK3lv4Pot53nprvnmoTmi4nkvLjmr5TkvossIOe8uuecgeWAvDogMS4wCgkgICAqLwoJICB6b29tVG9Cb3hCeURpcmVjdGlvbjogZnVuY3Rpb24gem9vbVRvQm94QnlEaXJlY3Rpb24oYm94LCBkaXJlY3Rpb24sIG1hcmdpbiwgcmF0aW8pIHsKCSAgICBpZiAoIWRpcmVjdGlvbikgewoJICAgICAgdGhpcy56b29tVG9Cb3goYm94LCBtYXJnaW4sIHJhdGlvKTsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIGlmIChkaXJlY3Rpb24gJiYgYm94KSB7CgkgICAgICB2YXIgem9vbUJveCA9IGJveC5jbG9uZSgpOwoJICAgICAgdmFyIHJlZlBvaW50ID0gem9vbUJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSkuY2xvbmUoKS5hZGQoZGlyZWN0aW9uKTsKCSAgICAgIHpvb21Cb3guYXBwbHlNYXRyaXg0KHRoaXMuZ2V0U2NlbmUoKS5nZXRNYXRyaXhHbG9iYWwoKSk7CgkgICAgICByZWZQb2ludC5hcHBseU1hdHJpeDQodGhpcy5nZXRTY2VuZSgpLmdldE1hdHJpeEdsb2JhbCgpKTsKCSAgICAgIHZhciBuZXdEaXJlY3Rpb24gPSByZWZQb2ludC5jbG9uZSgpLnN1Yih6b29tQm94LmdldENlbnRlcihuZXcgVEhSRUUuVmVjdG9yMygpKSk7CgoJICAgICAgaWYgKG5ld0RpcmVjdGlvbi5sZW5ndGgoKSA+IDAuMDAwMSkgewoJICAgICAgICBuZXdEaXJlY3Rpb24ubm9ybWFsaXplKCk7CgkgICAgICAgIHRoaXMuY2FtZXJhLnJlYWxVcC5jb3B5KFRIUkVFLk9iamVjdDNELkRlZmF1bHRVcCk7IC8vIOWFiOiwg+aVtOebuOacunVw5pa55ZCRLOS9v+W+l+S4gOebtOacneS4igoKCSAgICAgICAgdGhpcy5fem9vbVRvTG9jYWxCb3goem9vbUJveCwgbWFyZ2luLCByYXRpbywgbmV3RGlyZWN0aW9uKTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHRoaXMuX3pvb21Ub0xvY2FsQm94KHpvb21Cb3gsIG1hcmdpbiwgcmF0aW8pOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmoLnmja7lpJblm7TlpKfljIXlm7Tnm5LlkozmjIflrprljIXlm7Tnm5LnvKnmlL7liLDmjIflrprljIXlm7Tnm5LojIPlm7QKCSAgICoKCSAgICogQHBhcmFtIHtUSFJFRS5Cb3gzfSBib3ggLSDmjIflrprmnoTku7bljIXlm7Tnm5LvvIjkuJbnlYzlnZDmoIfns7vvvIkKCSAgICogQHBhcmFtIHtUSFJFRS5Cb3gzfSBvdXRlckJveCAtIOWkluWbtOWkp+WMheWbtOebkgoJICAgKiBAcGFyYW0ge051bWJlcn0gbWFyZ2luIC0g5YyF5Zu055uS57yp5pS+5q+U5L6LLCDnvLrnnIHlgLw6IDAuMCwgbWFyZ2luID4gMCDmqKHlnovnvKnlsI/vvIjljIXlm7Tnm5Llj5jlpKfvvInvvIxtYXJnaW4gPCAwIOaooeWei+aUvuWkp++8iOWMheWbtOebkuWPmOWwj++8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW8gLSDnm7jmnLrkuI7kuK3lv4Pot53nprvnmoTmi4nkvLjmr5TkvossIOe8uuecgeWAvDogMS4wCgkgICAqLwoJICB6b29tVG9Cb3hXaXRoT3V0ZXJCb3g6IGZ1bmN0aW9uIHpvb21Ub0JveFdpdGhPdXRlckJveChib3gsIG91dGVyQm94LCBtYXJnaW4sIHJhdGlvKSB7CgkgICAgaWYgKCFvdXRlckJveCkgewoJICAgICAgdGhpcy56b29tVG9Cb3goYm94LCBtYXJnaW4sIHJhdGlvKTsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIGlmIChvdXRlckJveCAmJiBib3gpIHsKCSAgICAgIHZhciB6b29tQm94ID0gYm94LmNsb25lKCk7CgkgICAgICB2YXIgcmVmUG9pbnQgPSBvdXRlckJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSk7CgkgICAgICB6b29tQm94LmFwcGx5TWF0cml4NCh0aGlzLmdldFNjZW5lKCkuZ2V0TWF0cml4R2xvYmFsKCkpOwoJICAgICAgcmVmUG9pbnQuYXBwbHlNYXRyaXg0KHRoaXMuZ2V0U2NlbmUoKS5nZXRNYXRyaXhHbG9iYWwoKSk7CgkgICAgICB2YXIgbmV3RGlyZWN0aW9uID0gcmVmUG9pbnQuY2xvbmUoKS5zdWIoem9vbUJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSkpOwoKCSAgICAgIGlmIChuZXdEaXJlY3Rpb24ubGVuZ3RoKCkgPiAwLjAwMDEpIHsKCSAgICAgICAgbmV3RGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwoJICAgICAgICB0aGlzLmNhbWVyYS5yZWFsVXAuY29weShUSFJFRS5PYmplY3QzRC5EZWZhdWx0VXApOyAvLyDlhYjosIPmlbTnm7jmnLp1cOaWueWQkSzkvb/lvpfkuIDnm7TmnJ3kuIoKCgkgICAgICAgIHRoaXMuY29udHJvbE1hbmFnZXIuem9vbVRvQm94KHRoaXMsIHpvb21Cb3gsIG1hcmdpbiwgcmF0aW8sIG5ld0RpcmVjdGlvbik7CgkgICAgICB9IGVsc2UgewoJICAgICAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLnpvb21Ub0JveCh0aGlzLCB6b29tQm94LCBtYXJnaW4sIHJhdGlvKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6I635Y+W5oyH5a6aYm945Lit55qE5p6E5Lu2SUTliJfooagKCSAgICogQHBhcmFtIHtUSFJFRS5Cb3gzfSBib3ggLSDljIXlm7Tnm5IKCSAgICogQHJldHVybiDmnoTku7ZJROaVsOe7hAoJICAgKi8KCSAgZ2V0T2JqZWN0c0luQm94OiBmdW5jdGlvbiBnZXRPYmplY3RzSW5Cb3goYm94KSB7CgkgICAgdmFyIF9ib3VuZCA9IG5ldyBUSFJFRS5Cb3gzKCk7CgoJICAgIF9ib3VuZC5jb3B5KGJveCk7CgoJICAgIF9ib3VuZC5hcHBseU1hdHJpeDQodGhpcy5nZXRTY2VuZSgpLmdldE1hdHJpeEdsb2JhbCgpKTsKCgkgICAgcmV0dXJuIFBpY2tVdGlsLmdldE9iamVjdHNJbkJveCh0aGlzLmdldFNjZW5lKCksIF9ib3VuZCwgdGhpcy5tb2RlbE1hbmFnZXIsIHRoaXMpOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruinhuinkgoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gc3RkVmlldyAtIOinhuinku+8iEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuSVNP77yMIEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuVG9wIGV0Y++8iQoJICAgKiBAcGFyYW0ge051bWJlcn0gbWFyZ2luIC0g5YyF5Zu055uS57yp5pS+5q+U5L6LLCDnvLrnnIHlgLw6IDAuMCwgbWFyZ2luID4gMCDmqKHlnovnvKnlsI/vvIjljIXlm7Tnm5Llj5jlpKfvvInvvIxtYXJnaW4gPCAwIOaooeWei+aUvuWkp++8iOWMheWbtOebkuWPmOWwj++8iQoJICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjaygpIC0g5Zue6LCD5Ye95pWwCgkgICAqLwoJICBzZXRTdGFuZGFyZFZpZXc6IGZ1bmN0aW9uIHNldFN0YW5kYXJkVmlldyhzdGRWaWV3LCBtYXJnaW4sIGNhbGxiYWNrKSB7CgkgICAgdmFyIGJveDsKCSAgICB2YXIgY2FtZXJhID0gdGhpcy5jYW1lcmE7CgkgICAgYm94ID0gdGhpcy5nZXRTY2VuZSgpLmdldEJvdW5kaW5nQm94KCk7CgoJICAgIGlmICh0aGlzLnRyYW5zaXRpb25BbmltYXRpb25TdGF0ZSkgewoJICAgICAgLy9lbmFibGVBbmltYXRpb24KCSAgICAgIHRoaXMuYW5pbWF0b3Iuc2V0U3RhbmRhcmRWaWV3KHN0ZFZpZXcsIHRoaXMsIGJveCwgbWFyZ2luLCBjYWxsYmFjayk7CgkgICAgfSBlbHNlIHsKCSAgICAgIGNhbWVyYS5zZXRTdGFuZGFyZFZpZXcoc3RkVmlldywgYm94KTsgLy8g6K6+572u6KeC5a+f6KeG5Zu+CgoJICAgICAgdmFyIHRhcmdldCA9IHRoaXMuY2FtZXJhLnpvb21Ub0JveChib3gsIG1hcmdpbik7IC8vIGZpdCBhbGwKCgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wudXBkYXRlKHRydWUsIHRydWUpOwoJICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsgLy8g5piv5ZCm5Zue6LCDCgkgICAgfSAvLyB0aGlzLmNvbnRyb2xNYW5hZ2VyLnNldFN0YW5kYXJkVmlldyhzdGRWaWV3LCB0aGlzLCBtYXJnaW4sIGNhbGxiYWNrKTsKCgkgIH0sCgkgIHJvdGF0ZUNhbWVyYUJ5Vmlld0N1YmVTaWRlOiBmdW5jdGlvbiByb3RhdGVDYW1lcmFCeVZpZXdDdWJlU2lkZShzaWRlKSB7CgkgICAgaWYgKHRoaXMuX3ZpZXdDdWJlQW5pbWF0b3IpIHsKCSAgICAgIHRoaXMuX3ZpZXdDdWJlQW5pbWF0b3IuY2FuY2VsQW5pbWF0aW9uKCk7CgoJICAgICAgdGhpcy5fdmlld0N1YmVBbmltYXRvciA9IHVuZGVmaW5lZDsKCSAgICB9CgoJICAgIHZhciBjYW1lcmEgPSB0aGlzLmNhbWVyYTsKCSAgICB2YXIgYm94ID0gdGhpcy5nZXRTY2VuZSgpLmdldEJvdW5kaW5nQm94KCk7CgkgICAgdmFyIGFuaW1hdG9yID0gbmV3IFZpZXdDdWJlQ2FtZXJhQW5pbWF0b3IoKTsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoJICAgIGFuaW1hdG9yLnJvdGF0ZUNhbWVyYUJ5Vmlld0N1YmVTaWRlKGNhbWVyYSwgYm94LCBzaWRlLCBmdW5jdGlvbiAocHJvZ3Jlc3MsIHF1YXRlcm5pb24sIHBvc2l0aW9uLCB0YXJnZXQpIHsKCSAgICAgIHNjb3BlLmNhbWVyYS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTsgLy8gc2NvcGUuY2FtZXJhLnF1YXRlcm5pb24uY29weShxdWF0ZXJuaW9uKTsKCgkgICAgICB2YXIgdSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApOwoJICAgICAgdS5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbik7CgkgICAgICBzY29wZS5jYW1lcmEudXAgPSB1OwoJICAgICAgc2NvcGUuY2FtZXJhLnJlYWxVcCA9IHUuY2xvbmUoKTsKCSAgICAgIHNjb3BlLmNhbWVyYS5sb29rQXQodGFyZ2V0KTsKCSAgICAgIHNjb3BlLmNhbWVyYS50YXJnZXQgPSB0YXJnZXQ7CgoJICAgICAgaWYgKHByb2dyZXNzID49IDEpIHsKCSAgICAgICAgLy/ov5nmoLflsLHot59lbmRRdWF0ZXJuaW9u5a6M5YWo5LiA6Ie077yM6YG/5YWNZmxvYXTnsr7luqbpl67popjlvJXotbfnmoTnu4blvq7lt67lvIIKCSAgICAgICAgc2NvcGUuY2FtZXJhLnF1YXRlcm5pb24uY29weShxdWF0ZXJuaW9uKTsKCSAgICAgIH0KCgkgICAgICBzY29wZS5yZW5kZXIoKTsKCSAgICB9KTsKCSAgICB0aGlzLl92aWV3Q3ViZUFuaW1hdG9yID0gYW5pbWF0b3I7CgkgIH0sCgkgIGNhbmNlbEN1cnJlbnRBbmltYXRpb25CeVZpZXdDdWJlOiBmdW5jdGlvbiBjYW5jZWxDdXJyZW50QW5pbWF0aW9uQnlWaWV3Q3ViZSgpIHsKCSAgICBpZiAodGhpcy5fdmlld0N1YmVBbmltYXRvcikgewoJICAgICAgdGhpcy5fdmlld0N1YmVBbmltYXRvci5jYW5jZWxBbmltYXRpb24oKTsKCgkgICAgICB0aGlzLl92aWV3Q3ViZUFuaW1hdG9yID0gdW5kZWZpbmVkOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7op4Llr5/op4blm74sIOivpeWKqOS9nOS8muS4jeS8muinpuWPkemHjeaWsOe7mOWItiAo56eB5pyJ77yJCgkgICAqIOivpeaOpeWPo+S+nei1luWcuuaZr+aVsOaNru+8jOmhu+WcqOWcuuaZr+WKoOi9veWujOaIkOWQjuS9v+eUqOaJjeWPr+S7pei+vuWIsOacn+acm+eahOe7k+aenOOAggoJICAgKiBUT0RPOiDph43mnoR2aWV3ZXIg5bqU6K+l6YCa6L+HQ2FtZXJhQ29udHJvbOaOp+WItuebuOacuuWnv+aAge+8jOiAjOS4jeW6lOivpeebtOaOpeS9v+eUqGNhbWVyYQoJICAgKiAyMDE4LjAxLjMxIHhpYW9qaWFuCgkgICAqCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGRWaWV3IC0g6KeG6KeS77yIQklNV0lOTkVSLkJPUzNELkVudW1TdGFuZGFyZFZpZXcuSVNP77yMIEJJTVdJTk5FUi5CT1MzRC5FbnVtU3RhbmRhcmRWaWV3LlRvcCBldGPvvIkKCSAgICogQHBhcmFtIHtOdW1iZXJ9IG1hcmdpbiAtIOWMheWbtOebkue8qeaUvuavlOS+iywg57y655yB5YC8OiAwLjAsIG1hcmdpbiA+IDAg5qih5Z6L57yp5bCP77yI5YyF5Zu055uS5Y+Y5aSn77yJ77yMbWFyZ2luIDwgMCDmqKHlnovmlL7lpKfvvIjljIXlm7Tnm5Llj5jlsI/vvIkKCSAgICovCgkgIF9zZXRTdGFuZGFyZFZpZXc6IGZ1bmN0aW9uIF9zZXRTdGFuZGFyZFZpZXcoc3RkVmlldywgbWFyZ2luKSB7CgkgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOwoJICAgIHZhciBib3ggPSB0aGlzLmdldFNjZW5lKCkuZ2V0Qm91bmRpbmdCb3goKTsKCSAgICBjYW1lcmEuc2V0U3RhbmRhcmRWaWV3KHN0ZFZpZXcsIGJveCk7CgkgICAgY2FtZXJhLnpvb21Ub0JveChib3gsIG1hcmdpbik7CgkgIH0sCgoJICAvKioKCSAgICog5qC55o2u5oyH5a6a6KeG6KeS5Y+K5YyF5Zu055uS57yp5pS+CgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGRWaWV3IC0g6KeG6KeS77yIQklNV0lOTkVSLkJPUzNELnN0YW5kYXJkVmlldy5JU0/vvIwgQklNV0lOTkVSLkJPUzNELnN0YW5kYXJkVmlldy5Ub3AgZXRj77yJCgkgICAqIEBwYXJhbSB7VEhSRUUuQm94M30gYm94IC0g5Y6f5aeL77yI5pyq5Y+Y5o2i55qE77yJ5LiW55WM5YyF5Zu055uSCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXJnaW4gLSDljIXlm7Tnm5LnvKnmlL7mr5TkvossIOe8uuecgeWAvDogMC4wLCBtYXJnaW4gPiAwIOaooeWei+e8qeWwj++8iOWMheWbtOebkuWPmOWkp++8ie+8jG1hcmdpbiA8IDAg5qih5Z6L5pS+5aSn77yI5YyF5Zu055uS5Y+Y5bCP77yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyAtIOebuOacuuS4juS4reW/g+i3neemu+eahOaLieS8uOavlOS+iywg57y655yB5YC8OiAxLjAKCSAgICovCgkgIHNldFN0YW5kYXJkVmlld1dpdGhCb3g6IGZ1bmN0aW9uIHNldFN0YW5kYXJkVmlld1dpdGhCb3goc3RkVmlldywgYm94LCBtYXJnaW4sIHJhdGlvKSB7CgkgICAgaWYgKGJveCkgewoJICAgICAgYm94LmFwcGx5TWF0cml4NCh0aGlzLmdldFNjZW5lKCkuZ2V0TWF0cml4R2xvYmFsKCkpOwoJICAgIH0gZWxzZSB7CgkgICAgICBib3ggPSB0aGlzLmdldFNjZW5lKCkuZ2V0Qm91bmRpbmdCb3goKTsKCSAgICB9CgoJICAgIGlmICh0aGlzLnRyYW5zaXRpb25BbmltYXRpb25TdGF0ZSkgewoJICAgICAgLy9lbmFibGVBbmltYXRpb24KCSAgICAgIHRoaXMuYW5pbWF0b3Iuc2V0U3RhbmRhcmRWaWV3KHN0ZFZpZXcsIHRoaXMsIGJveCwgbWFyZ2luKTsKCSAgICB9IGVsc2UgewoJICAgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOwoJICAgICAgY2FtZXJhLnNldFN0YW5kYXJkVmlldyhzdGRWaWV3LCBib3gpOyAvLyDorr7nva7op4Llr5/op4blm74KCgkgICAgICBjYW1lcmEuem9vbVRvQm94KGJveCwgbWFyZ2luLCByYXRpbyk7CgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wudXBkYXRlKHRydWUsIHRydWUpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmoLnmja4gVG9wIOinhuinkuWPiuWMheWbtOebkue8qeaUvijms6jmhI/vvJrov5nph4zlkI3lrZfmnInor6/lr7zvvIwg5YW25a6e6KKr6K6+5oiQ5LqGIElTTyDop4bop5IpCgkgICAqCgkgICAqIEBwYXJhbSB7VEhSRUUuQm94M30gYm94IC0g5Y6f5aeL77yI5pyq5Y+Y5o2i55qE77yJ5LiW55WM5YyF5Zu055uSCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXJnaW4gLSDljIXlm7Tnm5LnvKnmlL7mr5TkvossIOe8uuecgeWAvDogMC4wLCBtYXJnaW4gPiAwIOaooeWei+e8qeWwj++8iOWMheWbtOebkuWPmOWkp++8ie+8jG1hcmdpbiA8IDAg5qih5Z6L5pS+5aSn77yI5YyF5Zu055uS5Y+Y5bCP77yJCgkgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyAtIOebuOacuuS4juS4reW/g+i3neemu+eahOaLieS8uOavlOS+iywg57y655yB5YC8OiAxLjAKCSAgICovCgkgIHNldFRvcFZpZXc6IGZ1bmN0aW9uIHNldFRvcFZpZXcoYm94LCBtYXJnaW4sIHJhdGlvKSB7CgkgICAgdGhpcy5zZXRTdGFuZGFyZFZpZXdXaXRoQm94KHN0YW5kYXJkVmlldy5JU08sIGJveCwgbWFyZ2luLCByYXRpbyk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5Yid5aeL6KeG6KeSCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSB2aWV3VHlwZSAtIOinhuinku+8iEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuSVNP77yMIEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuVG9wIGV0Y++8iQoJICAgKi8KCSAgc2V0SW5pdGlhbFZpZXc6IGZ1bmN0aW9uIHNldEluaXRpYWxWaWV3KHZpZXdUeXBlKSB7CgkgICAgdGhpcy5pbml0aWFsVmlldyA9IHZpZXdUeXBlOwoKCSAgICB0aGlzLl9zZXRTdGFuZGFyZFZpZXcodmlld1R5cGUpOwoJICB9LAoKCSAgLyoqCgkgICAqIOWIh+aNouWIsOWIneWni+inhuWbvgoJICAgKgoJICAgKi8KCSAgZ29Ub0luaXRpYWxWaWV3OiBmdW5jdGlvbiBnb1RvSW5pdGlhbFZpZXcobWFyZ2luKSB7CgkgICAgdGhpcy5zZXRTdGFuZGFyZFZpZXcodGhpcy5pbml0aWFsVmlldywgbWFyZ2luLCBudWxsKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva4gaG9tZSDop4blm77nsbvlnosKCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IHZpZXdUeXBlIC0g6KeG6KeS77yIc3RhbmRhcmRWaWV3LklTT++8jCBCSU1XSU5ORVIuQk9TM0Quc3RhbmRhcmRWaWV3LlRvcCBldGPvvIkKCSAgICovCgkgIHNldEhvbWVWaWV3VHlwZTogZnVuY3Rpb24gc2V0SG9tZVZpZXdUeXBlKHZpZXdUeXBlKSB7CgkgICAgbG9nZ2VyJDEud2FybigiQklNV0lOTkVSLkJPUzNELlZpZXdlci5zZXRIb21lVmlld1R5cGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgQklNV0lOTkVSLkJPUzNELlZpZXdlci5zZXRIb21lVmlldygpIGluc3RlYWQuIik7CgkgICAgdGhpcy5zZXRIb21lVmlldyh2aWV3VHlwZSk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572uIGhvbWUg6KeG5Zu+57G75Z6LCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSB2aWV3VHlwZSAtIOinhuinku+8iEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuSVNP77yMIEJJTVdJTk5FUi5CT1MzRC5zdGFuZGFyZFZpZXcuVG9wIGV0Y++8iQoJICAgKi8KCSAgc2V0SG9tZVZpZXc6IGZ1bmN0aW9uIHNldEhvbWVWaWV3KHZpZXdUeXBlKSB7CgkgICAgdGhpcy5jdXJyZW50SG9tZVZpZXcgPSB2aWV3VHlwZTsKCgkgICAgdGhpcy5fc2V0U3RhbmRhcmRWaWV3KHZpZXdUeXBlKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDliIfmjaLliLAgaG9tZSDop4blm74KCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IG1hcmdpbiAtIOWMheWbtOebkue8qeaUvuavlOS+iywg57y655yB5YC8OiAwLjA1CgkgICAqLwoJICBnb1RvSG9tZVZpZXc6IGZ1bmN0aW9uIGdvVG9Ib21lVmlldyhtYXJnaW4pIHsKCSAgICB0aGlzLnNldFN0YW5kYXJkVmlldyh0aGlzLmN1cnJlbnRIb21lVmlldywgbWFyZ2luLCBudWxsKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDnu5XlnLrmma/kuK3lv4Pmsr/mjIflrprovbTml4vovazkuIDlrprop5LluqYKCSAgICoKCSAgICogQHBhcmFtIHNwZWVkUmF0ZSDml4vovazpgJ/njofvvJvlpKfkuo4wIOaXtumAhuaXtumSiOaXi+i9rO+8jOWwj+S6jjAg5pe26aG65pe26ZKI5peL6L2sCgkgICAqIEBwYXJhbSBheGlzIOaXi+i9rOi9tO+8jCAneCcg5oiWICd5J++8jCDpu5jorqTkuLp4IOi9tAoJICAgKi8KCSAgcm90YXRlQnlBeGlzOiBmdW5jdGlvbiByb3RhdGVCeUF4aXMoc3BlZWRSYXRlLCBheGlzKSB7CgkgICAgdmFyIHJvdGF0ZVBpdm90ID0gdGhpcy5jYW1lcmFDb250cm9sLmNhbGN1bGF0ZVBpdm90KFJvdGF0ZVBpdm90TW9kZS5DRU5URVIsIG51bGwpOwoJICAgIHZhciBzcGVlZCA9IDIgKiBNYXRoLlBJIC8gNjAgLyA2MCAqIHNwZWVkUmF0ZTsKCgkgICAgaWYgKCFheGlzIHx8IGF4aXMgPT09ICJ4IikgewoJICAgICAgdGhpcy5jYW1lcmFDb250cm9sLmhhbmRsZVJvdGF0aW9uKC1zcGVlZCwgMCwgcm90YXRlUGl2b3QpOwoJICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gInkiKSB7CgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wuaGFuZGxlUm90YXRpb24oMCwgLXNwZWVkLCByb3RhdGVQaXZvdCk7CgkgICAgfSBlbHNlIHsKCSAgICAgIGxvZ2dlciQxLndhcm4oIklsbGVnYWwgcm90YXRpb24gYXhpcyBmb3IgVmlld2VyLnJvdGF0ZUJ5QXhpcygpLiIpOwoJICAgICAgcmV0dXJuOwoJICAgIH0KCgkgICAgdGhpcy5jYW1lcmFDb250cm9sLnVwZGF0ZSh0cnVlKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7nm7jmnLrop4Llr5/ngrkKCSAgICoKCSAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBwb3NpdGlvbiAtIOebuOacuuS9jee9rgoJICAgKiBAcGFyYW0ge1RIUkVFLlZlY3RvcjN9IHRhcmdldCAtIOebuOacuuinguWvn+ebruagh+S9jee9rgoJICAgKiBAcGFyYW0ge1RIUkVFLlZlY3RvcjN9IHVwIC0g55u45py65ZCR5LiK5L2N572uCgkgICAqLwoJICBsb29rQXQ6IGZ1bmN0aW9uIGxvb2tBdChwb3NpdGlvbiwgdGFyZ2V0LCB1cCkgewoJICAgIHZhciBkaXIgPSBuZXcgVEhSRUUuVmVjdG9yMygpOwoJICAgIGRpci5zdWJWZWN0b3JzKHRhcmdldCwgcG9zaXRpb24pOwoJICAgIHRoaXMuY2FtZXJhLmxvb2tBdEV4KHRhcmdldCwgZGlyLCB1cCk7CgkgICAgdGhpcy5jYW1lcmFDb250cm9sLnVwZGF0ZUNhbWVyYSh0YXJnZXQpOwoJICAgIHRoaXMucmVuZGVyKCk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5Zu+54mH6LWE5rqQ55qE6Lev5b6E44CC6buY6K6k5Zyo4oCcaW1hZ2VzL+KAnQoJICAgKgoJICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAtIOi1hOa6kOi3r+W+hAoJICAgKi8KCSAgc2V0SW1hZ2VSZXNQYXRoOiBmdW5jdGlvbiBzZXRJbWFnZVJlc1BhdGgocGF0aCkgewoJICAgIEdsb2JhbERhdGEuVGV4dHVyZVJlc1Jvb3QgPSBwYXRoOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruWcuuaZr+S4reaJgOacieeBr+WFieeahOWFieeFp+W8uuW6pueahOiwg+aVtOezu+aVsAoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZmFjdG9yIC0g54Gv5YWJ5by65bqm57O75pWwCgkgICAqLwoJICBzZXRMaWdodEludGVuc2l0eUZhY3RvcjogZnVuY3Rpb24gc2V0TGlnaHRJbnRlbnNpdHlGYWN0b3IoZmFjdG9yKSB7CgkgICAgR2xvYmFsRGF0YS5MaWdodEludGVuc2l0eUZhY3RvciA9IGZhY3RvcjsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7mr4/luKfnmoTmnIDlpKfogJfml7YKCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbWl0VGltZSAtIOacgOmVv+aXtumXtAoJICAgKi8KCSAgc2V0TGltaXRGcmFtZVRpbWU6IGZ1bmN0aW9uIHNldExpbWl0RnJhbWVUaW1lKGxpbWl0VGltZSkgewoJICAgIGlmIChHbG9iYWxEYXRhLkluY3JlbWVudFJlbmRlcikgewoJICAgICAgaWYgKGxpbWl0VGltZSA8PSAwKSB7CgkgICAgICAgIGxpbWl0VGltZSA9IDMwOwoJICAgICAgfQoKCSAgICAgIEdsb2JhbERhdGEuTGltaXRGcmFtZVRpbWUgPSBsaW1pdFRpbWU7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOmZkOWItuW4p+eOhwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZnJhbWVSYXRlIC0g5pyA5aSn5bin546HCgkgICAqLwoJICBsaW1pdEZyYW1lUmF0ZTogZnVuY3Rpb24gbGltaXRGcmFtZVJhdGUoZnJhbWVSYXRlKSB7CgkgICAgaWYgKEdsb2JhbERhdGEuSW5jcmVtZW50UmVuZGVyKSB7CgkgICAgICBpZiAoZnJhbWVSYXRlIDw9IDApIHsKCSAgICAgICAgZnJhbWVSYXRlID0gNDsKCSAgICAgIH0KCgkgICAgICBHbG9iYWxEYXRhLkxpbWl0RnJhbWVUaW1lID0gMTAwMCAvIGZyYW1lUmF0ZTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog55u45py65Y+Y5o2iIC0g5bCG5LiW55WM57O755u45py65L2N572u5Y+Y5YyW5Yiw57uY5Zu+56m66Ze0CgkgICAqCgkgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW1lcmEgLSDnm7jmnLrnirbmgIFKU09O5a+56LGhCgkgICAqICAgICAgICAgICAgICAgICAgICAgICAgICDvvIh7InBvc2l0aW9uIjoiMjY1MTMuNjAzNDM3OTAzLCAtMTQ1NzYuNDgxMDcyODk1NSwgMTUxMDcuNjU4MjI1NTA1NiIsCgkgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aW9uIjoiLTIyMC4wNTAyNTk1NDY3MTIsIDE2OS4yNzczNjk5MDEyMjksIC0xMjUuODAxODA5NjU2MDkxIiwKCSAgICogICAgICAgICAgICAgICAgICAgICAgICAgICJ1cCI6IjAsIDAsIDMwNC44In0pCgkgICAqIEByZXR1cm4ge09iamVjdH0g5paw55u45py65L+h5oGvCgkgICAqLwoJICB0cmFuc2Zvcm1DYW1lcmE6IGZ1bmN0aW9uIHRyYW5zZm9ybUNhbWVyYShjYW1lcmEpIHsKCSAgICAvLyBkZWJ1Z2dlcjsKCSAgICByZXR1cm4gQ2FtZXJhVXRpbC50cmFuc2Zvcm1DYW1lcmEoY2FtZXJhLCB0aGlzLm1vZGVsTWFuYWdlci5zY2VuZSk7CgkgIH0sCgoJICAvKioKCSAgICog6I635b6X5LiW55WM56m66Ze055qE55u45py654q25oCBCgkgICAqCgkgICAqIEByZXR1cm4ge1N0cmluZ30g55u45py65L+h5oGv5a2X56ym5LiyCgkgICAqLwoJICBnZXRDYW1lcmE6IGZ1bmN0aW9uIGdldENhbWVyYSgpIHsKCSAgICAvLyByZXR1cm4gdGhpcy5jYW1lcmFDb250cm9sLmdldENhbWVyYUluZm8oKTsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7CgkgICAgdmFyIG1hdHJpeFNjZW5lID0gc2NlbmUuZ2V0TWF0cml4R2xvYmFsKCk7CgkgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhQ29udHJvbC5nZXRDYW1lcmEoKTsKCSAgICB2YXIgY2FtZXJhTmFtZSA9IHRoaXMuY2FtZXJhQ29udHJvbC5nZXRDYW1lcmFOYW1lKCk7CgkgICAgdmFyIGNhbUluZm8gPSBuZXcgQ2FtZXJhSW5mbyhjYW1lcmFOYW1lLCBjYW1lcmEucG9zaXRpb24sIGNhbWVyYS50YXJnZXQsIGNhbWVyYS51cCk7CgkgICAgY2FtSW5mbyA9IENhbWVyYS5kcmF3aW5nVG9Xb3JsZChjYW1JbmZvLCBtYXRyaXhTY2VuZSk7CgkgICAgdmFyIG5ld0NhbWVyYUluZm8gPSBuZXcgQ2FtZXJhSW5mbyhjYW1lcmFOYW1lLCBjYW1JbmZvLnBvc2l0aW9uLCBjYW1JbmZvLnRhcmdldCwgY2FtSW5mby51cCwgY2FtZXJhLmZvdik7CgkgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG5ld0NhbWVyYUluZm8pOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruS4lueVjOepuumXtCjlhbzlrrnnu5jlm77nqbrpl7TvvIzml6DniYjmnKzlj7fnmoTmlbDmja7kuLrnu5jlm77nqbrpl7TmlbDmja4p55qE55u45py654q25oCBCgkgICAqCgkgICAqIEBwYXJhbSB7U3RyaW5nfSBqc29uU3RyIC0g55u45py65L+h5oGv5a2X56ym5LiyCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2UgLSDmmK/lkKblvLrliLbmm7TmlrDnm7jmnLoKCSAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tGaW5pc2ggLSDnm7jmnLrorr7nva7lrozmiJDlkI7lm57osIPlh73mlbAKCSAgICovCgkgIHNldENhbWVyYTogZnVuY3Rpb24gc2V0Q2FtZXJhKGpzb25TdHIsIGZvcmNlLCBjYWxsYmFja0ZpbmlzaCkgewoJICAgIHZhciBzY29wZSA9IHRoaXM7CgkgICAgdmFyIGNhbUluZm8gPSBDYW1lcmFVdGlsLnBhcnNlQ2FtZXJhSW5mbyhqc29uU3RyKTsKCgkgICAgaWYgKGNhbUluZm8gPT09IG51bGwpIHsKCSAgICAgIGxvZ2dlciQxLmxvZygiSW52YWxpZCBjYW1lcmEgaW5mbyBzdHJpbmcuIEZhaWwgdG8gc2V0IGNhbWVyYS4iKTsKCSAgICB9IGVsc2UgaWYgKHRoaXMuc3dpdGNoVG9DYW1lcmEoY2FtSW5mby5uYW1lKSkgewoJICAgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoJICAgICAgdmFyIG1hdHJpeFNjZW5lID0gc2NlbmUuZ2V0TWF0cml4R2xvYmFsKCk7CgkgICAgICB2YXIgbmV3Q2FtZXJhSW5mbyA9IG51bGw7IC8vIOS4tOaXtuS7o+egge+8muWFvOWuueWkhOeQhgoKCSAgICAgIGlmIChjYW1JbmZvLnZlcnNpb24pIHsKCSAgICAgICAgbmV3Q2FtZXJhSW5mbyA9IENhbWVyYS53b3JsZFRvRHJhd2luZyhjYW1JbmZvLCBtYXRyaXhTY2VuZSk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBuZXdDYW1lcmFJbmZvID0gY2FtSW5mbzsKCSAgICAgIH0KCgkgICAgICBpZiAodGhpcy50cmFuc2l0aW9uQW5pbWF0aW9uU3RhdGUpIHsKCSAgICAgICAgdmFyIGN1cnJlbnRDYW1lcmFJbmZvID0gewoJICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmNhbWVyYS5wb3NpdGlvbi5jbG9uZSgpLAoJICAgICAgICAgIHRhcmdldDogdGhpcy5jYW1lcmEudGFyZ2V0LmNsb25lKCksCgkgICAgICAgICAgdXA6IHRoaXMuY2FtZXJhLnVwLmNsb25lKCkKCSAgICAgICAgfTsKCSAgICAgICAgdGhpcy5hbmltYXRvci5hY3RpdmUoY3VycmVudENhbWVyYUluZm8sIG5ld0NhbWVyYUluZm8sIHRoaXMsIGZ1bmN0aW9uICh0YXJnZXQpIHsKCSAgICAgICAgICBzY29wZS5jYW1lcmFDb250cm9sLnVwZGF0ZSh0cnVlLCB0cnVlKTsKCSAgICAgICAgfSwgY2FsbGJhY2tGaW5pc2gpOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgdmFyIGRpciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CgkgICAgICAgIGRpci5zdWJWZWN0b3JzKG5ld0NhbWVyYUluZm8udGFyZ2V0LCBuZXdDYW1lcmFJbmZvLnBvc2l0aW9uKTsKCSAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0RXgobmV3Q2FtZXJhSW5mby50YXJnZXQsIGRpciwgbmV3Q2FtZXJhSW5mby51cCk7CgoJICAgICAgICBpZiAoZm9yY2UpIHsKCSAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wudXBkYXRlQ2FtZXJhKCk7CgkgICAgICAgIH0KCgkgICAgICAgIGNhbGxiYWNrRmluaXNoICYmIGNhbGxiYWNrRmluaXNoKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOiOt+W+l3JlbmRlciBidWZmZXIgYmFzZTY05Zu+5b2i5pWw5o2uCgkgICAqCgkgICAqIEBwYXJhbSB7Q29sb3J9IGJhY2tncm91bmRDbHIgLSDog4zmma/popzoibIKCSAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSDlm57osIPlh73mlbDvvIjlj4LmlbDkuLrmiKrlj5bnmoQgYmFzZTY0IOWbvuW9ouaVsOaNru+8iQoJICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWmguaenOWtmOWcqOWbnuiwg+WHveaVsO+8jOWImei/lOWbniBudWxs77yMIOWQpuWImSDov5Tlm54gYmFzZTY0IOWbvuW9ouaVsOaNrgoJICAgKi8KCSAgZ2V0UmVuZGVyQnVmZmVyU2NyZWVuU2hvdDogZnVuY3Rpb24gZ2V0UmVuZGVyQnVmZmVyU2NyZWVuU2hvdChiYWNrZ3JvdW5kQ2xyLCBjYWxsYmFjaykgewoJICAgIC8v5L+d6K+B6IO96I635Y+W5Yiw5pWw5o2uCgkgICAgdGhpcy5yZW5kZXIoKTsgLy8g5Zyo6auY5YiG5bGP5LiKdG9EYXRhVVJM55u05o6l6I635b6X5Zu+54mH5pWw5o2u5q+U5a6e6ZmF55qE5Zu+54mH5aSnCgoJICAgIHZhciBkb21FbGVtZW50ID0gdGhpcy5yZW5kZXJlci5kb21FbGVtZW50OwoJICAgIHZhciBkYXRhVXJsID0gZG9tRWxlbWVudC50b0RhdGFVUkwoImltYWdlL3BuZyIpOwoJICAgIHZhciBjYW52YXNXaWR0aCA9IGRvbUVsZW1lbnQud2lkdGg7CgkgICAgdmFyIGNhbnZhc0hlaWdodCA9IGRvbUVsZW1lbnQuaGVpZ2h0OwoJICAgIHZhciBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKCSAgICB2YXIgdyA9IGNhbnZhc1dpZHRoIC8gcGl4ZWxSYXRpbzsKCSAgICB2YXIgaCA9IGNhbnZhc0hlaWdodCAvIHBpeGVsUmF0aW87CgoJICAgIGlmICghdyB8fCAhaCkgewoJICAgICAgaWYgKGNhbGxiYWNrKSB7CgkgICAgICAgIGNhbGxiYWNrKGRhdGFVcmwpOwoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiBkYXRhVXJsOwoJICAgICAgfQoJICAgIH0KCgkgICAgdmFyIG53LAoJICAgICAgICBuaCwKCSAgICAgICAgbnggPSAwLAoJICAgICAgICBueSA9IDA7CgoJICAgIGlmICh3ID4gaCB8fCBjYW52YXNXaWR0aCAvIGNhbnZhc0hlaWdodCA8IHcgLyBoKSB7CgkgICAgICBudyA9IHc7CgkgICAgICBuaCA9IGNhbnZhc0hlaWdodCAvIGNhbnZhc1dpZHRoICogdzsKCSAgICAgIG55ID0gaCAvIDIgLSBuaCAvIDI7CgkgICAgfSBlbHNlIHsKCSAgICAgIG5oID0gaDsKCSAgICAgIG53ID0gY2FudmFzV2lkdGggLyBjYW52YXNIZWlnaHQgKiBoOwoJICAgICAgbnggPSB3IC8gMiAtIG53IC8gMjsKCSAgICB9CgoJICAgIGlmIChjYWxsYmFjaykgewoJICAgICAgdmFyIG5ld0ltYWdlID0gbmV3IEltYWdlKCk7CgoJICAgICAgbmV3SW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgdG1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CgkgICAgICAgIHZhciBjdHggPSB0bXBDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKCSAgICAgICAgdG1wQ2FudmFzLndpZHRoID0gdzsKCSAgICAgICAgdG1wQ2FudmFzLmhlaWdodCA9IGg7CgoJICAgICAgICBpZiAoYmFja2dyb3VuZENscikgewoJICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ2xyOwoJICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTsKCSAgICAgICAgfQoKCSAgICAgICAgY3R4LmRyYXdJbWFnZShuZXdJbWFnZSwgbngsIG55LCBudywgbmgpOwoJICAgICAgICB2YXIgbmV3VVJMID0gdG1wQ2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CgkgICAgICAgIGNhbGxiYWNrKG5ld1VSTCk7CgkgICAgICB9OwoKCSAgICAgIG5ld0ltYWdlLnNyYyA9IGRhdGFVcmw7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBuZXdJbWFnZSA9IG5ldyBJbWFnZSgpOwoJICAgIG5ld0ltYWdlLnNyYyA9IGRhdGFVcmw7CgkgICAgdmFyIHRtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwoJICAgIHZhciBjdHggPSB0bXBDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKCSAgICB0bXBDYW52YXMud2lkdGggPSB3OwoJICAgIHRtcENhbnZhcy5oZWlnaHQgPSBoOwoKCSAgICBpZiAoYmFja2dyb3VuZENscikgewoJICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDbHI7CgkgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdywgaCk7CgkgICAgfQoKCSAgICBjdHguZHJhd0ltYWdlKG5ld0ltYWdlLCBueCwgbnksIG53LCBuaCk7CgkgICAgdmFyIG5ld1VSTCA9IHRtcENhbnZhcy50b0RhdGFVUkwoImltYWdlL3BuZyIpOwoJICAgIHJldHVybiBuZXdVUkw7CgkgIH0sCgoJICAvKioKCSAgICog5oiq5Y+W5oyH5a6a5aSn5bCP55qEYmFzZTY05Zu+5b2iCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIOaIquWbvuWuveW6pgoJICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0g6IOM5pmv6aKc6ImyCgkgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0g5Zue6LCD5Ye95pWw77yI5Y+C5pWw5Li65oiq5Y+W55qEIGJhc2U2NCDlm77lvaLmlbDmja7vvIkKCSAgICogQHJldHVybiB7U3RyaW5nfSDlpoLmnpzlrZjlnKjlm57osIPlh73mlbDvvIzliJnov5Tlm54gbnVsbO+8jCDlkKbliJkg6L+U5ZueIGJhc2U2NCDlm77lvaLmlbDmja4KCSAgICovCgkgIHNjcmVlblNob3Q6IGZ1bmN0aW9uIHNjcmVlblNob3Qod2lkdGgsIGhlaWdodCwgY2FsbGJhY2spIHsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoKCSAgICBmdW5jdGlvbiBnZXRSZW5kZXJCdWZmZXJTY3JlZW5TaG90KCkgewoJICAgICAgdmFyIGRvbUVsZW1lbnQgPSBzY29wZS5yZW5kZXJlci5kb21FbGVtZW50OwoJICAgICAgdmFyIGRhdGFVcmwgPSBkb21FbGVtZW50LnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CgkgICAgICB2YXIgY2FudmFzV2lkdGggPSBkb21FbGVtZW50LndpZHRoOwoJICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IGRvbUVsZW1lbnQuaGVpZ2h0OwoJICAgICAgdmFyIHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwoJICAgICAgdmFyIHcgPSB3aWR0aDsKCSAgICAgIHZhciBoID0gaGVpZ2h0OwoKCSAgICAgIGlmICghdyB8fCAhaCkgewoJICAgICAgICBpZiAoY2FsbGJhY2spIHsKCSAgICAgICAgICBjYWxsYmFjayhkYXRhVXJsKTsKCSAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXR1cm4gZGF0YVVybDsKCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIHZhciBudywKCSAgICAgICAgICBuaCwKCSAgICAgICAgICBueCA9IDAsCgkgICAgICAgICAgbnkgPSAwOwoKCSAgICAgIGlmICh3ID4gaCB8fCBjYW52YXNXaWR0aCAvIGNhbnZhc0hlaWdodCA8IHcgLyBoKSB7CgkgICAgICAgIG53ID0gdzsKCSAgICAgICAgbmggPSBjYW52YXNIZWlnaHQgLyBjYW52YXNXaWR0aCAqIHc7CgkgICAgICAgIG55ID0gaCAvIDIgLSBuaCAvIDI7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBuaCA9IGg7CgkgICAgICAgIG53ID0gY2FudmFzV2lkdGggLyBjYW52YXNIZWlnaHQgKiBoOwoJICAgICAgICBueCA9IHcgLyAyIC0gbncgLyAyOwoJICAgICAgfQoKCSAgICAgIGlmIChjYWxsYmFjaykgewoJICAgICAgICB2YXIgbmV3SW1hZ2UgPSBuZXcgSW1hZ2UoKTsKCgkgICAgICAgIG5ld0ltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICB2YXIgdG1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CgkgICAgICAgICAgdmFyIGN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoJICAgICAgICAgIHRtcENhbnZhcy53aWR0aCA9IHc7CgkgICAgICAgICAgdG1wQ2FudmFzLmhlaWdodCA9IGg7CgkgICAgICAgICAgY3R4LmRyYXdJbWFnZShuZXdJbWFnZSwgbngsIG55LCBudywgbmgpOwoJICAgICAgICAgIHZhciBuZXdVUkwgPSB0bXBDYW52YXMudG9EYXRhVVJMKCJpbWFnZS9wbmciKTsKCSAgICAgICAgICBjYWxsYmFjayhuZXdVUkwpOwoJICAgICAgICB9OwoKCSAgICAgICAgbmV3SW1hZ2Uuc3JjID0gZGF0YVVybDsKCSAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICB9CgkgICAgfQoKCSAgICB2YXIgZGF0YVVybCA9IGdldFJlbmRlckJ1ZmZlclNjcmVlblNob3QoKTsKCSAgICB0aGlzLnJlbmRlcigpOwoJICAgIHJldHVybiBkYXRhVXJsOwoJICB9LAoKCSAgLyoqCgkgICAqIOiOt+W+l3JlbmRlciBidWZmZXIgYmFzZTY05Zu+5b2i5pWw5o2uCgkgICAqCgkgICAqIEBwYXJhbSB7Q29sb3J9IGJhY2tncm91bmRDbHIgLSDog4zmma/popzoibIKCSAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2soZGF0YVVybCkgLSDlm57osIPlh73mlbDvvIjlj4LmlbDkuLrmiKrlj5bnmoQgYmFzZTY0IOWbvuW9ouaVsOaNru+8iQoJICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWmguaenOWtmOWcqOWbnuiwg+WHveaVsO+8jOWImei/lOWbniBudWxs77yMIOWQpuWImSDov5Tlm54gYmFzZTY0IOWbvuW9ouaVsOaNrgoJICAgKi8KCSAgY2FudmFzMmltYWdlOiBmdW5jdGlvbiBjYW52YXMyaW1hZ2UoYmFja2dyb3VuZENsciwgY2FsbGJhY2spIHsKCSAgICB2YXIgZGF0YVVybDsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoKCSAgICBpZiAoY2FsbGJhY2spIHsKCSAgICAgIHRoaXMuZ2V0UmVuZGVyQnVmZmVyU2NyZWVuU2hvdChiYWNrZ3JvdW5kQ2xyLCBmdW5jdGlvbiAoZGF0YVVybCkgewoJICAgICAgICBjYWxsYmFjayhkYXRhVXJsKTsgLy8g5q+P5qyh6I635b6X5oiq5Zu+5ZCO77yM57yT5a2Y5pWw5o2u6LKM5Ly86KKr5riF6Zmk5LqGCgkgICAgICAgIC8vIOaJgOS7peWcqOavj+asoeiwg+eUqOWQjnJlbmRlcuS4gOasoQoKCSAgICAgICAgc2NvcGUucmVuZGVyKCk7CgkgICAgICB9KTsKCSAgICB9IGVsc2UgewoJICAgICAgZGF0YVVybCA9IHRoaXMuZ2V0UmVuZGVyQnVmZmVyU2NyZWVuU2hvdChiYWNrZ3JvdW5kQ2xyKTsgLy8g5ZyoY2hyb21l5Lit5aSa6LCD55So5Yeg5qyh77yM5Lya5Ye6546w5Zu+54mH5pi+56S65LiN5q2j5bi477yI5pi+56S656m655m977yM5Y6f5Zug5piv6L2s5o2i55qE5YC85Y+Y5b6X5LiN5q2j5bi45LqG77yJ77yMCgkgICAgICAvLyDmr4/mrKHojrflvpfmiKrlm77lkI7vvIznvJPlrZjmlbDmja7osozkvLzooqvmuIXpmaTkuoYKCSAgICAgIC8vIOaJgOS7peWcqOavj+asoeiwg+eUqOWQjnJlbmRlcuS4gOasoQoKCSAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgICByZXR1cm4gZGF0YVVybDsKCSAgICB9CgoJICAgIHJldHVybiBudWxsOwoJICB9LAoKCSAgLyoqCgkgICAqIOaYr+WQpumUgeWumlrovbQKCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBpc0xvY2sgLSB0cnVlIOmUgeWumu+8jCDlkKbliJkg6Kej6ZSBCgkgICAqLwoJICBsb2NrQXhpc1o6IGZ1bmN0aW9uIGxvY2tBeGlzWihpc0xvY2spIHsKCSAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sKSB7CgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wubG9ja0F4aXNaKGlzTG9jayk7CgkgICAgfQoJICB9LAoJICBpc0xvY2tlZEF4aXNaOiBmdW5jdGlvbiBpc0xvY2tlZEF4aXNaKCkgewoJICAgIHJldHVybiB0aGlzLmNhbWVyYUNvbnRyb2wuaXNMb2NrZWRBeGlzWigpOwoJICB9LAoKCSAgLyoqCgkgICAqIOWFgeiuuOWPjOWHu+WNiumAj+aYjgoJICAgKgoJICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZSAtIHRydWUg5YWB6K64CgkgICAqLwoJICBlbmFibGVUcmFuc2x1Y2VudEJ5RENsaWNrOiBmdW5jdGlvbiBlbmFibGVUcmFuc2x1Y2VudEJ5RENsaWNrKGVuYWJsZSkgewoJICAgIEdsb2JhbERhdGEuRW5hYmxlRGVtb2xpc2hCeURDbGljayA9IGVuYWJsZTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmmK/lkKbnpoHmraLml4vovawKCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgLSB0cnVlIOemgeatogoJICAgKi8KCSAgZGlzYWJsZVJvdGF0ZTogZnVuY3Rpb24gZGlzYWJsZVJvdGF0ZShkaXNhYmxlKSB7CgkgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbCkgewoJICAgICAgdGhpcy5jYW1lcmFDb250cm9sLmRpc2FibGVSb3RhdGUoZGlzYWJsZSk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqICDml4vovaznhafnm7jmnLoKCSAgICoKCSAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IyfSByb3RhdGlvbkRlbHRhIC0gcm90YXRpb24gdmFsdWUsIHBpeGVsIHZhbHVlIGluIHRoZSBzY3JlZW4gY29vcmRpbmF0ZQoJICAgKi8KCSAgcm90YXRlQ2FtZXJhOiBmdW5jdGlvbiByb3RhdGVDYW1lcmEocm90YXRpb25EZWx0YSkgewoJICAgIHRoaXMuY2FtZXJhQ29udHJvbC5wcm9jZXNzUm90YXRlKHJvdGF0aW9uRGVsdGEpOwoJICAgIHRoaXMuY2FtZXJhQ29udHJvbC51cGRhdGUoKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDlj5blvpfnhafnm7jmnLrkv6Hmga/vvIzljIXmi6znhafnm7jmnLrnmoTmnJ3lkJHlkox1cOi9tOaWueWQkQoJICAgKi8KCSAgZ2V0QWN0aXZlQ2FtZXJhSW5mbzogZnVuY3Rpb24gZ2V0QWN0aXZlQ2FtZXJhSW5mbygpIHsKCSAgICB2YXIgaW5mbyA9IHt9OwoJICAgIGluZm8udXAgPSBuZXcgVEhSRUUuVmVjdG9yMygpOwoJICAgIGluZm8uZGlyID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsKCSAgICB2YXIgbWFpbkNhbWVyYSA9IHRoaXMuY2FtZXJhOyAvLyDojrflvpfnm7jmnLrmlrnlkJHlkJHph48KCgkgICAgdmFyIGRpciA9IG1haW5DYW1lcmEuZ2V0V29ybGREaXJlY3Rpb24obmV3IFRIUkVFLlZlY3RvcjMoKSk7CgkgICAgaW5mby51cC5jb3B5KG1haW5DYW1lcmEucmVhbFVwIHx8IG1haW5DYW1lcmEudXApOwoJICAgIGluZm8uZGlyLmNvcHkoZGlyKTsKCSAgICBpbmZvLnF1YXRlcm5pb24gPSBtYWluQ2FtZXJhLnF1YXRlcm5pb24uY2xvbmUoKTsKCSAgICByZXR1cm4gaW5mbzsKCSAgfSwKCgkgIC8qKgoJICAgKiDorqHnrpfliIfpnaIKCSAgICoKCSAgICovCgkgIGNhbGN1bGF0aW9uUGxhbmVzOiBmdW5jdGlvbiBjYWxjdWxhdGlvblBsYW5lcygpIHsKCSAgICBpZiAodGhpcy5pc1JlY2FsY3VsYXRpb25QbGFuZXMpIHsKCSAgICAgIHRoaXMuaXNSZWNhbGN1bGF0aW9uUGxhbmVzID0gZmFsc2U7CgkgICAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIHZhciBib3ggPSB0aGlzLnNjZW5lLmdldEJvdW5kaW5nQm94T2ZHZW9tZXRyaWVzKCk7CgoJICAgICAgdmFyIGJveCA9IHRoaXMuZ2V0Qm91bmRpbmdCb3hCeUlkcygpOwoKCSAgICAgIGlmIChib3guaXNFbXB0eSgpKSB7CgkgICAgICAgIGJveCA9IHNjZW5lLmdldEJvdW5kaW5nQm94KCk7CgkgICAgICB9CgoJICAgICAgc2NlbmUuZ2V0Q2xpcFBsYW5lcygpLmNhbGN1bGF0aW9uUGxhbmVzKGJveC5nZXRTaXplKG5ldyBUSFJFRS5WZWN0b3IzKCkpLCBib3guZ2V0Q2VudGVyKG5ldyBUSFJFRS5WZWN0b3IzKCkpKTsKCSAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOmHjee9ruWIh+mdoueKtuaAgQoJICAgKgoJICAgKi8KCSAgcmVjYWxjdWxhdGlvblBsYW5lczogZnVuY3Rpb24gcmVjYWxjdWxhdGlvblBsYW5lcygpIHsKCSAgICB0aGlzLmlzUmVjYWxjdWxhdGlvblBsYW5lcyA9IHRydWU7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572ub2N0cmVlIOa3seW6pgoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZGVwdGggLSDmt7HluqYKCSAgICovCgkgIHNldE9jdGFudERlcHRoOiBmdW5jdGlvbiBzZXRPY3RhbnREZXB0aChkZXB0aCkgewoJICAgIEdsb2JhbERhdGEuT2N0YW50RGVwdGggPSBkZXB0aDsKCSAgfSwKCgkgIC8qKgoJICAgKiDph43nva7lr7nosaHmsaDlpKflsI8KCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IHNpemUgLSDlr7nosaHmsaDlr7nosaHmlbAKCSAgICovCgkgIHJlc2l6ZVBvb2w6IGZ1bmN0aW9uIHJlc2l6ZVBvb2woc2l6ZSkgewoJICAgIEdsb2JhbERhdGEubWF4T2JqZWN0TnVtSW5Qb29sID0gc2l6ZTsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci51cGRhdGVTY2VuZVJlbmRlcmFibGUoKTsKCSAgICB0aGlzLnJlbmRlcigpOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9rumrmOS8mOWFiOe6pwoJICAgKgoJICAgKiBAcGFyYW0ge0FycmF5fSBjYXRlZ29yaWVzIC0g6auY5LyY5YWI57qnY2F0ZWdvcnkKCSAgICogQHBhcmFtIHtOdW1iZXJ9IHJlZ2lvbiAtIOWGheWklumDqO+8iDDvvJrlhoXpg6jvvIwx77ya5aSW6YOo77yJCgkgICAqLwoJICBzZXRDYXRlZ29yaWVzVG9IaWdoUHJpb3JpdHk6IGZ1bmN0aW9uIHNldENhdGVnb3JpZXNUb0hpZ2hQcmlvcml0eShjYXRlZ29yaWVzLCByZWdpb24pIHsKCSAgICB2YXIgc2lkZSA9IHJlZ2lvbiA9PSAwID8gImlubmVyIiA6ICJvdXRlciI7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIuc2V0Q2F0ZWdvcmllc1RvSGlnaFByaW9yaXR5KGNhdGVnb3JpZXMsIHNpZGUpOwoJICB9LAoKCSAgLyoqCgkgICAqIOa4hemZpOWGhemDqOaIluiAheWklumDqCBjYXRlZ29yeSDpq5jkvJjlhYjnuqcKCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IHJlZ2lvbiAtIOWGheWklumDqO+8iDDvvJrlhoXpg6jvvIwx77ya5aSW6YOo77yJCgkgICAqLwoJICBjbGVhckNhdGVnb3JpZXNGcm9tSGlnaFByaW9yaXR5OiBmdW5jdGlvbiBjbGVhckNhdGVnb3JpZXNGcm9tSGlnaFByaW9yaXR5KHJlZ2lvbikgewoJICAgIHZhciBzaWRlID0gcmVnaW9uID09PSAwID8gImlubmVyIiA6ICJvdXRlciI7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIuY2xlYXJDYXRlZ29yaWVzRnJvbUhpZ2hQcmlvcml0eShzaWRlKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmuIXpmaTlhoXlpJbpg6ggY2F0ZWdvcnkg6auY5LyY5YWI57qnCgkgICAqCgkgICAqLwoJICBjbGVhckFsbENhdGVnb3JpZXNGcm9tSGlnaFByaW9yaXR5OiBmdW5jdGlvbiBjbGVhckFsbENhdGVnb3JpZXNGcm9tSGlnaFByaW9yaXR5KCkgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLmNsZWFyQWxsQ2F0ZWdvcmllc0Zyb21IaWdoUHJpb3JpdHkoKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmjInmnaHku7bpmpTnprvmnoTku7YKCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gY29uZGl0aW9ucyAgICAtIOWkmuS4quadoeS7tuWvueixoeaVsOe7hO+8jOWNleS4quaVsOe7hOWPluS6pOmbhu+8jOWkmuS4quaVsOe7hOWPluW5tumbhgoJICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbeyJjYXRlZ29yeUlkIjotMjAwMTM0MH0seyJzcGVjaWFsdHkiOiJBUiJ9LHsiY2F0ZWdvcnlJZCI6LTIzMjE1MDAsImxldmVsTmFtZSI6IkYwMyJ9XQoJICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdGUgICAgICAgIC0g6ZqU56a755qE5pa55byPICJoaWRlIu+8muWFtuS7lumakOiXj++8jCJ0cmFuc2x1Y2VudCLvvJrlhbbku5bljYrpgI/mmI4KCSAgICovCgkgIGlzb2xhdGU6IGZ1bmN0aW9uIGlzb2xhdGUoY29uZGl0aW9ucywgc3RhdGUpIHsKCSAgICB2YXIgZmlsdGVyID0gdGhpcy5nZXRGaWx0ZXIoKTsKCgkgICAgc3dpdGNoIChzdGF0ZSkgewoJICAgICAgY2FzZSAiaGlkZSI6CgkgICAgICAgIGZpbHRlci5zZXRJc29sYXRlQ29uZGl0aW9ucyhjb25kaXRpb25zLCBFbnVtSXNvbGF0ZVN0YXRlLkhJRERFTl9PVEhFUlMpOwoJICAgICAgICBicmVhazsKCgkgICAgICBjYXNlICJ0cmFuc2x1Y2VudCI6CgkgICAgICAgIGZpbHRlci5zZXRJc29sYXRlQ29uZGl0aW9ucyhjb25kaXRpb25zLCBFbnVtSXNvbGF0ZVN0YXRlLlRSQU5TTFVDRU5UX09USEVSUyk7CgkgICAgICAgIGJyZWFrOwoKCSAgICAgIGRlZmF1bHQ6CgkgICAgICAgIGxvZ2dlciQxLndhcm4oIm5vIHRoaXMgaXNvbGF0ZSBzdGF0ZSA6ICIgKyBzdGF0ZSk7CgkgICAgICAgIGJyZWFrOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7pmpTnprvmnoTku7bmnZDotKgKCSAgICoKCSAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIOadkOi0qOWPguaVsAoJICAgKiAgICAgICAgIHBhcmFtcyA9IHtjb2xvcjogMHg4ODg4ODgsIG9wYWNpdHk6IDAuMSwgdHJhbnNwYXJlbnQ6IHRydWUsIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGV9CgkgICAqLwoJICBzZXRJc29sYXRlTWF0ZXJpYWw6IGZ1bmN0aW9uIHNldElzb2xhdGVNYXRlcmlhbChwYXJhbXMpIHsKCSAgICB2YXIgZmlsdGVyID0gdGhpcy5nZXRGaWx0ZXIoKTsKCSAgICBmaWx0ZXIuc2V0SXNvbGF0ZU1hdGVyaWFsKHBhcmFtcyk7CgkgIH0sCgoJICAvKioKCSAgICog6YeN572u6ZqU56a75p2Q6LSoCgkgICAqCgkgICAqLwoJICByZXNldElzb2xhdGVNYXRlcmlhbDogZnVuY3Rpb24gcmVzZXRJc29sYXRlTWF0ZXJpYWwoKSB7CgkgICAgdmFyIGZpbHRlciA9IHRoaXMuZ2V0RmlsdGVyKCk7CgkgICAgZmlsdGVyLnJlc2V0SXNvbGF0ZU1hdGVyaWFsKCk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5bem5Y+z6ZSuIOiuvue9ruW3puWPs+mUru+8jOWPquWvuU9yYml0L1BpY2sg5qih5byP6LW35L2c55SoCgkgICAqCgkgICAqIEBwYXJhbSB7U3RyaW5nfSBidXR0b24gLSDlt6blj7PplK7moIfor4YgKCJsZWZ0IiwiIHJpZ2h0IikKCSAgICovCgkgIHNldE9yYml0QnV0dG9uOiBmdW5jdGlvbiBzZXRPcmJpdEJ1dHRvbihidXR0b24pIHsKCSAgICAvLyB2YXIgb3JiaXRFZGl0b3IgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLl9nZXRFZGl0b3JCeU5hbWUodGhpcywgRWRpdG9yTW9kZS5PUkJJVCk7CgkgICAgLy8gdmFyIHBpY2tFZGl0b3IgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLl9nZXRFZGl0b3JCeU5hbWUodGhpcywgRWRpdG9yTW9kZS5QSUNLKTsKCSAgICB2YXIgb3JiaXRFZGl0b3IgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLl9nZXRDb250cm9sQnlOYW1lKHRoaXMsICJvcmJpdCIpOyAvL2x0eQoKCgkgICAgdmFyIHBpY2tFZGl0b3IgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLl9nZXRDb250cm9sQnlOYW1lKHRoaXMsICJwaWNrIik7CgoJICAgIHZhciBjb25maWcgPSB7fTsKCgkgICAgaWYgKGJ1dHRvbiA9PT0gImxlZnQiKSB7CgkgICAgICBjb25maWcgPSB7CgkgICAgICAgIE9SQklUOiBUSFJFRS5NT1VTRS5MRUZULAoJICAgICAgICBQQU4yOiBUSFJFRS5NT1VTRS5NSURETEUsCgkgICAgICAgIFBBTjogVEhSRUUuTU9VU0UuUklHSFQKCSAgICAgIH07CgkgICAgfSBlbHNlIGlmIChidXR0b24gPT09ICJyaWdodCIpIHsKCSAgICAgIGNvbmZpZyA9IHsKCSAgICAgICAgT1JCSVQ6IFRIUkVFLk1PVVNFLlJJR0hULAoJICAgICAgICBQQU4yOiBUSFJFRS5NT1VTRS5NSURETEUsCgkgICAgICAgIFBBTjogVEhSRUUuTU9VU0UuTEVGVAoJICAgICAgfTsKCSAgICB9CgoJICAgIGlmIChvcmJpdEVkaXRvcikgewoJICAgICAgb3JiaXRFZGl0b3IudXBkYXRlQnV0dG9ucyhjb25maWcpOwoJICAgIH0KCgkgICAgaWYgKHBpY2tFZGl0b3IpIHsKCSAgICAgIHBpY2tFZGl0b3IudXBkYXRlQnV0dG9ucyhjb25maWcpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmmL7npLrovbTnvZHkv6Hmga8KCSAgICoKCSAgICogQHBhcmFtIHtPYmplY3R9IGludGVyc2VjdCAtIOebuOS6pOS/oeaBr+WvueixoSwg5p2l5rqQcGljaywg5Y+C6ICDT05fQ0xJQ0tfUElDS+S6i+S7tueahOi/lOWbnuWvueixoQoJICAgKi8KCSAgc2hvd1BpY2tlZEluZm9ybWF0aW9uOiBmdW5jdGlvbiBzaG93UGlja2VkSW5mb3JtYXRpb24oaW50ZXJzZWN0KSB7CgkgICAgVUlIZWxwZXIuc2hvd1BpY2tlZEluZm9ybWF0aW9uKGludGVyc2VjdCk7CgkgIH0sCgkgIC8vY2FsbGJhY2vlh73mlbDkuK3lj6rljIXlkKvkuIDkuKppbnRlcnNlY3Tlj4LmlbDvvIxpbnRlcnNlY3TmmK/kuIDkuKrlr7nosaHljIXlkKvku6XkuIvlj5jph48KCSAgLy9tb2RlbEtleSwgZGlzdGFuY2UsIGZhY2UsIGZhY2VJbmRleCwgb2JqZWN0Ok1lc2hFeCwgcG9pbnQgdXNlcklkLCB3b3JsZEJvdW5kaW5nQm94LCB3b3JsZFBvc2l0aW9uCgkgIHNldFNlbGVjdFBhZENhbGxiYWNrOiBmdW5jdGlvbiBzZXRTZWxlY3RQYWRDYWxsYmFjayhjYWxsYmFjaykgewoJICAgIC8vdmFyIHNlbGVjdFBhZCA9IHRoaXMuY29udHJvbE1hbmFnZXIuY29udHJvbHNbQmFzZUNvbnRyb2wuQ29udHJvbFR5cGUuUGlja1dpdGhSZWN0XS5zZWxlY3RQYWQ7CgkgICAgdmFyIGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldEN1cnJlbnRDb250cm9sTW9kZSgpOwoKCSAgICBpZiAoY29udHJvbCAmJiBjb250cm9sLnNlbGVjdFBhZCkgewoJICAgICAgY29udHJvbC5zZWxlY3RQYWQuY2FsbGJhY2sgPSBjYWxsYmFjazsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5a6i5oi356uv6K6+5aSH5piv5ZCm5piv56e75Yqo56uv77yMCgkgICAqCgkgICAqIEBwYXJhbSBpc01vYmlsZSwgdHJ1ZSDooajnpLrlrqLmiLfnq6/ov5DooYzlnKjnp7vliqjorr7lpIfkuIrjgIJmYWxzZSDooajnpLrpnZ7np7vliqjnq6/vvIjkuIDoiKzmjIdQQ++8iQoJICAgKi8KCSAgc2V0RGV2aWNlTW9iaWxlOiBmdW5jdGlvbiBzZXREZXZpY2VNb2JpbGUoaXNNb2JpbGUpIHsKCSAgICBHbG9iYWxEYXRhLklzTW9iaWxlID0gaXNNb2JpbGUgfHwgZmFsc2U7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u57uV54K55peL6L2s5qih5byPCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBtb2RlIC0g5qih5byPIOWPguingUJJTVdJTk5FUi5CT1MzRC5Qb2ludFJvdGF0ZU1vZGUKCSAgICovCgkgIHNldFBvaW50Um90YXRlTW9kZTogZnVuY3Rpb24gc2V0UG9pbnRSb3RhdGVNb2RlKG1vZGUpIHsKCSAgICBDb250cm9sQ29uZmlnLlJvdGF0ZVBpdm90TW9kZSA9IG1vZGU7CgkgIH0sCgoJICAvKioKCSAgICog5LiW55WM5Z2Q5qCH6L2s57uY5Zu+56m66Ze0KOWcuuaZr+WPmOaNouWQjinlnZDmoIcKCSAgICoKCSAgICogQHBhcmFtIHtvYmplY3R9IHBvaW50IC0g5LiW55WM5Z2Q5qCH5LiL55qE54K56ZuGIHt4OjAsIHk6MCwgejowfQoJICAgKiBAcmV0dXJuIHtvYmplY3R9IOe7mOWbvuWMuuWfn+WdkOaghyB7eDowLCB5OjAsIHo6MH0KCSAgICovCgkgIHdvcmxkVG9EcmF3aW5nOiBmdW5jdGlvbiB3b3JsZFRvRHJhd2luZyhwb2ludCkgewoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoIWNhbWVyYUNvbnRyb2wpIHsKCSAgICAgIGxvZ2dlciQxLndhcm4oImNhbWVyYSBpcyBub3QgaW5pdGlhbGl6ZWQhISEiKTsKCSAgICAgIHJldHVybiBudWxsOwoJICAgIH0KCgkgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoJICAgIHZhciByZXRQb2ludCA9IHNjZW5lLndvcmxkVG9EcmF3aW5nKHBvaW50KTsKCSAgICByZXR1cm4gewoJICAgICAgeDogcmV0UG9pbnQueCwKCSAgICAgIHk6IHJldFBvaW50LnksCgkgICAgICB6OiByZXRQb2ludC56CgkgICAgfTsKCSAgfSwKCgkgIC8qKgoJICAgKiDnu5jlm77nqbrpl7Qo5Zy65pmv5Y+Y5o2i5ZCOKeWdkOagh+i9rOS4lueVjOWdkOaghwoJICAgKgoJICAgKiBAcGFyYW0ge29iamVjdH0gcG9pbnQgLSDnu5jlm77ljLrln5/lnZDmoIfkuIvnmoTngrnpm4Yge3g6MCwgeTowLCB6OjB944CCCgkgICAqIEByZXR1cm4ge29iamVjdH0g5LiW55WM5Z2Q5qCHIHt4OjAsIHk6MCwgejowfQoJICAgKi8KCSAgZHJhd2luZ1RvV29ybGQ6IGZ1bmN0aW9uIGRyYXdpbmdUb1dvcmxkKHBvaW50KSB7CgkgICAgdmFyIGNhbWVyYUNvbnRyb2wgPSB0aGlzLmNhbWVyYUNvbnRyb2w7CgoJICAgIGlmICghY2FtZXJhQ29udHJvbCkgewoJICAgICAgbG9nZ2VyJDEud2FybigiY2FtZXJhIGlzIG5vdCBpbml0aWFsaXplZCEhISIpOwoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfSAvLyDovazkuJbnlYzlnZDmoIcKCgoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCSAgICB2YXIgcmV0UG9pbnQgPSBzY2VuZS5kcmF3aW5nVG9Xb3JsZChwb2ludCk7CgkgICAgcmV0dXJuIHsKCSAgICAgIHg6IHJldFBvaW50LngsCgkgICAgICB5OiByZXRQb2ludC55LAoJICAgICAgejogcmV0UG9pbnQuegoJICAgIH07CgkgIH0sCgoJICAvKioKCSAgICog5LiW55WM5Z2Q5qCH6L2s5a6i5oi35Z2Q5qCHKOebuOWvueS6jmNhbnZhc+WMuuWfnykKCSAgICoKCSAgICogQHBhcmFtIHtvYmplY3R9IHdQb2ludCAtIOS4lueVjOWdkOagh+S4i+eahOeCuembhiB7eDowLCB5OjAsIHo6MH0KCSAgICogQHJldHVybiB7b2JqZWN0fSDlrqLmiLfljLrln5/lnZDmoIcge3g6MCwgeTowLCB6OjB9LCDmsqHmnInovazmjaLliJnov5Tlm55udWxsCgkgICAqLwoJICB3b3JsZFRvQ2FudmFzOiBmdW5jdGlvbiB3b3JsZFRvQ2FudmFzKHdQb2ludCkgewoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoIWNhbWVyYUNvbnRyb2wpIHsKCSAgICAgIGxvZ2dlciQxLndhcm4oImNhbWVyYSBpcyBub3QgaW5pdGlhbGl6ZWQhISEiKTsKCSAgICAgIHJldHVybiBudWxsOwoJICAgIH0KCgkgICAgdmFyIGNsaWVudFJlY3QgPSBjYW1lcmFDb250cm9sLmdldENvbnRhaW5lckRpbWVuc2lvbnMoKTsKCgkgICAgaWYgKCFjbGllbnRSZWN0KSB7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBjYW1lcmEgPSBjYW1lcmFDb250cm9sLmdldENhbWVyYSgpOwoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsgLy8g6L2s57uY5Zu+56m66Ze05Z2Q5qCHKOWcuuaZr+WPmOaNoikKCgkgICAgdmFyIHBvaW50ID0gc2NlbmUud29ybGRUb0RyYXdpbmcod1BvaW50KTsgLy8g6L2s55u45a+55LqOY2FudmFz55qE5Z2Q5qCHCgoJICAgIHZhciByZXN1bHQgPSBDYW1lcmFVdGlsLmRyYXdpbmdUb0NhbnZhcyhjYW1lcmEsIHBvaW50LCBjbGllbnRSZWN0LndpZHRoLCBjbGllbnRSZWN0LmhlaWdodCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfSwKCgkgIC8qKgoJICAgKiDlrqLmiLfljLrln5/lnZDmoIco55u45a+55LqOY2FudmFz5Yy65Z+fKei9rOS4lueVjOWdkOaghwoJICAgKgoJICAgKiBAcGFyYW0ge29iamVjdH0gY1BvaW50IC0g5a6i5oi35Yy65Z+f5Z2Q5qCH5LiL55qE54K56ZuGIHt4OjAsIHk6MCwgejowfSwg5YW25LiteuS4uui/m+ihjOWPjeaKleW9seaYr+eahOa3seW6pu+8jOm7mOiupOS4uiAw44CCCgkgICAqIEByZXR1cm4ge29iamVjdH0g5LiW55WM5Z2Q5qCHIHt4OjAsIHk6MCwgejowfSwg5rKh5pyJ6L2s5o2i5YiZ6L+U5ZuebnVsbAoJICAgKi8KCSAgY2FudmFzVG9Xb3JsZDogZnVuY3Rpb24gY2FudmFzVG9Xb3JsZChjUG9pbnQpIHsKCSAgICB2YXIgY2FtZXJhQ29udHJvbCA9IHRoaXMuY2FtZXJhQ29udHJvbDsKCgkgICAgaWYgKCFjYW1lcmFDb250cm9sKSB7CgkgICAgICBsb2dnZXIkMS53YXJuKCJjYW1lcmEgaXMgbm90IGluaXRpYWxpemVkISEhIik7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBjbGllbnRSZWN0ID0gY2FtZXJhQ29udHJvbC5nZXRDb250YWluZXJEaW1lbnNpb25zKCk7CgoJICAgIGlmICghY2xpZW50UmVjdCkgewoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoKCSAgICB2YXIgY2FtZXJhID0gY2FtZXJhQ29udHJvbC5nZXRDYW1lcmEoKTsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIOi9rOe7mOWbvuepuumXtOWdkOaghwoKCSAgICB2YXIgcG9pbnQgPSBDYW1lcmFVdGlsLmNhbnZhc1RvRHJhd2luZyhjYW1lcmEsIGNQb2ludCwgY2xpZW50UmVjdC53aWR0aCwgY2xpZW50UmVjdC5oZWlnaHQpOyAvLyDovazkuJbnlYzlnZDmoIcKCgkgICAgdmFyIHJlc3VsdCA9IHNjZW5lLmRyYXdpbmdUb1dvcmxkKHBvaW50KTsKCSAgICByZXR1cm4gewoJICAgICAgeDogcmVzdWx0LngsCgkgICAgICB5OiByZXN1bHQueSwKCSAgICAgIHo6IHJlc3VsdC56CgkgICAgfTsKCSAgfSwKCgkgIC8qKgoJICAgKiDkuJbnlYzlnZDmoIco5Y6f5aeL5Z2Q5qCHKei9rOWuouaIt+WMuuWfn+WdkOaghyjnm7jlr7nkuo7nqpflj6PlrqLmiLfljLrln58pCgkgICAqCgkgICAqIEBwYXJhbSB7b2JqZWN0fSB3UG9pbnQgLSDkuJbnlYzlnZDmoIfkuIvnmoTngrnpm4Yge3g6MCwgeTowLCB6OjB9CgkgICAqIEByZXR1cm4ge29iamVjdH0g5a6i5oi35Yy65Z+f5Z2Q5qCHIHt4OjAsIHk6MCwgejowfSwg5rKh5pyJ6L2s5o2i5YiZ6L+U5ZuebnVsbAoJICAgKi8KCSAgd29ybGRUb0NsaWVudDogZnVuY3Rpb24gd29ybGRUb0NsaWVudCh3UG9pbnQpIHsKCSAgICB2YXIgY2FtZXJhQ29udHJvbCA9IHRoaXMuY2FtZXJhQ29udHJvbDsKCgkgICAgaWYgKCFjYW1lcmFDb250cm9sKSB7CgkgICAgICBsb2dnZXIkMS53YXJuKCJjYW1lcmEgaXMgbm90IGluaXRpYWxpemVkISEhIik7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBjbGllbnRSZWN0ID0gY2FtZXJhQ29udHJvbC5nZXRDb250YWluZXJEaW1lbnNpb25zKCk7CgoJICAgIGlmICghY2xpZW50UmVjdCkgewoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoKCSAgICB2YXIgY2FtZXJhID0gY2FtZXJhQ29udHJvbC5nZXRDYW1lcmEoKTsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIOi9rOe7mOWbvuepuumXtOWdkOaghyjlnLrmma/lj5jmjaIpCgoJICAgIHZhciBwb2ludCA9IHNjZW5lLndvcmxkVG9EcmF3aW5nKHdQb2ludCk7IC8vIOi9rOebuOWvueS6jmNhbnZhc+eahOWdkOaghwoKCSAgICB2YXIgcmVzdWx0ID0gQ2FtZXJhVXRpbC5kcmF3aW5nVG9DYW52YXMoY2FtZXJhLCBwb2ludCwgY2xpZW50UmVjdC53aWR0aCwgY2xpZW50UmVjdC5oZWlnaHQpOwoKCSAgICBpZiAocmVzdWx0KSB7CgkgICAgICAvLyDovazlrqLmiLfljLrln5/lnZDmoIcKCSAgICAgIHJlc3VsdC54ICs9IGNsaWVudFJlY3QubGVmdDsKCSAgICAgIHJlc3VsdC55ICs9IGNsaWVudFJlY3QudG9wOwoJICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9CgoJICAgIHJldHVybiBudWxsOwoJICB9LAoKCSAgLyoqCgkgICAqIOS4lueVjOWdkOaghyjljp/lp4vlnZDmoIcp6L2s5a6i5oi35Yy65Z+f5Z2Q5qCHKOebuOWvueS6jueql+WPo+WuouaIt+WMuuWfnyks5Li76KaB6Kej5Yaz5LiJ57u05Z2Q5qCH5Zyo55u45py65ZCO6Z2i55qE5oOF5Ya1CgkgICAqCgkgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGFydCAtIOS4lueVjOWdkOagh+S4i+eahOi1t+eCuSB7eDowLCB5OjAsIHo6MH0KCSAgICogQHBhcmFtIHtvYmplY3R9IGVuZCAtIOS4lueVjOWdkOagh+S4i+eahOe7iOeCuSB7eDowLCB5OjAsIHo6MH0KCSAgICogQHJldHVybiB7b2JqZWN0fSDlrqLmiLfljLrln5/lnZDmoIcge3N0YXJ0Ont4OjAsIHk6MCwgejowfSwgZW5kOnt4OjAsIHk6MCwgejowfX0sIOayoeaciei9rOaNouWImei/lOWbnm51bGwKCSAgICovCgkgIHdvcmxkUG9pbnRzVG9DbGllbnQ6IGZ1bmN0aW9uIHdvcmxkUG9pbnRzVG9DbGllbnQoc3RhcnQsIGVuZCkgewoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoIWNhbWVyYUNvbnRyb2wpIHsKCSAgICAgIGxvZ2dlciQxLndhcm4oImNhbWVyYSBpcyBub3QgaW5pdGlhbGl6ZWQhISEiKTsKCSAgICAgIHJldHVybiBudWxsOwoJICAgIH0KCgkgICAgdmFyIGNsaWVudFJlY3QgPSBjYW1lcmFDb250cm9sLmdldENvbnRhaW5lckRpbWVuc2lvbnMoKTsKCgkgICAgaWYgKCFjbGllbnRSZWN0KSB7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBjYW1lcmEgPSBjYW1lcmFDb250cm9sLmdldENhbWVyYSgpOwoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCgkgICAgdmFyIF9zdGFydCA9IHNjZW5lLndvcmxkVG9EcmF3aW5nKHN0YXJ0KTsKCgkgICAgdmFyIF9lbmQgPSBzY2VuZS53b3JsZFRvRHJhd2luZyhlbmQpOwoKCSAgICB2YXIgcmVzdWx0ID0gQ2FtZXJhVXRpbC5kcmF3aW5nUG9pbnRzVG9DYW52YXMoY2FtZXJhLCBfc3RhcnQsIF9lbmQsIGNsaWVudFJlY3Qud2lkdGgsIGNsaWVudFJlY3QuaGVpZ2h0KTsKCgkgICAgaWYgKHJlc3VsdCkgewoJICAgICAgLy8g6L2s5a6i5oi35Yy65Z+f5Z2Q5qCHCgkgICAgICByZXN1bHQuc3RhcnQueCArPSBjbGllbnRSZWN0LmxlZnQ7CgkgICAgICByZXN1bHQuc3RhcnQueSArPSBjbGllbnRSZWN0LnRvcDsKCSAgICAgIHJlc3VsdC5lbmQueCArPSBjbGllbnRSZWN0LmxlZnQ7CgkgICAgICByZXN1bHQuZW5kLnkgKz0gY2xpZW50UmVjdC50b3A7CgkgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH0KCgkgICAgcmV0dXJuIG51bGw7CgkgIH0sCgoJICAvKioKCSAgICog5a6i5oi35Yy65Z+f5Z2Q5qCHKOebuOWvueS6jueql+WPo+WuouaIt+WMuuWfnynovazkuJbnlYzlnZDmoIco5Y6f5aeL5Z2Q5qCHKQoJICAgKgoJICAgKiBAcGFyYW0ge29iamVjdH0gY1BvaW50IC0g5a6i5oi35Yy65Z+f5Z2Q5qCH5LiL55qE54K56ZuGIHt4OjAsIHk6MCwgejowfSwg5YW25LiteuS4uui/m+ihjOWPjeaKleW9seaYr+eahOa3seW6pu+8jOm7mOiupOS4uiAw44CCCgkgICAqIEByZXR1cm4ge29iamVjdH0g5LiW55WM5Z2Q5qCHIHt4OjAsIHk6MCwgejowfSwg5rKh5pyJ6L2s5o2i5YiZ6L+U5ZuebnVsbAoJICAgKi8KCSAgY2xpZW50VG9Xb3JsZDogZnVuY3Rpb24gY2xpZW50VG9Xb3JsZChjUG9pbnQpIHsKCSAgICB2YXIgY2FtZXJhQ29udHJvbCA9IHRoaXMuY2FtZXJhQ29udHJvbDsKCgkgICAgaWYgKCFjYW1lcmFDb250cm9sKSB7CgkgICAgICBsb2dnZXIkMS53YXJuKCJjYW1lcmEgaXMgbm90IGluaXRpYWxpemVkISEhIik7CgkgICAgICByZXR1cm4gbnVsbDsKCSAgICB9CgoJICAgIHZhciBjbGllbnRSZWN0ID0gY2FtZXJhQ29udHJvbC5nZXRDb250YWluZXJEaW1lbnNpb25zKCk7CgoJICAgIGlmICghY2xpZW50UmVjdCkgewoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoKCSAgICB2YXIgcG9pbnQgPSB7CgkgICAgICB4OiBjUG9pbnQueCwKCSAgICAgIHk6IGNQb2ludC55LAoJICAgICAgejogY1BvaW50LnoKCSAgICB9OyAvLyDovaznm7jlr7nkuo5jYW52YXPnmoTlnZDmoIcKCgkgICAgcG9pbnQueCAtPSBjbGllbnRSZWN0LmxlZnQ7CgkgICAgcG9pbnQueSAtPSBjbGllbnRSZWN0LnRvcDsKCSAgICB2YXIgY2FtZXJhID0gY2FtZXJhQ29udHJvbC5nZXRDYW1lcmEoKTsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7IC8vIOi9rOe7mOWbvuepuumXtOWdkOaghwoKCSAgICB2YXIgcG9pbnQgPSBDYW1lcmFVdGlsLmNhbnZhc1RvRHJhd2luZyhjYW1lcmEsIHBvaW50LCBjbGllbnRSZWN0LndpZHRoLCBjbGllbnRSZWN0LmhlaWdodCk7IC8vIOi9rOS4lueVjOWdkOaghwoKCSAgICB2YXIgcmVzdWx0ID0gc2NlbmUuZHJhd2luZ1RvV29ybGQocG9pbnQpOwoJICAgIHJldHVybiB7CgkgICAgICB4OiByZXN1bHQueCwKCSAgICAgIHk6IHJlc3VsdC55LAoJICAgICAgejogcmVzdWx0LnoKCSAgICB9OwoJICB9LAoKCSAgLyoqCgkgICAqIOS4lueVjOWdkOaghyjljp/lp4vlnZDmoIcp54K55ZCr5Zyo55u45py66KeG6ZSl5LitCgkgICAqCgkgICAqIEBwYXJhbSB7b2JqZWN0fSB3UG9pbnQgLSDkuJbnlYzlnZDmoIcge3g6MCwgeTowLCB6OjB9CgkgICAqIEByZXR1cm4ge0Jvb2xlYW59IOWcqOebuOacuuinhumUpeS4re+8jOi/lOWbnnRydWXvvIzlkKbliJnvvIzov5Tlm55mYWxzZQoJICAgKi8KCSAgaW5zaWRlQ2FtZXJhOiBmdW5jdGlvbiBpbnNpZGVDYW1lcmEod1BvaW50KSB7CgkgICAgdmFyIGNhbWVyYUNvbnRyb2wgPSB0aGlzLmNhbWVyYUNvbnRyb2w7CgoJICAgIGlmICghY2FtZXJhQ29udHJvbCkgewoJICAgICAgbG9nZ2VyJDEud2FybigiY2FtZXJhIGlzIG5vdCBpbml0aWFsaXplZCEhISIpOwoJICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH0KCgkgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOyAvLyDovazmjaLliLDnu5jliLbnqbrpl7TnmoTlnZDmoIcKCgkgICAgdmFyIHBvaW50ID0gc2NlbmUud29ybGRUb0RyYXdpbmcod1BvaW50KTsKCSAgICB2YXIgZnJ1c3R1bSA9IGNhbWVyYUNvbnRyb2wuZ2V0RnJ1c3R1bSgpOwoJICAgIHJldHVybiBmcnVzdHVtLmNvbnRhaW5zUG9pbnQocG9pbnQpOwoJICB9LAoKCSAgLyoqCgkgICAqIOagueaNrue7meWumuS4lueVjOezu+S4reeahOeCueS7peW5s+ihjOinhue6v+aWueWQkeWumuS9jQoJICAgKgoJICAgKiBAcGFyYW0ge09iamVjdH0gd1BvaW50IC0g5LiW55WM57O75Z2Q5qCH54K5IHt4OiAwLCB5OjAsIHo6MH0KCSAgICovCgkgIGxvY2F0ZVRvUG9pbnRXaXRoUGFyYWxsZWxFeWU6IGZ1bmN0aW9uIGxvY2F0ZVRvUG9pbnRXaXRoUGFyYWxsZWxFeWUod1BvaW50KSB7CgkgICAgdmFyIGNhbWVyYUNvbnRyb2wgPSB0aGlzLmNhbWVyYUNvbnRyb2w7CgoJICAgIGlmICghY2FtZXJhQ29udHJvbCkgewoJICAgICAgbG9nZ2VyJDEud2FybigiY2FtZXJhIGlzIG5vdCBpbml0aWFsaXplZCEhISIpOwoJICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH0KCgkgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoJICAgIHZhciBwb2ludCA9IHNjZW5lLndvcmxkVG9EcmF3aW5nKHdQb2ludCk7CgkgICAgY2FtZXJhQ29udHJvbC5mbHlUb1BvaW50V2l0aFBhcmFsbGVsRXllKHBvaW50KTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmoLnmja7nu5nlrprkuJbnlYzns7vkuK3nmoTngrnkv53mjIHop4bop5Lov5vooYzlrprkvY0KCSAgICoKCSAgICogQHBhcmFtIHtPYmplY3R9IHdQb2ludCAtIOS4lueVjOezu+WdkOagh+eCuSB7eDogMCwgeTowLCB6OjB9CgkgICAqLwoJICBsb2NhdGVUb1BvaW50OiBmdW5jdGlvbiBsb2NhdGVUb1BvaW50KHdQb2ludCkgewoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoIWNhbWVyYUNvbnRyb2wpIHsKCSAgICAgIGxvZ2dlciQxLndhcm4oImNhbWVyYSBpcyBub3QgaW5pdGlhbGl6ZWQhISEiKTsKCSAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9CgoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCSAgICB2YXIgcG9pbnQgPSBzY2VuZS53b3JsZFRvRHJhd2luZyh3UG9pbnQpOwoJICAgIGNhbWVyYUNvbnRyb2wuZmx5VG9Qb2ludChwb2ludCk7CgkgIH0sCgoJICAvKioKCSAgICog5piv5ZCm5ZCv55So6byg5qCHaG92ZXIKCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgLSDlkK/nlKjmiJbnpoHmraIKCSAgICovCgkgIGVuYWJsZUhvdmVyOiBmdW5jdGlvbiBlbmFibGVIb3ZlcihlbmFibGUpIHsKCSAgICBHbG9iYWxEYXRhLkhvdmVyID0gZW5hYmxlOwoJICB9LAoJICBnZXRJQkxNYW5hZ2VyOiBmdW5jdGlvbiBnZXRJQkxNYW5hZ2VyKCkgewoJICAgIHJldHVybiB0aGlzLklCTE1hbmFnZXI7CgkgIH0sCgkgIGxvYWRFbnZNYXA6IGZ1bmN0aW9uIGxvYWRFbnZNYXAodXJsKSB7CgkgICAgdmFyIG1hcFVybCA9IFsicG9zeC5oZHIiLCAibmVneC5oZHIiLCAicG9zeS5oZHIiLCAibmVneS5oZHIiLCAicG9zei5oZHIiLCAibmVnei5oZHIiXTsKCSAgICB2YXIgZW52TWFwVXJsID0gW107CgoJICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSArPSAxKSB7CgkgICAgICBlbnZNYXBVcmwucHVzaCgiLyIgKyB1cmwgKyAiLyIgKyBtYXBVcmxbaV0pOwoJICAgIH0KCgkgICAgdmFyIHNjb3BlID0gdGhpczsKCSAgICB2YXIgY3ViZVRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuSERSQ3ViZVRleHR1cmVMb2FkZXIoKTsKCSAgICBjdWJlVGV4dHVyZUxvYWRlci5sb2FkKFRIUkVFLkZsb2F0VHlwZSwgZW52TWFwVXJsLCBmdW5jdGlvbiAoaGRyQ3ViZU1hcCkgewoJICAgICAgc2NvcGUuZW52aXJvbm1lbnRDdWJlTWFwID0gaGRyQ3ViZU1hcDsKCSAgICAgIHNjb3BlLm1vZGVsTWFuYWdlci51cGRhdGVNYXRlcmlhbHNWYWx1ZSgiZW52TWFwIiwgaGRyQ3ViZU1hcCk7CgkgICAgICBzY29wZS5yZW5kZXIoKTsKCSAgICB9KTsKCSAgfSwKCSAgc2V0RW52TWFwSW50ZW5zaXR5OiBmdW5jdGlvbiBzZXRFbnZNYXBJbnRlbnNpdHkodmFsdWUpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci51cGRhdGVNYXRlcmlhbHNWYWx1ZSgiZW52TWFwSW50ZW5zaXR5IiwgdmFsdWUpOwoJICAgIHRoaXMucmVuZGVyKCk7CgkgIH0sCgkgIGNsb3NlRW52TWFwOiBmdW5jdGlvbiBjbG9zZUVudk1hcCgpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci51cGRhdGVNYXRlcmlhbHNWYWx1ZSgiZW52TWFwIiwgbnVsbCk7CgkgICAgdGhpcy5yZW5kZXIoKTsKCSAgfSwKCSAgZW5hYmxlU1NBTzogZnVuY3Rpb24gZW5hYmxlU1NBTyh2YWx1ZSkgewoJICAgIGlmIChHbG9iYWxEYXRhLkluY3JlbWVudFJlbmRlcikgewoJICAgICAgcmV0dXJuOwoJICAgIH0KCgkgICAgR2xvYmFsRGF0YS5FbmFibGVSZW5kZXJQYXNzID0gdmFsdWU7CgkgICAgR2xvYmFsRGF0YS5TU0FPID0gdmFsdWU7CgkgICAgdGhpcy5yZW5kZXIoKTsKCSAgfSwKCSAgc3dpdGNoTmV3U3R5bGVNYXRlcmlhbDogZnVuY3Rpb24gc3dpdGNoTmV3U3R5bGVNYXRlcmlhbChuZXdTdHlsZSkgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnN3aXRjaE5ld1N0eWxlTWF0ZXJpYWwobmV3U3R5bGUpOwoJICAgIHRoaXMuc2V0UmVuZGVyU3RhdGVDaGFuZ2VkKHRydWUpOwoJICAgIHRoaXMucmVuZGVyKCk7CgkgIH0sCgoJICAvKioKCSAgICog5re75Yqg5bim57q555CG55qE5bmz6Z2iKOS4lueVjOezu+WdkOagh++8jFrovbTmnJ3kuIopCgkgICAqCgkgICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gbWluIC0g5pyA5bCP54K5CgkgICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gbWF4IC0g5pyA5aSn54K5CgkgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSDotLTlm77ot6/lvoQKCSAgICogKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIOaIkOWKn+Wbnuiwg+WHveaVsAoJICAgKiBAcmV0dXJuIHtUSFJFRS5NZXNofSDor7foh6rooYzkv53lrZjnlJ/miJDnmoTlubPpnaIsIHZpc2libGXlsZ7mgKfmjqfliLblubPpnaLmmK/lkKbmmL7npLoKCSAgICovCgkgIGFkZFBsYW5lOiBmdW5jdGlvbiBhZGRQbGFuZShtaW4sIG1heCwgdXJsLCBjYWxsYmFjaykgewoJICAgIHZhciBjZW50ZXIgPSBuZXcgVEhSRUUuVmVjdG9yMygpOwoJICAgIGNlbnRlci5hZGRWZWN0b3JzKG5ldyBUSFJFRS5WZWN0b3IzKG1pbi54LCBtaW4ueSwgbWluLnopLCBuZXcgVEhSRUUuVmVjdG9yMyhtYXgueCwgbWF4LnksIG1heC56KSk7CgkgICAgY2VudGVyLm11bHRpcGx5U2NhbGFyKDAuNSk7CgkgICAgdmFyIHBsYW5lID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkobWF4LnggLSBtaW4ueCwgbWF4LnkgLSBtaW4ueSk7CgkgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChwbGFuZSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsKCSAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUsCgkgICAgICB0cmFuc3BhcmVudDogdHJ1ZSwKCSAgICAgIGRlcHRoVGVzdDogdHJ1ZQoJICAgIH0pKTsgLy9tZXNoLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAqIDAuNTsKCgkgICAgbWVzaC5wb3NpdGlvbi5jb3B5KGNlbnRlcik7CgkgICAgbWVzaC5yZW5kZXJPcmRlciA9IDEwOyAvLyBnaXZlIGEgaGlnaGVyIHByaW9yaXR5CgoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCSAgICB2YXIgZ3JvdXAgPSBzY2VuZS5nZXRPckNyZWF0ZUdyb3VwKEdyb3VwVHlwZS5DVVNUT01QTEFORSwgewoJICAgICAgZ2xvYmFsU3BhY2U6IHRydWUKCSAgICB9KTsKCSAgICBncm91cC5hZGQobWVzaCk7CgkgICAgbWVzaC51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoJICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpOwoJICAgIGxvYWRlci5sb2FkKHVybCwgZnVuY3Rpb24gb25TdWNjZXNzKHRleHR1cmUpIHsKCSAgICAgIG1lc2gubWF0ZXJpYWwubWFwID0gdGV4dHVyZTsKCSAgICAgIG1lc2gubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlOwoJICAgICAgc2NvcGUuc2V0UmVuZGVyU3RhdGVDaGFuZ2VkKHRydWUpOwoJICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsKCSAgICB9KTsKCSAgICByZXR1cm4gbWVzaDsKCSAgfSwKCgkgIC8qKgoJICAgKiDnp7vpmaTluKbnurnnkIbnmoTlubPpnaIKCSAgICoKCSAgICogQHBhcmFtIHtUSFJFRS5NZXNofSBwbGFuZSAtIOS8oOWFpeS9v+eUqGFkZFBsYW5l5Ye95pWw6L+U5Zue55qE5a+56LGh77yM55So5LqO5Zyo5Zy65pmv5Lit5Yig6Zmk5bmz6Z2iCgkgICAqLwoJICByZW1vdmVQbGFuZTogZnVuY3Rpb24gcmVtb3ZlUGxhbmUocGxhbmUpIHsKCSAgICB2YXIgc2NlbmUgPSB0aGlzLmdldFNjZW5lKCk7CgkgICAgdmFyIGdyb3VwID0gc2NlbmUuZ2V0R3JvdXAoR3JvdXBUeXBlLkNVU1RPTVBMQU5FKTsKCgkgICAgaWYgKGdyb3VwKSB7CgkgICAgICBncm91cC5yZW1vdmUocGxhbmUpOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmmK/lkKblkK/nlKjnurnnkIbotLTlm74KCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgLSB0cnVlIOWQr+eUqO+8jGZhbHNl77ya56aB55SoCgkgICAqLwoJICBlbmFibGVUZXh0dXJlTWFwcGluZzogZnVuY3Rpb24gZW5hYmxlVGV4dHVyZU1hcHBpbmcoZW5hYmxlKSB7CgkgICAgR2xvYmFsRGF0YS5FbmFibGVUZXh0dXJlTWFwcGluZyA9IGVuYWJsZTsgLy8gdmFyIG5lZWRzVXBkYXRlID0gdGhpcy5tb2RlbE1hbmFnZXIudXBkYXRlVGV4dHVyZU1hcHBpbmcoZW5hYmxlKTsKCSAgICAvLwoJICAgIC8vIGlmIChuZWVkc1VwZGF0ZSkgewoJICAgIC8vICAgICB0aGlzLnJlbmRlcigpOwoJICAgIC8vIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7pvKDmoIfmu5rova7mlrnlkJEKCSAgICog6buY6K6k5rua6L2u5pa55ZCRIC0g5YmN5rua77ya55u45py65YmN6L+b77yMIOWQjua7mu+8muebuOacuuWbnumAgAoJICAgKiDlj43ovazmu5rova7mlrnlkJEgLSDliY3mu5rvvJrnm7jmnLrlm57pgIDvvIwg5ZCO5rua77ya55u45py65YmN6L+bCgkgICAqCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhdGUgLSDmmK/lkKblj43ovawKCSAgICovCgkgIHNldFJldmVyc2VXaGVlbERpcmVjdGlvbjogZnVuY3Rpb24gc2V0UmV2ZXJzZVdoZWVsRGlyZWN0aW9uKHN0YXRlKSB7CgkgICAgQ29udHJvbENvbmZpZy5SZXZlcnNlV2hlZWxEaXJlY3Rpb24gPSAhIXN0YXRlOyAvL2x0eSDljp/mnaXmmK8hIXN0YXRlCgkgIH0sCgoJICAvKioKCSAgICog6I635b6X6byg5qCH5rua6L2u5Y+N6L2s54q25oCBCgkgICAqCgkgICAqIEByZXR1cm4ge0Jvb2xlYW59IOWPjei9rOeKtuaAgQoJICAgKi8KCSAgZ2V0UmV2ZXJzZVdoZWVsRGlyZWN0aW9uOiBmdW5jdGlvbiBnZXRSZXZlcnNlV2hlZWxEaXJlY3Rpb24oKSB7CgkgICAgcmV0dXJuIENvbnRyb2xDb25maWcuUmV2ZXJzZVdoZWVsRGlyZWN0aW9uOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruenu+WKqOmAn+W6puWAjeeOhwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0ZSAtIOWAjeaVsCwgMC4yNSAtIHgwLjI1LCDmmK/ljp/mnaXnmoQxLzTpgJ/luqYsIDQuMCAtIHg0LjAsIOaYr+WOn+adpemAn+W6pueahDTlgI0uCgkgICAqLwoJICBzZXRNb3ZlbWVudFNwZWVkUmF0ZTogZnVuY3Rpb24gc2V0TW92ZW1lbnRTcGVlZFJhdGUocmF0ZSkgewoJICAgIGlmIChyYXRlID09PSB1bmRlZmluZWQpIHsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIENvbnRyb2xDb25maWcuTW92ZW1lbnRTcGVlZFJhdGUgPSByYXRlOwoJICB9LAoKCSAgLyoqCgkgICAqIOiOt+W+l+enu+WKqOmAn+W6puWAjeeOhwoJICAgKgoJICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOWAjeaVsAoJICAgKi8KCSAgZ2V0TW92ZW1lbnRTcGVlZFJhdGU6IGZ1bmN0aW9uIGdldE1vdmVtZW50U3BlZWRSYXRlKCkgewoJICAgIHJldHVybiBDb250cm9sQ29uZmlnLk1vdmVtZW50U3BlZWRSYXRlOwoJICB9LAoKCSAgLyoqCgkgICAqIOebuOacuuenu+WKqAoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZGlyZWN0aW9uIOenu+WKqOaWueWQkSB7QGxpbmsgQklNV0lOTkVSLkJPUzNELk1vdmVEaXJlY3Rpb259CgkgICAqICAqIEBwYXJhbSB7TnVtYmVyfSBzdGVwIOatpei/m+Wkp+WwjwoJICAgKiBAcGFyYW0ge0Jvb2xlYW59IGdvIOaYr+WQpuWQr+WKqAoJICAgKi8KCSAgbW92ZVRvOiBmdW5jdGlvbiBtb3ZlVG8oZGlyZWN0aW9uLCBzdGVwLCBnbykgewoJICAgIHZhciBjb250cm9sID0gdGhpcy5jb250cm9sTWFuYWdlci5jb250cm9sOyAvLyBpZiAoY29udHJvbCAmJiBjb250cm9sLnNsYXZlQ29udHJvbCkgewoJICAgIC8vICAgICBjb250cm9sLnNsYXZlQ29udHJvbC5tb3ZlVG8oZGlyZWN0aW9uKTsKCSAgICAvLyB9CgoJICAgIGlmIChjb250cm9sKSB7CgkgICAgICBjb250cm9sLm1vdmVUbyhkaXJlY3Rpb24sIHN0ZXAsIGdvKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5pyd5oyH5a6a5pa55ZCR5peL6L2sCgkgICAqCgkgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWx0YSDml4vovazlgY/np7vph48gKHt4OiAxMCwgeTogMTB9KQoJICAgKi8KCSAgcm90YXRlVG86IGZ1bmN0aW9uIHJvdGF0ZVRvKGRlbHRhKSB7CgkgICAgdmFyIGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmNvbnRyb2w7CgoJICAgIGlmIChjb250cm9sKSB7CgkgICAgICBjb250cm9sLnJvdGF0ZVRvKGRlbHRhKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5piv5ZCm5ZCv55So5Y2K6YCP5piO6YGu5oyh6KeG57q/55qE5p6E5Lu2CgkgICAqCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5hYmxlIC0gdHJ1ZSDlkK/nlKjvvIxmYWxzZe+8muemgeeUqAoJICAgKi8KCSAgZW5hYmxlT2NjbHVzaW9uVHJhbnNsdWNlbnQ6IGZ1bmN0aW9uIGVuYWJsZU9jY2x1c2lvblRyYW5zbHVjZW50KGVuYWJsZSkgewoJICAgIEdsb2JhbERhdGEuT2NjbHVzaW9uVHJhbnNsdWNlbnRFbmFibGVkID0gISFlbmFibGU7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u6YGu5oyh6KeG57q/55qE5p6E5Lu255qE5LiN6YCP5piO5bqmCgkgICAqCgkgICAqIEBwYXJhbSB7TnVtYmVyfSBvcGFjaXR5IC0g5LiN6YCP5piO5bqmCgkgICAqLwoJICBzZXRPY2NsdXNpb25PcGFjaXR5OiBmdW5jdGlvbiBzZXRPY2NsdXNpb25PcGFjaXR5KG9wYWNpdHkpIHsKCSAgICBHbG9iYWxEYXRhLk9jY2x1c2lvbk9wYWNpdHkgPSBvcGFjaXR5OwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9rumBruaMoeinhue6v+eahOaehOS7tueahOi3neemu+mYiOWAvO+8jOi2hei/h+ivpemYiOWAvO+8jOWImeWNiumAj+aYjumBruaMoeeJqQoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2UgLSDot53nprvpmIjlgLwKCSAgICovCgkgIHNldE9jY2x1c2lvbkRpc3RhbmNlVG9DYW1lcmE6IGZ1bmN0aW9uIHNldE9jY2x1c2lvbkRpc3RhbmNlVG9DYW1lcmEoZGlzdGFuY2UpIHsKCSAgICBHbG9iYWxEYXRhLk9jY2x1c2lvbkRpc3RhbmNlVG9DYW1lcmEgPSBkaXN0YW5jZTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmoLnmja7pgInkuK3nmoTmnoTku7bov5vooYxmaXTlj4rnu5Xlhbbml4vovawKCSAgICoKCSAgICovCgkgIGZpdEFuZFJvdGF0ZUJ5U2VsZWN0aW9uOiBmdW5jdGlvbiBmaXRBbmRSb3RhdGVCeVNlbGVjdGlvbigpIHsKCSAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sKSB7CgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wuZml0QW5kUm90YXRlQnlTZWxlY3Rpb24oKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5ryr5ri46KGM6LWw5pe255u45py655qE6auY5bqmCgkgICAqCgkgICAqIEBwYXJhbSB7QXJyYXl9IGVsZXZhdGlvbnMgLSDlj4LogIPmoIfpq5jmlbDnu4TvvIjku47lsI/liLDlpKfnmoTmjpLluo/vvIkKCSAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIOebuOacuuebuOWvuemrmOW6pijkuJbnlYzns7vkuK3nmoTpq5jluqYpCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VSZW5kZXIgLSDlvLrliLbliLfmlrAsIOm7mOiupOW8uuWItuWIt+aWsAoJICAgKi8KCSAgc2V0Um9hbWluZ1dhbGtIZWlnaHQ6IGZ1bmN0aW9uIHNldFJvYW1pbmdXYWxrSGVpZ2h0KGVsZXZhdGlvbnMsIGhlaWdodCwgZm9yY2VSZW5kZXIpIHsKCSAgICBpZiAoIShlbGV2YXRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSB7CgkgICAgICBsb2dnZXIkMS5sb2coImVsZXZhdGlvbnMgaXMgbm90IGFycnkiKTsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoIWNhbWVyYUNvbnRyb2wpIHsKCSAgICAgIGxvZ2dlciQxLmxvZygiY2FtZXJhIGlzIG5vdCBpbml0aWFsaXplZCEhISIpOwoJICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH0KCgkgICAgaWYgKGhlaWdodCA8PSAwKSB7CgkgICAgICBoZWlnaHQgPSAxNzUwOwoJICAgIH0KCgkgICAgaWYgKGZvcmNlUmVuZGVyID09PSB1bmRlZmluZWQpIHsKCSAgICAgIGZvcmNlUmVuZGVyID0gdHJ1ZTsKCSAgICB9CgoJICAgIGNhbWVyYUNvbnRyb2wuc2V0Q2FtZXJhSGVpZ2h0KGVsZXZhdGlvbnMsIGhlaWdodCk7CgoJICAgIGlmIChmb3JjZVJlbmRlcikgewoJICAgICAgdmFyIGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldEN1cnJlbnRDb250cm9sKCk7CgoJICAgICAgaWYgKGNvbnRyb2wgJiYgY29udHJvbC5uYW1lID09PSBDb250cm9sTW9kZS5XQUxLICYmIGNvbnRyb2wudXBkYXRlKSB7CgkgICAgICAgIGNhbWVyYUNvbnRyb2wuZmx5T25Xb3JsZCgpOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7mvKvmuLjooYzotbDml7bnm7jmnLrnmoTnu53lr7npq5jluqYKCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIOebuOacuue7neWvuemrmOW6pijkuJbnlYzns7vkuK3nmoTpq5jluqYpCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VSZW5kZXIgLSDlvLrliLbliLfmlrAsIOm7mOiupOW8uuWItuWIt+aWsAoJICAgKi8KCSAgc2V0Um9hbWluZ1dhbGtBYnNvbHV0ZUhlaWdodDogZnVuY3Rpb24gc2V0Um9hbWluZ1dhbGtBYnNvbHV0ZUhlaWdodChoZWlnaHQsIGZvcmNlUmVuZGVyKSB7CgkgICAgdmFyIGNhbWVyYUNvbnRyb2wgPSB0aGlzLmNhbWVyYUNvbnRyb2w7CgoJICAgIGlmICghY2FtZXJhQ29udHJvbCkgewoJICAgICAgbG9nZ2VyJDEubG9nKCJjYW1lcmEgaXMgbm90IGluaXRpYWxpemVkISEhIik7CgkgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfQoKCSAgICBpZiAoZm9yY2VSZW5kZXIgPT09IHVuZGVmaW5lZCkgewoJICAgICAgZm9yY2VSZW5kZXIgPSB0cnVlOwoJICAgIH0KCgkgICAgY2FtZXJhQ29udHJvbC5zZXRDYW1lcmFBYnNvbHV0ZUhlaWdodChoZWlnaHQpOwoKCSAgICBpZiAoZm9yY2VSZW5kZXIpIHsKCSAgICAgIHZhciBjb250cm9sID0gdGhpcy5jb250cm9sTWFuYWdlci5nZXRDdXJyZW50Q29udHJvbCgpOwoKCSAgICAgIGlmIChjb250cm9sICYmIGNvbnRyb2wubmFtZSA9PT0gQ29udHJvbE1vZGUuV0FMSyAmJiBjb250cm9sLnVwZGF0ZSkgewoJICAgICAgICBjYW1lcmFDb250cm9sLmZseU9uV29ybGQoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5bCG55u45py65LuO57uY5Zu+5Z2Q5qCH57O76L2s5o2i5Yiw5LiW55WM5Z2Q5qCH57O7CgkgICAqCgkgICAqIEByZXR1cm5zIHtPYmplY3R9IC0g5LiW55WM57O75Lit55u45py65L2N572uIHtwb3NpdGlvbjp4eHgsIHRhcmdldDp4eHgsIHVwOnh4eH0KCSAgICovCgkgIGNhbWVyYVRvV29ybGQ6IGZ1bmN0aW9uIGNhbWVyYVRvV29ybGQoY2FtZXJhSW5mbykgewoJICAgIGlmICh0aGlzLmNhbWVyYSkgewoJICAgICAgcmV0dXJuIENhbWVyYS5kcmF3aW5nVG9Xb3JsZChjYW1lcmFJbmZvLCB0aGlzLmdldFNjZW5lKCkuZ2V0TWF0cml4R2xvYmFsKCkpOwoJICAgIH0KCgkgICAgcmV0dXJuIG51bGw7CgkgIH0sCgoJICAvKioKCSAgICog5bCG55u45py65LuO5LiW55WM5Z2Q5qCH57O76L2s5o2i5Yiw57uY5Zu+5Z2Q5qCH57O7CgkgICAqCgkgICAqIEByZXR1cm5zIHtPYmplY3R9IC0g57uY5Zu+5Z2Q5qCH57O75Lit55u45py65L2N572uIHtwb3NpdGlvbjp4eHgsIHRhcmdldDp4eHgsIHVwOnh4eH0KCSAgICovCgkgIGNhbWVyYVRvRHJhd2luZzogZnVuY3Rpb24gY2FtZXJhVG9EcmF3aW5nKGNhbWVyYUluZm8pIHsKCSAgICBpZiAodGhpcy5jYW1lcmEpIHsKCSAgICAgIHJldHVybiBDYW1lcmEud29ybGRUb0RyYXdpbmcoY2FtZXJhSW5mbywgdGhpcy5nZXRTY2VuZSgpLmdldE1hdHJpeEdsb2JhbCgpKTsKCSAgICB9CgoJICAgIHJldHVybiBudWxsOwoJICB9LAoKCSAgLyo9PT09PT09PT09PT09PT09PT09PT0gIEFQSSBmb3Igc2VsZWN0aW9uIEJlZ2luID09PT09PT09PT09PT09PT09PT09PT09Ki8KCgkgIC8qKgoJICAgKiBDbGVhciBhbGwgc2VsZWN0ZWQgb2JqZWN0IHRvIHVuc2VsZWN0ZWQgc3RhdGUuCgkgICAqCgkgICAqIElmIHRoZSBzZWxlY3Rpb24gb2JqZWN0IGxpc3Qgb2YgdGhlIHNjZW5lIGlzIGNoYW5nZWQsIE9OX1NFTEVDVElPTl9DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZC4KCSAgICovCgkgIGNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5zY2VuZVN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7CgkgIH0sCgkgIGNsZWFyTW9kZWxTZWxlY3Rpb246IGZ1bmN0aW9uIGNsZWFyTW9kZWxTZWxlY3Rpb24oKSB7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIubW9kZWxTdGF0ZS5jbGVhclNlbGVjdGlvbigpOwoJICB9LAoKCSAgLyoqCgkgICAqIEFkZCBvYmplY3RzIHRvIHNlbGVjdGlvbiBsaXN0IG9mIHRoZSBzY2VuZS4gVGhlc2Ugb2JqZWN0IHdpbGwgYmUgc2VsZWN0ZWQuCgkgICAqIElmIHRoZSBzZWxlY3Rpb24gb2JqZWN0IGxpc3Qgb2YgdGhlIHNjZW5lIGlzIGNoYW5nZWQsIE9OX1NFTEVDVElPTl9DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZC4KCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gb2JqSWRMaXN0IC0gT2JqZWN0IElkcy4KCSAgICoKCSAgICovCgkgIGFkZFRvU2VsZWN0aW9uOiBmdW5jdGlvbiBhZGRUb1NlbGVjdGlvbihvYmpJZExpc3QpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5zY2VuZVN0YXRlLmFkZFNlbGVjdGlvbihvYmpJZExpc3QpOwoJICB9LAoJICBhZGRUb01vZGVsU2VsZWN0aW9uOiBmdW5jdGlvbiBhZGRUb01vZGVsU2VsZWN0aW9uKG9iaklkTGlzdCkgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLm1vZGVsU3RhdGUuYWRkU2VsZWN0aW9uKG9iaklkTGlzdCk7CgkgIH0sCgoJICAvKioKCSAgICogUmVtb3ZlIG9iamVjdHMgZnJvbSBzZWxlY3Rpb24gbGlzdCBvZiB0aGUgc2NlbmUuIFRoZXNlIG9iamVjdCB3aWxsIGJlIHVuc2VsZWN0ZWQuCgkgICAqIElmIHRoZSBzZWxlY3Rpb24gb2JqZWN0IGxpc3Qgb2YgdGhlIHNjZW5lIGlzIGNoYW5nZWQsIE9OX1NFTEVDVElPTl9DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZC4KCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gb2JqSWRMaXN0IC0gT2JqZWN0IElkcy4KCSAgICoKCSAgICovCgkgIHJlbW92ZUZyb21TZWxlY3Rpb246IGZ1bmN0aW9uIHJlbW92ZUZyb21TZWxlY3Rpb24ob2JqSWRMaXN0KSB7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIuc2NlbmVTdGF0ZS5yZW1vdmVTZWxlY3Rpb24ob2JqSWRMaXN0KTsKCSAgfSwKCSAgcmVtb3ZlRnJvbU1vZGVsU2VsZWN0aW9uOiBmdW5jdGlvbiByZW1vdmVGcm9tTW9kZWxTZWxlY3Rpb24ob2JqSWRMaXN0KSB7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIubW9kZWxTdGF0ZS5yZW1vdmVTZWxlY3Rpb24ob2JqSWRMaXN0KTsKCSAgfSwKCgkgIC8qKgoJICAgKiBSZXBsYWNlIHNlbGVjdGlvbiBsaXN0IG9mIHRoZSBzY2VuZSB3aXRoIHRoZSBvYmplY3QgSWQgbGlzdC4gVGhlc2Ugb2JqZWN0IHdpbGwgYmUgc2VsZWN0ZWQuCgkgICAqIElmIHRoZSBzZWxlY3Rpb24gb2JqZWN0IGxpc3Qgb2YgdGhlIHNjZW5lIGlzIGNoYW5nZWQsIE9OX1NFTEVDVElPTl9DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZC4KCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gb2JqSWRMaXN0IC0gT2JqZWN0IElkcy4KCSAgICoKCSAgICovCgkgIHNldFNlbGVjdGlvbjogZnVuY3Rpb24gc2V0U2VsZWN0aW9uKG9iaklkTGlzdCkgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuc2V0U2VsZWN0aW9uKG9iaklkTGlzdCk7CgkgIH0sCgkgIHNldE1vZGVsU2VsZWN0aW9uOiBmdW5jdGlvbiBzZXRNb2RlbFNlbGVjdGlvbihvYmpJZExpc3QpIHsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5tb2RlbFN0YXRlLnNldFNlbGVjdGlvbihvYmpJZExpc3QpOwoJICB9LAoKCSAgLyoqCgkgICAqIEFkZCBvYmplY3RzIHRvIHNlbGVjdGlvbiBsaXN0IG9mIHRoZSBzY2VuZS4gVGhlc2Ugb2JqZWN0IHdpbGwgYmUgc2VsZWN0ZWQuCgkgICAqIElmIHRoZSBzZWxlY3Rpb24gb2JqZWN0IGxpc3Qgb2YgdGhlIHNjZW5lIGlzIGNoYW5nZWQsIE9OX1NFTEVDVElPTl9DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZC4KCSAgICoKCSAgICogQHJldHVybnMge0FycmF5fSBTZWxlY3RlZCBvYmplY3QgSWRzLgoJICAgKi8KCSAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7CgkgICAgcmV0dXJuIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuZ2V0U2VsZWN0aW9uKCk7CgkgIH0sCgkgIGdldE1vZGVsU2VsZWN0aW9uOiBmdW5jdGlvbiBnZXRNb2RlbFNlbGVjdGlvbigpIHsKCSAgICByZXR1cm4gdGhpcy5tb2RlbE1hbmFnZXIubW9kZWxTdGF0ZS5nZXRTZWxlY3Rpb24oKTsKCSAgfSwKCgkgIC8qKgoJICAgKiBTZXQgb3ZlcnJpZGUgbWF0ZXJpYWwgY29sb3IgZm9yIHNlbGVjdGVkIG9iamVjdC4KCSAgICoKCSAgICogQHBhcmFtIGNvbG9yIHtJbnRlZ2VyfSAtIGNvbG9yIHZhbHVlLCBmb3IgZXhhbXBsZTogMHhmZmZmZmYKCSAgICovCgkgIHNldFNlbGVjdGlvbkNvbG9yOiBmdW5jdGlvbiBzZXRTZWxlY3Rpb25Db2xvcihjb2xvcikgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuc2V0U2VsZWN0aW9uQ29sb3IoY29sb3IpOwoJICB9LAoJICBzZXRNb2RlbFNlbGVjdGlvbkNvbG9yOiBmdW5jdGlvbiBzZXRNb2RlbFNlbGVjdGlvbkNvbG9yKGNvbG9yKSB7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIubW9kZWxTdGF0ZS5zZXRTZWxlY3Rpb25Db2xvcihjb2xvcik7CgkgIH0sCgoJICAvKj09PT09PT09PT09PT09PT09PT09PSAgQVBJIGZvciBzZWxlY3Rpb24gRW5kID09PT09PT09PT09PT09PT09PT09PT09Ki8KCgkgIC8qKgoJICAgKiDmoLnmja7lrqLmiLflnZDmoIfngrnvvIzmqKHmi5/ngrnlh7vmk43kvZzlvpfliLDpgInkuK3mnoTku7bvvIzov5Tlm57pgInkuK3kv6Hmga8s5YyF5ous77yaCgkgICAqICBtZXNoSWQg77ya6YCJ5Lit5p6E5Lu255qESWQKCSAgICogIHdvcmxkUG9zaXRpb24gOiDpgInkuK3mnoTku7booqvpgInkuK3nmoTngrnnmoTkuJbnlYzlnZDmoIcKCSAgICogIHdvcmxkQm91bmRpbmdCb3ggOiDpgInkuK3mnoTku7bnmoTljIXlm7Tnm5IKCSAgICogIGZhY2VJbmRleCA6IOmAieS4reaehOS7tuiiq+mAieS4reeahOmdogoJICAgKgoJICAgKgoJICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSDlrqLmiLflnZDmoIfngrkoe3g6MCwgeTogMH0pCgkgICAqIEByZXR1cm5zIHtPYmplY3R9IC0g6YCJ5Lit5p6E5Lu25L+h5oGvLOWmguaenOayoeacieaehOS7tumAieS4re+8jOi/lOWbnm51bGwKCSAgICovCgkgIHBpY2tCeVBvaW50OiBmdW5jdGlvbiBwaWNrQnlQb2ludChwb2ludCkgewoJICAgIHZhciBjYW1lcmFDb250cm9sID0gdGhpcy5jYW1lcmFDb250cm9sOwoKCSAgICBpZiAoY2FtZXJhQ29udHJvbC5lbmFibGVkID09PSBmYWxzZSkgewoJICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH0KCgkgICAgdmFyIGNsaWVudFBvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKHBvaW50LngsIHBvaW50LnkpOwoJICAgIHZhciBwaWNrQ29udGV4dCA9IGNhbWVyYUNvbnRyb2wuZ2V0SW50ZXJzZWN0Q29udGV4dChjbGllbnRQb3MpOwoJICAgIHZhciBpbnRlcnNlY3QgPSBjYW1lcmFDb250cm9sLmludGVyc2VjdG9yLnBpY2socGlja0NvbnRleHQpOwoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCgkgICAgaWYgKGludGVyc2VjdCkgewoJICAgICAgLy8g5bCG5L2N572u5ZKM5YyF5Zu06L2s5o2i5Yiw5LiW55WM57O7CgkgICAgICBzY2VuZS5pbnRlcnNlY3RUb1dvcmxkKGludGVyc2VjdCk7CgkgICAgICB2YXIgcGlja0luZm8gPSB7fTsKCSAgICAgIHBpY2tJbmZvLmZhY2VJbmRleCA9IGludGVyc2VjdC5mYWNlSW5kZXg7CgkgICAgICBwaWNrSW5mby5tZXNoSWQgPSBpbnRlcnNlY3QudXNlcklkOwoJICAgICAgcGlja0luZm8ud29ybGRQb3NpdGlvbiA9IGludGVyc2VjdC53b3JsZFBvc2l0aW9uOwoJICAgICAgcGlja0luZm8ud29ybGRCb3VuZGluZ0JveCA9IGludGVyc2VjdC53b3JsZEJvdW5kaW5nQm94OwoJICAgICAgcmV0dXJuIHBpY2tJbmZvOwoJICAgIH0KCgkgICAgcmV0dXJuIG51bGw7CgkgIH0sCgoJICAvKioKCSAgICog5rK/6YCJ5Lit5p6E5Lu254K55omA5Zyo55qE5LiJ6KeS6Z2i5a+55bqU55qE5rOV57q/5pa55ZCR5rGC5Lik5LiqcGlja+eCuQoJICAgKgoJICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSDlrqLmiLflnZDmoIfngrkoe3g6MCwgeTogMH0pCgkgICAqLwoJICBwaWNrQnlQb2ludFdpdGhOb3JtYWw6IGZ1bmN0aW9uIHBpY2tCeVBvaW50V2l0aE5vcm1hbChwb2ludCkgewoJICAgIHZhciBzY2VuZSA9IHRoaXMuZ2V0U2NlbmUoKTsKCSAgICB2YXIgY2FtZXJhQ29udHJvbCA9IHRoaXMuY2FtZXJhQ29udHJvbDsKCgkgICAgaWYgKGNhbWVyYUNvbnRyb2wuZW5hYmxlZCA9PT0gZmFsc2UpIHsKCSAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9CgoJICAgIHZhciBjbGllbnRQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMihwb2ludC54LCBwb2ludC55KTsKCSAgICB2YXIgcGlja0NvbnRleHQgPSBjYW1lcmFDb250cm9sLmdldEludGVyc2VjdENvbnRleHQoY2xpZW50UG9zKTsKCSAgICB2YXIgaW50ZXJzZWN0ID0gY2FtZXJhQ29udHJvbC5pbnRlcnNlY3Rvci5waWNrKHBpY2tDb250ZXh0KTsKCgkgICAgaWYgKCFpbnRlcnNlY3QpIHsKCSAgICAgIHJldHVybiBudWxsOwoJICAgIH0gLy8g5bCG5L2N572u5ZKM5YyF5Zu06L2s5o2i5Yiw5LiW55WM57O7CgoKCSAgICBzY2VuZS5pbnRlcnNlY3RUb1dvcmxkKGludGVyc2VjdCk7CgkgICAgaW50ZXJzZWN0LmN4ID0gY2xpZW50UG9zLng7CgkgICAgaW50ZXJzZWN0LmN5ID0gY2xpZW50UG9zLnk7CgkgICAgdmFyIGludGVyc2VjdHMgPSBbXTsKCSAgICBpbnRlcnNlY3RzLnB1c2goaW50ZXJzZWN0KTsgLy8g6K6h566X56ys5LqM5Liq5p6E5Lu2CgoJICAgIHZhciBzY2VuZU1hdHJpeCA9IHNjZW5lLmdldE1hdHJpeEdsb2JhbCgpOwoJICAgIHZhciBkaXJlY3Rpb24gPSBpbnRlcnNlY3QuZmFjZS5ub3JtYWwuY2xvbmUoKTsKCSAgICB2YXIgb3JpZ2luID0gaW50ZXJzZWN0LndvcmxkUG9zaXRpb24uY2xvbmUoKTsKCSAgICB2YXIgcmF5ID0gbmV3IFRIUkVFLlJheShvcmlnaW4sIGRpcmVjdGlvbik7CgkgICAgcmF5LmFwcGx5TWF0cml4NChzY2VuZU1hdHJpeCk7CgkgICAgdmFyIGludGVyc2VjdEVuZCA9IGNhbWVyYUNvbnRyb2wuaW50ZXJzZWN0b3IuZ2V0SW50ZXJzZWN0QnlSYXkocGlja0NvbnRleHQsIHJheSk7CgoJICAgIGlmIChpbnRlcnNlY3RFbmQpIHsKCSAgICAgIC8vIOWwhuS9jee9ruWSjOWMheWbtOi9rOaNouWIsOS4lueVjOezuwoJICAgICAgc2NlbmUuaW50ZXJzZWN0VG9Xb3JsZChpbnRlcnNlY3RFbmQpOwoJICAgICAgaW50ZXJzZWN0cy5wdXNoKGludGVyc2VjdEVuZCk7CgkgICAgfQoKCSAgICByZXR1cm4gaW50ZXJzZWN0czsKCSAgfSwKCgkgIC8qKgoJICAgKiDliIfmjaLliLDmraPkuqTmipXlvbHnm7jmnLoKCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSByZWZyZXNoIC0g5piv5ZCm6ZyA6KaB5Yi35paw5Zy65pmvLCDpu5jorqTliLfmlrAKCSAgICovCgkgIHRvRGVmYXVsdE9ydGhvZ3JhcGhpY0NhbWVyYTogZnVuY3Rpb24gdG9EZWZhdWx0T3J0aG9ncmFwaGljQ2FtZXJhKHJlZnJlc2gpIHsKCSAgICB0aGlzLnN3aXRjaFRvQ2FtZXJhKCJvcnRoIik7CgoJICAgIGlmIChyZWZyZXNoIHx8IHJlZnJlc2ggPT09IHVuZGVmaW5lZCkgewoJICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5YiH5o2i5Yiw6YCP6KeG5oqV5b2x55u45py6CgkgICAqCgkgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVmcmVzaCAtIOaYr+WQpumcgOimgeWIt+aWsOWcuuaZrywg6buY6K6k5Yi35pawCgkgICAqLwoJICB0b0RlZmF1bHRQZXJzcGVjdGl2ZUNhbWVyYTogZnVuY3Rpb24gdG9EZWZhdWx0UGVyc3BlY3RpdmVDYW1lcmEocmVmcmVzaCkgewoJICAgIHRoaXMuc3dpdGNoVG9DYW1lcmEoInBlcnNwIik7CgoJICAgIGlmIChyZWZyZXNoIHx8IHJlZnJlc2ggPT09IHVuZGVmaW5lZCkgewoJICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICogZ2V0IGNhbWVyYSAoZGVmYXVsdCBhbmQgY3VzdG9taXplZCkgbmFtZSBsaXN0CgkgICAqCgkgICAqLwoJICBnZXRDYW1lcmFOYW1lTGlzdDogZnVuY3Rpb24gZ2V0Q2FtZXJhTmFtZUxpc3QoKSB7CgkgICAgdmFyIGRlZmF1bHRMaXN0ID0gWyJwZXNwIiwgIm9ydGgiXTsKCSAgICByZXR1cm4gZGVmYXVsdExpc3QuY29uY2F0KHRoaXMubW9kZWxNYW5hZ2VyLmdldENhbWVyYU5hbWVMaXN0KCkpOwoJICB9LAoJICBzd2l0Y2hUb0NhbWVyYTogZnVuY3Rpb24gc3dpdGNoVG9DYW1lcmEoY2FtZXJhTmFtZSkgewoJICAgIHZhciBmb3VuZCA9IHRydWU7CgoJICAgIGlmIChjYW1lcmFOYW1lID09PSAicGVyc3AiKSB7CgkgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuZGVmYXVsdENhbWVyYTsKCSAgICAgIHRoaXMuY2FtZXJhLnRvUGVyc3BlY3RpdmUoKTsKCSAgICB9IGVsc2UgaWYgKGNhbWVyYU5hbWUgPT09ICJvcnRoIikgewoJICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmRlZmF1bHRDYW1lcmE7CgkgICAgICB0aGlzLmNhbWVyYS50b09ydGhvZ3JhcGhpYygpOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgY2FtZXJhID0gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0Q2FtZXJhKGNhbWVyYU5hbWUpOwoKCSAgICAgIGlmIChjYW1lcmEpIHsKCSAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBsb2dnZXIkMS5sb2coIkZhaWwgdG8gc3dpdGNoIGJlY2F1c2Ugbm90IGZvdW5kIGNhbWVyYSAnIiArIGNhbWVyYU5hbWUgKyAiJyIpOwoJICAgICAgICBmb3VuZCA9IGZhbHNlOwoJICAgICAgfQoJICAgIH0KCgkgICAgaWYgKGZvdW5kKSB7CgkgICAgICB0aGlzLmNhbWVyYUNvbnRyb2wuc2V0Q2FtZXJhKHRoaXMuY2FtZXJhKTsKCSAgICB9CgoJICAgIHJldHVybiBmb3VuZDsKCSAgfSwKCgkgIC8qKgoJICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBvZiBhbGwgbG9hZGVkIG1vZGVscwoJICAgKi8KCSAgZ2V0TnVtT2ZFbGVtZW50czogZnVuY3Rpb24gZ2V0TnVtT2ZFbGVtZW50cygpIHsKCSAgICByZXR1cm4gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0TnVtT2ZFbGVtZW50cygpOwoJICB9LAoKCSAgLyoqCgkgICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHJlbmRlcmFibGVzIG9mIGFsbCBsb2FkZWQgbW9kZWxzCgkgICAqLwoJICBnZXROdW1PZlJlbmRlcmFibGVzOiBmdW5jdGlvbiBnZXROdW1PZlJlbmRlcmFibGVzKCkgewoJICAgIHJldHVybiB0aGlzLm1vZGVsTWFuYWdlci5nZXROdW1PZlJlbmRlcmFibGVzKCk7CgkgIH0sCgoJICAvKioKCSAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzIG9mIGFsbCBsb2FkZWQgbW9kZWxzCgkgICAqLwoJICBnZXROdW1PZlRyaWFuZ2xlczogZnVuY3Rpb24gZ2V0TnVtT2ZUcmlhbmdsZXMoKSB7CgkgICAgcmV0dXJuIHRoaXMubW9kZWxNYW5hZ2VyLmdldE51bU9mVHJpYW5nbGVzKCk7CgkgIH0sCgkgIHNldExpZ2h0UHJlc2V0OiBmdW5jdGlvbiBzZXRMaWdodFByZXNldCh2YWx1ZSkgewoJICAgIEdsb2JhbERhdGEuTGlnaHRQcmVzZXQgPSB2YWx1ZTsKCSAgICB0aGlzLmdldFNjZW5lKCkubGlnaHRQcmVzZXQoKTsKCSAgfSwKCSAgZ2V0TGlnaHRQcmVzZXQ6IGZ1bmN0aW9uIGdldExpZ2h0UHJlc2V0KCkgewoJICAgIHJldHVybiBHbG9iYWxEYXRhLkxpZ2h0UHJlc2V0OwoJICB9LAoJICBzZXRBbWJpZW50TGlnaHRJbnRlbnNpdHk6IGZ1bmN0aW9uIHNldEFtYmllbnRMaWdodEludGVuc2l0eSh2YWx1ZSkgewoJICAgIHZhciBhbWJpZW50TGlnaHQgPSB0aGlzLmdldFNjZW5lKCkuYW1iaWVudExpZ2h0OwoKCSAgICBpZiAoYW1iaWVudExpZ2h0KSB7CgkgICAgICBhbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gdmFsdWU7CgkgICAgfQoJICB9LAoJICBnZXRBbWJpZW50TGlnaHRJbnRlbnNpdHk6IGZ1bmN0aW9uIGdldEFtYmllbnRMaWdodEludGVuc2l0eSgpIHsKCSAgICB2YXIgYW1iaWVudExpZ2h0ID0gdGhpcy5nZXRTY2VuZSgpLmFtYmllbnRMaWdodDsKCgkgICAgaWYgKGFtYmllbnRMaWdodCkgewoJICAgICAgcmV0dXJuIGFtYmllbnRMaWdodC5pbnRlbnNpdHk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOmUgeWumuihjOi1sOmrmOW6pgoJICAgKgoJICAgKiBAcGFyYW0ge0Jvb2xlYW59IGxvY2sgLSDmmK/lkKbplIHlrpoKCSAgICovCgkgIHNldFdhbGtIZWlnaHRMb2NrZWQ6IGZ1bmN0aW9uIHNldFdhbGtIZWlnaHRMb2NrZWQobG9jaykgewoJICAgIHZhciBjb250cm9sID0gdGhpcy5jb250cm9sTWFuYWdlci5nZXRDdXJyZW50Q29udHJvbCgpOwoKCSAgICBpZiAoY29udHJvbCAmJiBjb250cm9sLm5hbWUgPT09IENvbnRyb2xNb2RlLldBTEspIHsKCSAgICAgIGNvbnRyb2wuc2V0SGVpZ2h0TG9ja2VkKGxvY2spOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDpvKDmoIfmjInkuIvooYzotbDop4Llr58KCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBwcmVzcyAtIOaYr+WQpuaMieS4iwoJICAgKi8KCSAgc2V0V2Fsa0xvb2tNb3VzZVByZXNzZWQ6IGZ1bmN0aW9uIHNldFdhbGtMb29rTW91c2VQcmVzc2VkKHByZXNzKSB7CgkgICAgdmFyIGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldEN1cnJlbnRDb250cm9sKCk7CgoJICAgIGlmIChjb250cm9sICYmIGNvbnRyb2wubmFtZSA9PT0gQ29udHJvbE1vZGUuV0FMSykgewoJICAgICAgY29udHJvbC5zZXREcmFnTG9vayhwcmVzcyk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruihjOi1sOWAjeeOhwoJICAgKgoJICAgKiBAcGFyYW0ge051bWJlcn0gcmF0ZSAtIOWAjeeOhwoJICAgKi8KCSAgc2V0V2Fsa1NwZWVkUmF0ZTogZnVuY3Rpb24gc2V0V2Fsa1NwZWVkUmF0ZShyYXRlKSB7CgkgICAgdmFyIGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldEN1cnJlbnRDb250cm9sKCk7CgoJICAgIGlmIChjb250cm9sICYmIGNvbnRyb2wubmFtZSA9PT0gQ29udHJvbE1vZGUuV0FMSykgewoJICAgICAgLy8gY29udHJvbC5zZXRTcGVlZFJhdGUocmF0ZSk7CgkgICAgICBDb250cm9sQ29uZmlnLk1vdmVtZW50U3BlZWRSYXRlID0gcmF0ZTsKCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u57uY5Yi26aOO5qC8CgkgICAqCgkgICAqIEBwYXJhbSB7RW51bX0gc3R5bGUgLSBCSU1XSU5ORVIuQk9TM0QuRHJhd2luZ1N0eWxlLlNIQURJTkfvvJrmqKHlnovnu5jliLbpo47moLwKCSAgIEJJTVdJTk5FUi5CT1MzRC5EcmF3aW5nU3R5bGUuQk9BUkRMSU5F77ya57q/5qGG57uY5Yi26aOO5qC8CgkgICBCSU1XSU5ORVIuQk9TM0QuRHJhd2luZ1N0eWxlLlNIQURJTkdXSVRITElORe+8miDluKbnur/moYbnmoTmqKHlnovnu5jliLbpo47moLwKCSAgICovCgkgIHNldERyYXdpbmdTdHlsZTogZnVuY3Rpb24gc2V0RHJhd2luZ1N0eWxlKHN0eWxlKSB7CgkgICAgR2xvYmFsRGF0YS5EcmF3aW5nU3R5bGUgPSBzdHlsZTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7nur/moYbpopzoibIKCSAgICoKCSAgICogQHBhcmFtIHtPYmplY3R9IGNvbG9yIC0g6buY6K6k5Li6IDB4MDAwMDAwOwoJICAgKi8KCSAgc2V0V2lyZWZyYW1lQ29sb3I6IGZ1bmN0aW9uIHNldFdpcmVmcmFtZUNvbG9yKGNvbG9yLCBvcGFjaXR5KSB7CgkgICAgdmFyIG1vZGVsTWFuYWdlciA9IHRoaXMubW9kZWxNYW5hZ2VyOwoKCSAgICBmb3IgKHZhciBuYW1lIGluIG1vZGVsTWFuYWdlci5tb2RlbHMpIHsKCSAgICAgIG1vZGVsTWFuYWdlci5tb2RlbHNbbmFtZV0ud2lyZWZyYW1lTWF0ZXJpYWwuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoY29sb3IpOwoJICAgICAgbW9kZWxNYW5hZ2VyLm1vZGVsc1tuYW1lXS53aXJlZnJhbWVNYXRlcmlhbC5vcGFjaXR5ID0gb3BhY2l0eTsKCSAgICAgIG1vZGVsTWFuYWdlci5tb2RlbHNbbmFtZV0ud2lyZWZyYW1lTWF0ZXJpYWwudHJhbnNwYXJlbnQgPSBvcGFjaXR5ID09PSAxLjAgPyBmYWxzZSA6IHRydWU7CgkgICAgICBtb2RlbE1hbmFnZXIubW9kZWxzW25hbWVdLmluc3RhbmNlV2lyZWZyYW1lTWF0ZXJpYWwuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoY29sb3IpOwoJICAgICAgbW9kZWxNYW5hZ2VyLm1vZGVsc1tuYW1lXS5pbnN0YW5jZVdpcmVmcmFtZU1hdGVyaWFsLm9wYWNpdHkgPSBvcGFjaXR5OwoJICAgICAgbW9kZWxNYW5hZ2VyLm1vZGVsc1tuYW1lXS5pbnN0YW5jZVdpcmVmcmFtZU1hdGVyaWFsLnRyYW5zcGFyZW50ID0gb3BhY2l0eSA9PT0gMS4wID8gZmFsc2UgOiB0cnVlOwoJICAgIH0KCSAgfSwKCSAgc2V0SW5zdGFuY2VNb2RlOiBmdW5jdGlvbiBzZXRJbnN0YW5jZU1vZGUoZmxhZykgewoJICAgIGlmICghR2xvYmFsRGF0YS5JbnN0YW5jZSA9PT0gZmxhZykgewoJICAgICAgR2xvYmFsRGF0YS5JbnN0YW5jZSA9IGZsYWc7CgoJICAgICAgaWYgKGZsYWcpIHsKCSAgICAgICAgdmFyIGluc3RhbmNlR2VvbWV0cnlHcm91cCA9IHRoaXMuZ2V0U2NlbmUoKS5nZXRPckNyZWF0ZUdyb3VwKEdyb3VwVHlwZS5JTlNUQU5DRUdFT01FVFJZLCB7CgkgICAgICAgICAgZ2xvYmFsU3BhY2U6IHRydWUKCSAgICAgICAgfSk7CgkgICAgICAgIGluc3RhbmNlR2VvbWV0cnlHcm91cC52aXNpYmxlID0gdHJ1ZTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHZhciBpbnN0YW5jZUdlb21ldHJ5R3JvdXAgPSB0aGlzLmdldFNjZW5lKCkuZ2V0T3JDcmVhdGVHcm91cChHcm91cFR5cGUuSU5TVEFOQ0VHRU9NRVRSWSwgewoJICAgICAgICAgIGdsb2JhbFNwYWNlOiB0cnVlCgkgICAgICAgIH0pOwoJICAgICAgICBpbnN0YW5jZUdlb21ldHJ5R3JvdXAudmlzaWJsZSA9IGZhbHNlOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7mmK/lkKblkK/nlKjovazlnLrliqjnlLsKCSAgICoKCSAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgLSDmmK/lkKblkK/liqgKCSAgICovCgkgIHNldFRyYW5zaXRpb25BbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkFuaW1hdGlvblN0YXRlKGVuYWJsZSkgewoJICAgIHRoaXMudHJhbnNpdGlvbkFuaW1hdGlvblN0YXRlID0gZW5hYmxlOwoJICB9LAoKCSAgLyoqCgkgICAqIOi/lOWbnuaYr+WQpuWQr+eUqOi9rOWcuuWKqOeUu+eahOeKtuaAgQoJICAgKgoJICAgKi8KCSAgZ2V0VHJhbnNpdGlvbkFuaW1hdGlvblN0YXRlOiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uQW5pbWF0aW9uU3RhdGUoKSB7CgkgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbkFuaW1hdGlvblN0YXRlOwoJICB9LAoKCSAgLyoqCgkgICAqIOi/lOWbnueCueaYr+WQpuiiq+ijgeWJqgoJICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSDliKTmlq3mmK/lkKbooqvoo4HliarnmoTkuInnu7TngrkKCSAgICovCgkgIGNsaXBQb2ludDogZnVuY3Rpb24gY2xpcFBvaW50KHBvaW50KSB7CgkgICAgdmFyIGNsaXBQbGFuZXMgPSB0aGlzLnJlbmRlcmVyLmNsaXBwaW5nUGxhbmVzOwoKCSAgICBpZiAoY2xpcFBsYW5lcyAmJiBjbGlwUGxhbmVzLmxlbmd0aCA+IDApIHsKCSAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcFBsYW5lcy5sZW5ndGg7IGkgKz0gMSkgewoJICAgICAgICB2YXIgcGxhbmUgPSBjbGlwUGxhbmVzW2ldOwoJICAgICAgICB2YXIgbm9ybWFsID0gcGxhbmUubm9ybWFsOwoKCSAgICAgICAgaWYgKHBvaW50LmRvdChub3JtYWwpIDwgLXBsYW5lLmNvbnN0YW50KSB7CgkgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICB9CgoJICAgIHJldHVybiBmYWxzZTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7mm53lhYkKCSAgICoKCSAgICogQHBhcmFtIHtOdW1iZXJ9IHNoaWZ0IC0g5Y+W5YC86IyD5Zu0Wy0xLCAxXQoJICAgKi8KCSAgc2V0RXhwb3N1cmVTaGlmdDogZnVuY3Rpb24gc2V0RXhwb3N1cmVTaGlmdCh2YWx1ZSkgewoJICAgIEdsb2JhbERhdGEuVG9uZU1hcHBpbmcgPSAxOyAvLyBtYXBpbmcgc2hpZnQgZnJvbSBbLTEsIDBdIHRvIFs0LjUsIDAuNV0sIFswLDFdIHRvIFswLjUsIDAuMV0KCgkgICAgdmFyIHNoaWZ0ID0gdmFsdWUgPiAwID8gLTAuNCAqIHZhbHVlICsgMC41IDogLTQgKiB2YWx1ZSArIDAuNTsKCSAgICB0aGlzLm1vZGVsTWFuYWdlci51cGRhdGVNYXRlcmlhbHNWYWx1ZSgic2hpZnQiLCBzaGlmdCk7CgkgICAgdGhpcy5zZXRSZW5kZXJTdGF0ZUNoYW5nZWQodHJ1ZSk7CgkgIH0sCgkgIHNldFJlbmRlclN0YXRlQ2hhbmdlZDogZnVuY3Rpb24gc2V0UmVuZGVyU3RhdGVDaGFuZ2VkKGNoYW5nZSkgewoJICAgIHRoaXMuX3JlbmRlclN0YXRlQ2hhbmdlZCA9IGNoYW5nZTsKCSAgfSwKCSAgaXNSZW5kZXJTdGF0ZUNoYW5nZWQ6IGZ1bmN0aW9uIGlzUmVuZGVyU3RhdGVDaGFuZ2VkKCkgewoJICAgIHJldHVybiB0aGlzLl9yZW5kZXJTdGF0ZUNoYW5nZWQ7CgkgIH0sCgkgIGdldENvbXBvbmVudEluZm9CeVVzZXJJZDogZnVuY3Rpb24gZ2V0Q29tcG9uZW50SW5mb0J5VXNlcklkKHVpZCkgewoJICAgIHZhciBub2RlSW5mb3MgPSB0aGlzLm1vZGVsTWFuYWdlci5nZXROb2RlSW5mb3NCeVVzZXJJZCh1aWQpOwoKCSAgICBpZiAobm9kZUluZm9zICYmIG5vZGVJbmZvcy5sZW5ndGggPiAwKSB7CgkgICAgICB2YXIgYm94ID0gbmV3IFRIUkVFLkJveDMoKTsKCSAgICAgIHZhciBtYXRlcmlhbHMgPSBbXTsKCgkgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZUluZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7CgkgICAgICAgIGJveC51bmlvbihub2RlSW5mb3NbaV0uYm91bmRpbmdCb3gpOwoKCSAgICAgICAgaWYgKG1hdGVyaWFscy5pbmRleE9mKG5vZGVJbmZvc1tpXS5tYXRlcmlhbElkKSA9PT0gLTEpIHsKCSAgICAgICAgICBtYXRlcmlhbHMucHVzaChub2RlSW5mb3NbaV0ubWF0ZXJpYWxJZCk7CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICByZXR1cm4gewoJICAgICAgICB1c2VySWQ6IHVpZCwKCSAgICAgICAgc3RhdGU6IDAsCgkgICAgICAgIG1hdGVyaWFsczogbWF0ZXJpYWxzLAoJICAgICAgICBib3VuZGluZ0JveDogYm94LAoJICAgICAgICB1c2VyRGF0YTogbm9kZUluZm9zWzBdLnVzZXJEYXRhCgkgICAgICB9OwoJICAgIH0KCgkgICAgcmV0dXJuIG51bGw7CgkgIH0sCgkgIGdldEJvdW5kaW5nQm94QnlJZHM6IGZ1bmN0aW9uIGdldEJvdW5kaW5nQm94QnlJZHMoaWRzKSB7CgkgICAgaWYgKEdsb2JhbERhdGEuTWVyZ2VDb21wb25lbnQpIHsKCSAgICAgIHZhciBib3ggPSBuZXcgVEhSRUUuQm94MygpOwoKCSAgICAgIGlmIChBcnJheS5pc0FycmF5KGlkcykpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDEpIHsKCSAgICAgICAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuaXNIaWRkZW5Vc2VySWQoaWRzW2ldKSkgewoJICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgfQoKCSAgICAgICAgICB2YXIgbm9kZUluZm8gPSB0aGlzLmdldENvbXBvbmVudEluZm9CeVVzZXJJZChpZHNbaV0pOwoKCSAgICAgICAgICBpZiAobm9kZUluZm8pIHsKCSAgICAgICAgICAgIGJveC51bmlvbihub2RlSW5mby5ib3VuZGluZ0JveCk7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICBmb3IgKHZhciBpZCBpbiBpZHMpIHsKCSAgICAgICAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuaXNIaWRkZW5Vc2VySWQoaWQpKSB7CgkgICAgICAgICAgICBjb250aW51ZTsKCSAgICAgICAgICB9CgoJICAgICAgICAgIHZhciBub2RlSW5mbyA9IHRoaXMuZ2V0Q29tcG9uZW50SW5mb0J5VXNlcklkKGlkKTsKCgkgICAgICAgICAgaWYgKG5vZGVJbmZvKSB7CgkgICAgICAgICAgICBib3gudW5pb24obm9kZUluZm8uYm91bmRpbmdCb3gpOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIGlmICghYm94LmlzRW1wdHkoKSkgewoJICAgICAgICBib3guYXBwbHlNYXRyaXg0KHRoaXMuZ2V0U2NlbmUoKS5nZXRNYXRyaXhHbG9iYWwoKSk7CgkgICAgICB9CgoJICAgICAgcmV0dXJuIGJveDsKCSAgICB9CgoJICAgIHJldHVybiB0aGlzLmdldFNjZW5lKCkuZ2V0Qm91bmRpbmdCb3hPZkdlb21ldHJpZXMoaWRzKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7mjInpnIDliqDovb3mnaHku7YKCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gY29uZGl0aW9ucyAtIOadoeS7tuWvueixoeaVsOe7hCBbe2Zsb29yOiB4eHgsIHNwZWNpYWx0eTp4eHh9LHtmbG9vcjogeHh4LCBzcGVjaWFsdHk6eHh4fV0KCSAgICogQHBhcmFtIHtCb29sZWFufSBpbW1lZGlhdGVMb2FkIC0g56uL5Y2z5Yqg6L295pWw5o2uKOm7mOiupCB0cnVlKQoJICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9ncmVzc0NhbGxiYWNrKGRvaW5nQ291bnQsIGl0ZW1Db3VudCkgLSDmlbDmja7liqDovb3ov4fnqIvkuK3nmoTlm57osIMKCSAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluaXNoQ2FsbGJhY2soKSAtICDmlbDmja7liqDovb3lrozmiJDlkI7nmoTlm57osIMKCSAgICovCgkgIHNldENvbmRpdGlvbnNPbkRlbWFuZExvYWQ6IGZ1bmN0aW9uIHNldENvbmRpdGlvbnNPbkRlbWFuZExvYWQoY29uZGl0aW9ucywgaW1tZWRpYXRlTG9hZCwgcHJvZ3Jlc3NDYWxsYmFjaywgZmluaXNoQ2FsbGJhY2spIHsKCSAgICBpbW1lZGlhdGVMb2FkID0gaW1tZWRpYXRlTG9hZCB8fCB0cnVlOwoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNldENvbmRpdGlvbnNPbkRlbWFuZExvYWQoY29uZGl0aW9ucyk7CgoJICAgIGlmIChpbW1lZGlhdGVMb2FkKSB7CgkgICAgICB0aGlzLm1vZGVsTWFuYWdlci5sb2FkTXBrT25EZW1hbmQocHJvZ3Jlc3NDYWxsYmFjaywgZmluaXNoQ2FsbGJhY2spOwoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDmjInpnIDliqDovb1tcGsKCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gY29uZGl0aW9ucyAtIOadoeS7tuWvueixoeaVsOe7hCBbe2Zsb29yOiB4eHgsIHNwZWNpYWx0eTp4eHh9LHtmbG9vcjogeHh4LCBzcGVjaWFsdHk6eHh4fV0KCSAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvZ3Jlc3NDYWxsYmFjayhkb2luZ0NvdW50LCBpdGVtQ291bnQpIC0g5pWw5o2u5Yqg6L296L+H56iL5Lit55qE5Zue6LCDCgkgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmlzaENhbGxiYWNrKCkgLSAg5pWw5o2u5Yqg6L295a6M5oiQ5ZCO55qE5Zue6LCDCgkgICAqLwoJICBsb2FkTXBrT25EZW1hbmQ6IGZ1bmN0aW9uIGxvYWRNcGtPbkRlbWFuZChjb25kaXRpb25zLCBwcm9ncmVzc0NhbGxiYWNrLCBmaW5pc2hDYWxsYmFjaykgewoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNldENvbmRpdGlvbnNPbkRlbWFuZExvYWQoY29uZGl0aW9ucyk7CgkgICAgdGhpcy5tb2RlbE1hbmFnZXIubG9hZE1wa09uRGVtYW5kKHByb2dyZXNzQ2FsbGJhY2ssIGZpbmlzaENhbGxiYWNrKTsKCSAgfSwKCgkgIC8qKgoJICAgKiDojrflvpfmjInpnIDliqDovb3ljIXlm7Tnm5IKCSAgICoKCSAgICogQHJldHVybnMge1RIUkVFLkJveDN9CgkgICAqLwoJICBnZXRCb3VuZGluZ0JveE9uRGVtYW5kOiBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveE9uRGVtYW5kKCkgewoJICAgIHJldHVybiB0aGlzLm1vZGVsTWFuYWdlci5nZXRCb3VuZGluZ0JveE9uRGVtYW5kKCk7CgkgIH0sCgoJICAvKioKCSAgICog5bCG6ICB54mI5pys5om55rOo5L+h5oGv6L2s5o2i5oiQVjPniYgKCSAgICoKCSAgICogQHBhcmFtIHtTdHJpbmd9IGpzb25TdHIgLSDmibnms6jkv6Hmga/lrZfnrKbkuLLooajnpLoKCSAgICovCgkgIGNvbnZlcnRBbm5vdGF0aW9uc1RvVjM6IGZ1bmN0aW9uIGNvbnZlcnRBbm5vdGF0aW9uc1RvVjMoanNvblN0cikgewoJICAgIHZhciBqc29uT2JqID0gSlNPTi5wYXJzZShqc29uU3RyKTsKCgkgICAgZnVuY3Rpb24gY29udmVydENhbWVyYShjYW1lcmEsIG1hdHJpeFRyYW5zZm9ybSwgbWF0cml4U2NlbmUpIHsKCSAgICAgIHZhciBuZXdDYW1lcmE7CgoJICAgICAgaWYgKCJzdHJpbmciID09PSB0eXBlb2YgY2FtZXJhKSB7CgkgICAgICAgIG5ld0NhbWVyYSA9IEpTT04ucGFyc2Uod2luZG93LmF0b2IoY2FtZXJhKSk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBuZXdDYW1lcmEgPSB7CgkgICAgICAgICAgcG9zaXRpb246IHsKCSAgICAgICAgICAgIHg6IGNhbWVyYS5wb3NpdGlvbi54LAoJICAgICAgICAgICAgeTogY2FtZXJhLnBvc2l0aW9uLnksCgkgICAgICAgICAgICB6OiBjYW1lcmEucG9zaXRpb24uegoJICAgICAgICAgIH0sCgkgICAgICAgICAgdGFyZ2V0OiB7CgkgICAgICAgICAgICB4OiBjYW1lcmEudGFyZ2V0LngsCgkgICAgICAgICAgICB5OiBjYW1lcmEudGFyZ2V0LnksCgkgICAgICAgICAgICB6OiBjYW1lcmEudGFyZ2V0LnoKCSAgICAgICAgICB9LAoJICAgICAgICAgIHVwOiB7CgkgICAgICAgICAgICB4OiBjYW1lcmEudXAueCwKCSAgICAgICAgICAgIHk6IGNhbWVyYS51cC55LAoJICAgICAgICAgICAgejogY2FtZXJhLnVwLnoKCSAgICAgICAgICB9CgkgICAgICAgIH07CgkgICAgICB9CgoJICAgICAgdmFyIHBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMobmV3Q2FtZXJhLnBvc2l0aW9uLngsIG5ld0NhbWVyYS5wb3NpdGlvbi55LCBuZXdDYW1lcmEucG9zaXRpb24ueik7CgkgICAgICB2YXIgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMobmV3Q2FtZXJhLnRhcmdldC54LCBuZXdDYW1lcmEudGFyZ2V0LnksIG5ld0NhbWVyYS50YXJnZXQueik7CgkgICAgICB2YXIgdXAgPSBuZXcgVEhSRUUuVmVjdG9yMyhuZXdDYW1lcmEudXAueCwgbmV3Q2FtZXJhLnVwLnksIG5ld0NhbWVyYS51cC56KTsKCSAgICAgIHZhciBjYW1lcmFJbmZvID0gbmV3IENhbWVyYUluZm8oInBlcnNwIiwgcG9zaXRpb24sIHRhcmdldCwgdXApOwoJICAgICAgY2FtZXJhSW5mbyA9IENhbWVyYS5kcmF3aW5nVG9Xb3JsZChjYW1lcmFJbmZvLCBtYXRyaXhUcmFuc2Zvcm0pOwoJICAgICAgY2FtZXJhSW5mbyA9IG5ldyBDYW1lcmFJbmZvKCJwZXJzcCIsIGNhbWVyYUluZm8ucG9zaXRpb24sIGNhbWVyYUluZm8udGFyZ2V0LCBjYW1lcmFJbmZvLnVwKTsKCSAgICAgIGNhbWVyYUluZm8gPSBDYW1lcmEud29ybGRUb0RyYXdpbmcoY2FtZXJhSW5mbywgbWF0cml4U2NlbmUpOwoJICAgICAgbmV3Q2FtZXJhLnBvc2l0aW9uLnggPSBjYW1lcmFJbmZvLnBvc2l0aW9uLng7CgkgICAgICBuZXdDYW1lcmEucG9zaXRpb24ueSA9IGNhbWVyYUluZm8ucG9zaXRpb24ueTsKCSAgICAgIG5ld0NhbWVyYS5wb3NpdGlvbi56ID0gY2FtZXJhSW5mby5wb3NpdGlvbi56OwoJICAgICAgbmV3Q2FtZXJhLnRhcmdldC54ID0gY2FtZXJhSW5mby50YXJnZXQueDsKCSAgICAgIG5ld0NhbWVyYS50YXJnZXQueSA9IGNhbWVyYUluZm8udGFyZ2V0Lnk7CgkgICAgICBuZXdDYW1lcmEudGFyZ2V0LnogPSBjYW1lcmFJbmZvLnRhcmdldC56OwoJICAgICAgbmV3Q2FtZXJhLnVwLnggPSBjYW1lcmFJbmZvLnVwLng7CgkgICAgICBuZXdDYW1lcmEudXAueSA9IGNhbWVyYUluZm8udXAueTsKCSAgICAgIG5ld0NhbWVyYS51cC56ID0gY2FtZXJhSW5mby51cC56OwoKCSAgICAgIGlmICgic3RyaW5nIiA9PT0gdHlwZW9mIGNhbWVyYSkgewoJICAgICAgICBuZXdDYW1lcmEgPSB3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeShuZXdDYW1lcmEpKTsKCSAgICAgIH0KCgkgICAgICByZXR1cm4gbmV3Q2FtZXJhOwoJICAgIH0gLy8g5Y+q6IO95qC55o2u6L+H5ruk5Zmo5Lit55qE5qCH5b+X5p2l5Yik5pat54mI5pys5L+h5oGvCgoKCSAgICBpZiAoanNvbk9iai5maWx0ZXIpIHsKCSAgICAgIHZhciBqc29uRmlsdGVyID0gSlNPTi5wYXJzZShqc29uT2JqLmZpbHRlcik7CgoJICAgICAgaWYgKGpzb25GaWx0ZXIuZmlsdGVyIHx8IGpzb25GaWx0ZXIuYmFzaWNJZHMpIHsKCSAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5nZXRTY2VuZSgpOwoJICAgICAgICB2YXIgbWF0cml4VHJhbnNmb3JtID0gc2NlbmUuZ2V0VHJhbnNmb3JtTWF0cml4R2xvYmFsKCk7CgkgICAgICAgIHZhciBtYXRyaXhUcmFuc2Zvcm1JbnYgPSBuZXcgVEhSRUUuTWF0cml4NCgpOwoJICAgICAgICBtYXRyaXhUcmFuc2Zvcm1JbnYuZ2V0SW52ZXJzZShtYXRyaXhUcmFuc2Zvcm0pOwoJICAgICAgICB2YXIgbWF0cml4U2NlbmUgPSBzY2VuZS5nZXRNYXRyaXhHbG9iYWwoKTsKCSAgICAgICAgdmFyIG1hdHJpeFNjZW5lSW52ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTsKCSAgICAgICAgbWF0cml4U2NlbmVJbnYuZ2V0SW52ZXJzZShtYXRyaXhTY2VuZSk7IC8vIGNhbWVyYSDkuI3lgZrlj5jmjaLvvIzmibnms6jkvb/nlKjkv53lrZjnmoRjYW1lcmHkv6Hmga/vvIzlkKbliJnmibnms6jlr7nosaHnmoTovazmjaLnm7jlvZPlpI3mnYLogIzkuJTlrrnmmJPlh7rplJkKCSAgICAgICAgLy8ganNvbi5jYW1lcmEgPSBjb252ZXJ0Q2FtZXJhKGpzb24uY2FtZXJhLCBtYXRyaXhUcmFuc2Zvcm0sIG1hdHJpeFNjZW5lKTsKCSAgICAgICAgLy8g5aSE55CG5om55rOoCgkgICAgICAgIC8vIGlmIChqc29uLm9iaikgewoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgdmFyIGFubm90YXRpb25JbmZvTGlzdCA9IGpzb24ub2JqOwoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFubm90YXRpb25JbmZvTGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrPTEpIHsKCSAgICAgICAgLy8KCSAgICAgICAgLy8gICAgICAgICB2YXIgaW5mbyA9IGFubm90YXRpb25JbmZvTGlzdFtpXTsKCSAgICAgICAgLy8gICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMyhpbmZvLnBvc2l0aW9uLngsIGluZm8ucG9zaXRpb24ueSwgaW5mby5wb3NpdGlvbi56KTsKCSAgICAgICAgLy8gICAgICAgICBuZXdQb3NpdGlvbi5hcHBseU1hdHJpeDQobWF0cml4VHJhbnNmb3JtSW52KS5hcHBseU1hdHJpeDQobWF0cml4U2NlbmUpOwoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgICAgIHZhciBsdCA9IG5ldyBUSFJFRS5WZWN0b3IzKGluZm8ucG9zaXRpb24ueCAtIDAuNSAqIGluZm8uc2l6ZS53aWR0aCwgaW5mby5wb3NpdGlvbi55IC0gMC41ICogaW5mby5zaXplLmhlaWdodCwgaW5mby5wb3NpdGlvbi56KTsKCSAgICAgICAgLy8gICAgICAgICB2YXIgcmIgPSBuZXcgVEhSRUUuVmVjdG9yMyhpbmZvLnBvc2l0aW9uLnggKyAwLjUgKiBpbmZvLnNpemUud2lkdGgsIGluZm8ucG9zaXRpb24ueSArIDAuNSAqIGluZm8uc2l6ZS5oZWlnaHQsIGluZm8ucG9zaXRpb24ueik7CgkgICAgICAgIC8vICAgICAgICAgbHQuYXBwbHlNYXRyaXg0KG1hdHJpeFRyYW5zZm9ybUludikuYXBwbHlNYXRyaXg0KG1hdHJpeFNjZW5lKTsKCSAgICAgICAgLy8gICAgICAgICByYi5hcHBseU1hdHJpeDQobWF0cml4VHJhbnNmb3JtSW52KS5hcHBseU1hdHJpeDQobWF0cml4U2NlbmUpOwoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgICAgIGluZm8ucG9zaXRpb24ueCA9IG5ld1Bvc2l0aW9uLng7CgkgICAgICAgIC8vICAgICAgICAgaW5mby5wb3NpdGlvbi55ID0gbmV3UG9zaXRpb24ueTsKCSAgICAgICAgLy8gICAgICAgICBpbmZvLnBvc2l0aW9uLnogPSBuZXdQb3NpdGlvbi56OwoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgICAgIGluZm8uc2l6ZS53aWR0aCA9IE1hdGguYWJzKHJiLnggLSBsdC54KTsKCSAgICAgICAgLy8gICAgICAgICBpbmZvLnNpemUuaGVpZ2h0ID0gTWF0aC5hYnMocmIueSAtIGx0LnkpOwoJICAgICAgICAvLwoJICAgICAgICAvLyAgICAgICAgIGlmIChpbmZvLm9yaWdpblNpemUpIHsKCSAgICAgICAgLy8KCSAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGx0T3JpZ2luID0gbmV3IFRIUkVFLlZlY3RvcjMoaW5mby5wb3NpdGlvbi54IC0gMC41ICogaW5mby5vcmlnaW5TaXplLndpZHRoLCBpbmZvLnBvc2l0aW9uLnkgLSAwLjUgKiBpbmZvLm9yaWdpblNpemUuaGVpZ2h0LCBpbmZvLnBvc2l0aW9uLnopOwoJICAgICAgICAvLyAgICAgICAgICAgICB2YXIgcmJPcmlnaW4gPSBuZXcgVEhSRUUuVmVjdG9yMyhpbmZvLnBvc2l0aW9uLnggKyAwLjUgKiBpbmZvLm9yaWdpblNpemUud2lkdGgsIGluZm8ucG9zaXRpb24ueSArIDAuNSAqIGluZm8ub3JpZ2luU2l6ZS5oZWlnaHQsIGluZm8ucG9zaXRpb24ueik7CgkgICAgICAgIC8vCgkgICAgICAgIC8vICAgICAgICAgICAgIGx0T3JpZ2luLmFwcGx5TWF0cml4NChtYXRyaXhUcmFuc2Zvcm1JbnYpLmFwcGx5TWF0cml4NChtYXRyaXhTY2VuZSk7CgkgICAgICAgIC8vICAgICAgICAgICAgIHJiT3JpZ2luLmFwcGx5TWF0cml4NChtYXRyaXhUcmFuc2Zvcm1JbnYpLmFwcGx5TWF0cml4NChtYXRyaXhTY2VuZSk7CgkgICAgICAgIC8vCgkgICAgICAgIC8vICAgICAgICAgICAgIGluZm8ub3JpZ2luU2l6ZS53aWR0aCA9IE1hdGguYWJzKHJiT3JpZ2luLnggLSBsdE9yaWdpbi54KTsKCSAgICAgICAgLy8gICAgICAgICAgICAgaW5mby5vcmlnaW5TaXplLmhlaWdodCA9IE1hdGguYWJzKHJiT3JpZ2luLnkgLSBsdE9yaWdpbi55KTsKCSAgICAgICAgLy8gICAgICAgICB9CgkgICAgICAgIC8vCgkgICAgICAgIC8vICAgICB9CgkgICAgICAgIC8vCgkgICAgICAgIC8vIH0KCgkgICAgICAgIHZhciBlbnVtRmlsdGVyVHlwZSA9IHRoaXMuZ2V0RmlsdGVyKCkuZ2V0RmlsdGVyVHlwZSgpOwoJICAgICAgICB2YXIgb2JqRmlsdGVyID0ge307CgkgICAgICAgIG9iakZpbHRlci5zdGF0ZSA9IHt9OyAvLyB2MSAtID4gdjMKCgkgICAgICAgIGlmIChqc29uRmlsdGVyLmZpbHRlcikgewoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmZpbGVGaWx0ZXIpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5GSUxFX0hJRERFTl0gPSBqc29uRmlsdGVyLmZpbGVGaWx0ZXI7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5zZWxlY3Rpb25TZXQpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5TRUxFQ1RFRF0gPSBqc29uRmlsdGVyLnNlbGVjdGlvblNldDsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmZpbHRlci52aXNpYmxlSWRzKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuVklTSUJMRV0gPSBqc29uRmlsdGVyLmZpbHRlci52aXNpYmxlSWRzOwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIuZmlsdGVyLmludmlzaWJsZUlkcykgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLkhJRERFTl0gPSBqc29uRmlsdGVyLmZpbHRlci5pbnZpc2libGVJZHM7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5maWx0ZXIuY29uZGl0aW9ucykgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLkNPTkRJVElPTl9ISURERU5fT1RIRVJTXSA9IGpzb25GaWx0ZXIuZmlsdGVyLmNvbmRpdGlvbnM7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5maWx0ZXIuZmlsdGVycykgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLlVTRVJfSElEREVOXSA9IGpzb25GaWx0ZXIuZmlsdGVyLmZpbHRlcnM7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5sb29taW5nU2V0KSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuRlJPWkVORklMVEVSXSA9IGpzb25GaWx0ZXIubG9vbWluZ1NldDsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmlzb2xhdGVTZXQpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5JU09MQVRFX0hJRERFTl9PVEhFUlNdID0ganNvbkZpbHRlci5pc29sYXRlU2V0OwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIub3ZlcnJpZGVyQnlJZHMpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5PVkVSUklERUZJTFRFUl0gPSBqc29uRmlsdGVyLm92ZXJyaWRlckJ5SWRzOwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIub3ZlcnJpZGVyQnlEYXRhKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuVVNFUl9PVkVSUklERV0gPSBqc29uRmlsdGVyLm92ZXJyaWRlckJ5RGF0YTsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLm92ZXJyaWRlckNvbmRpdGlvbikgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLkNPTkRJVElPTl9PVkVSUklERV0gPSBqc29uRmlsdGVyLm92ZXJyaWRlckNvbmRpdGlvbjsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmlzb2xhdGVDb25kaXRpb24pIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5JU09MQVRFX0NPTkRJVElPTl9ISURERU5fT1RIRVJTXSA9IGpzb25GaWx0ZXIuaXNvbGF0ZUNvbmRpdGlvbjsKCSAgICAgICAgICB9CgoJICAgICAgICAgIG9iakZpbHRlci5zdGF0ZS5zY2VuZVN0YXRlID0ganNvbkZpbHRlci5vdmVycmlkZXJCeVNjZW5lOwoJICAgICAgICB9IGVsc2UgaWYgKGpzb25GaWx0ZXIuYmFzaWNJZHMpIHsKCSAgICAgICAgICAvLyB2MiAtID4gdjMKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5iYXNpY0lkc1sxXSkgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLkZJTEVfSElEREVOXSA9IGpzb25GaWx0ZXIuYmFzaWNJZHNbMV07CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5iYXNpY0lkc1syXSkgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLlNFTEVDVEVEXSA9IGpzb25GaWx0ZXIuYmFzaWNJZHNbMl07CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5iYXNpY0lkc1szXSkgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLlZJU0lCTEVdID0ganNvbkZpbHRlci5iYXNpY0lkc1szXTsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmJhc2ljSWRzWzRdKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuSElEREVOXSA9IGpzb25GaWx0ZXIuYmFzaWNJZHNbNF07CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5jb25kaXRpb25zWzBdKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuQ09ORElUSU9OX0hJRERFTl9PVEhFUlNdID0ganNvbkZpbHRlci5jb25kaXRpb25zWzBdOwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIudXNlckhpZGRlbklkcykgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLlVTRVJfSElEREVOXSA9IGpzb25GaWx0ZXIudXNlckhpZGRlbklkczsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmxvb21pbmdJZHMpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5GUk9aRU5GSUxURVJdID0ganNvbkZpbHRlci5sb29taW5nSWRzOwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIuaXNvbGF0ZUlkcykgewoJICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLklTT0xBVEVfSElEREVOX09USEVSU10gPSBqc29uRmlsdGVyLmlzb2xhdGVJZHM7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5vdmVycmlkZUJ5SWRzKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuT1ZFUlJJREVGSUxURVJdID0ganNvbkZpbHRlci5vdmVycmlkZUJ5SWRzOwoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKGpzb25GaWx0ZXIub3ZlcnJpZGVCeURhdGEpIHsKCSAgICAgICAgICAgIG9iakZpbHRlci5zdGF0ZVtlbnVtRmlsdGVyVHlwZS5VU0VSX09WRVJSSURFXSA9IGpzb25GaWx0ZXIub3ZlcnJpZGVCeURhdGE7CgkgICAgICAgICAgfQoKCSAgICAgICAgICBpZiAoanNvbkZpbHRlci5jb25kaXRpb25zWzJdKSB7CgkgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuQ09ORElUSU9OX09WRVJSSURFXSA9IGpzb25GaWx0ZXIuY29uZGl0aW9uc1syXTsKCSAgICAgICAgICB9CgoJICAgICAgICAgIGlmIChqc29uRmlsdGVyLmlzb2xhdGVDb25kaXRpb25zKSB7CgkgICAgICAgICAgICBpZiAoanNvbkZpbHRlci5pc29sYXRlQ29uZGl0aW9uc1swXSkgewoJICAgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuSVNPTEFURV9DT05ESVRJT05fSElEREVOXSA9IGpzb25GaWx0ZXIuaXNvbGF0ZUNvbmRpdGlvbnNbMF07CgkgICAgICAgICAgICB9CgoJICAgICAgICAgICAgaWYgKGpzb25GaWx0ZXIuaXNvbGF0ZUNvbmRpdGlvbnNbMV0pIHsKCSAgICAgICAgICAgICAgb2JqRmlsdGVyLnN0YXRlW2VudW1GaWx0ZXJUeXBlLklTT0xBVEVfQ09ORElUSU9OX0hJRERFTl9PVEhFUlNdID0ganNvbkZpbHRlci5pc29sYXRlQ29uZGl0aW9uc1sxXTsKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICBpZiAoanNvbkZpbHRlci5pc29sYXRlQ29uZGl0aW9uc1syXSkgewoJICAgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuSVNPTEFURV9DT05ESVRJT05fVFJBTlNMVUNFTlRdID0ganNvbkZpbHRlci5pc29sYXRlQ29uZGl0aW9uc1syXTsKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICBpZiAoanNvbkZpbHRlci5pc29sYXRlQ29uZGl0aW9uc1szXSkgewoJICAgICAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGVbZW51bUZpbHRlclR5cGUuSVNPTEFURV9DT05ESVRJT05fVFJBTlNMVUNFTlRfT1RIRVJTXSA9IGpzb25GaWx0ZXIuaXNvbGF0ZUNvbmRpdGlvbnNbM107CgkgICAgICAgICAgICB9CgkgICAgICAgICAgfQoKCSAgICAgICAgICBvYmpGaWx0ZXIuc3RhdGUuc2NlbmVTdGF0ZSA9IGpzb25GaWx0ZXIuc2NlbmVTdGF0ZTsKCSAgICAgICAgfQoKCSAgICAgICAgaWYgKGpzb25GaWx0ZXIuY2FtZXJhKSB7CgkgICAgICAgICAgb2JqRmlsdGVyLmNhbWVyYSA9IGNvbnZlcnRDYW1lcmEoanNvbkZpbHRlci5jYW1lcmEsIG1hdHJpeFRyYW5zZm9ybSwgbWF0cml4U2NlbmUpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIG9iakZpbHRlci5jYW1lcmEgPSBjb252ZXJ0Q2FtZXJhKGpzb25PYmouY2FtZXJhLCBtYXRyaXhUcmFuc2Zvcm0sIG1hdHJpeFNjZW5lKTsKCSAgICAgICAgfQoKCSAgICAgICAganNvbkZpbHRlciA9IG9iakZpbHRlcjsKCSAgICAgICAganNvbk9iai5maWx0ZXIgPSBKU09OLnN0cmluZ2lmeShqc29uRmlsdGVyKTsKCSAgICAgIH0KCSAgICB9CgoJICAgIHJldHVybiBqc29uT2JqOwoJICB9LAoJICBnZXRTY3JlZW5Db29yZEZyb21TY2VuZUNvb3JkOiBmdW5jdGlvbiBnZXRTY3JlZW5Db29yZEZyb21TY2VuZUNvb3JkKHZlY3RvcikgewoJICAgIHZhciBjb29yZCA9IFtdOwoJICAgIHZhciBkaXN0YW5jZTsKCgkgICAgaWYgKHZlY3Rvci5pc1ZlY3RvcjMpIHsKCSAgICAgIHZhciB0ZW1wID0gdmVjdG9yLmNsb25lKCk7CgkgICAgICBkaXN0YW5jZSA9IHRlbXAuZGlzdGFuY2VUbyh0aGlzLmNhbWVyYS5wb3NpdGlvbik7CgkgICAgICB0ZW1wLnByb2plY3QodGhpcy5jYW1lcmEpOwoJICAgICAgY29vcmRbMF0gPSAodGVtcC54ICsgMSkgKiB0aGlzLmRvbUVsZW1lbnQuY2xpZW50V2lkdGggLyAyOwoJICAgICAgY29vcmRbMV0gPSAoMSAtIHRlbXAueSkgKiB0aGlzLmRvbUVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gMjsKCSAgICAgIGNvb3JkWzJdID0gZGlzdGFuY2U7CgkgICAgICByZXR1cm4gY29vcmQ7CgkgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZlY3RvcikpIHsKCSAgICAgIHZhciB2MyA9IG5ldyBUSFJFRS5WZWN0b3IzKHZlY3RvclswXSwgdmVjdG9yWzFdLCB2ZWN0b3JbMl0pOwoJICAgICAgZGlzdGFuY2UgPSB2My5kaXN0YW5jZVRvKHRoaXMuY2FtZXJhLnBvc2l0aW9uKTsKCSAgICAgIHYzLnByb2plY3QodGhpcy5jYW1lcmEpOwoJICAgICAgY29vcmRbMF0gPSAodjMueCArIDEpICogdGhpcy5kb21FbGVtZW50LmNsaWVudFdpZHRoIC8gMjsKCSAgICAgIGNvb3JkWzFdID0gKDEgLSB2My55KSAqIHRoaXMuZG9tRWxlbWVudC5jbGllbnRIZWlnaHQgLyAyOwoJICAgICAgY29vcmRbMl0gPSBkaXN0YW5jZTsKCSAgICAgIHYzID0gbnVsbDsKCSAgICAgIHJldHVybiBjb29yZDsKCSAgICB9CgkgIH0sCgkgIF9jaGVja0RhdGFDaGFuZ2VkOiBmdW5jdGlvbiBfY2hlY2tEYXRhQ2hhbmdlZCgpIHsKCSAgICB2YXIgbW9kZWxNYW5hZ2VyID0gdGhpcy5tb2RlbE1hbmFnZXI7IC8vIEJJTUZBQ0UtMTU2OiDov4fmu6TlmajmlbDmja7lnKjliqDovb3lrozmlbDmja7kuYvliY3lsLHov5vooYzov4forr7nva7vvIjnkIborrrkuIrlupTor6XmlbDmja7liqDovb3lrozmiJDkuYvlkI7ov5vooYzkuJrliqHmk43kvZzmiY3mraPluLjvvIHvvInvvIwKCSAgICAvLyDliJnov5vooYznu5jliLbmlbDmja7ntKLlvJXph43mlbTvvIjor6Xpl67popjlh7rnjrDlnKjjgJDmibnmrKHlkIjlubbnrZbnlaXjgJHkuK3vvIkKCSAgICAvLyDlvJXmk47lhoXpg6jorrDlvZXov4fmu6TnirbmgIEKCgkgICAgaWYgKG1vZGVsTWFuYWdlci5oYXNNb2RlbERhdGFSZWFkeSgpKSB7CgkgICAgICBpZiAodGhpcy5nZXRGaWx0ZXIoKS5pc1N0YXRlQ2hhbmdlZCgpIHx8IHRoaXMuaXNSZW5kZXJTdGF0ZUNoYW5nZWQoKSkgewoJICAgICAgICBpZiAodGhpcy5pc1JlbmRlclN0YXRlQ2hhbmdlZCgpKSB7CgkgICAgICAgICAgdGhpcy5zZXRSZW5kZXJTdGF0ZUNoYW5nZWQoZmFsc2UpOwoJICAgICAgICB9CgoJICAgICAgICBpZiAodGhpcy5nZXRGaWx0ZXIoKS5pc1N0YXRlQ2hhbmdlZCgpKSB7CgkgICAgICAgICAgdGhpcy5nZXRGaWx0ZXIoKS5kaWFibGVTdGF0ZUNoYW5nZWQoKTsKCSAgICAgICAgfQoKCSAgICAgICAgbW9kZWxNYW5hZ2VyLmFwcGx5RmlsdGVyKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoJICBfY2hlY2tMYXllckRhdGFMb2FkaW5nOiBmdW5jdGlvbiBfY2hlY2tMYXllckRhdGFMb2FkaW5nKCkgewoJICAgIHZhciBtb2RlbE1hbmFnZXIgPSB0aGlzLm1vZGVsTWFuYWdlcjsKCgkgICAgaWYgKG1vZGVsTWFuYWdlci5pc0xheWVyRGF0YSgpKSB7CgkgICAgICBpZiAodGhpcy5fbGF5ZXJEYXRhTG9hZGluZykgewoJICAgICAgICBpZiAodGhpcy5nZXRGaWx0ZXIoKS5pc1N0YXRlQ2hhbmdlZCgpKSB7CgkgICAgICAgICAgdGhpcy5nZXRGaWx0ZXIoKS5kaWFibGVTdGF0ZUNoYW5nZWQoKTsKCSAgICAgICAgfQoKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICB9CgkgICAgfQoKCSAgICByZXR1cm4gZmFsc2U7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u6L2u5buT6aKc6ImyCgkgICAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvclZhbHVlIC0g6aKc6Imy5a+56LGhe2NvbG9yOiB4eHgsIG9wYWNpdHk6IHh4eH0KCSAgICogQHBhcmFtIHtJbnR9IGNvbG9yLmNvbG9yIC0g5Y2B5YWt6L+b5Yi26aKc6Imy5YC8CgkgICAqIEBwYXJhbSB7RmxvYXR9IGNvbG9yLm9wYWNpdHkgLSDkuI3pgI/mmI7luqYKCSAgICovCgkgIHNldE91dGxpbmVFZGdlQ29sb3I6IGZ1bmN0aW9uIHNldE91dGxpbmVFZGdlQ29sb3IoY29sb3JWYWx1ZSkgewoJICAgIGlmICh0aGlzLmNvbXBvc2VyKSB7CgkgICAgICB0aGlzLmNvbXBvc2VyLnNldE91dGxpbmVFZGdlQ29sb3IoY29sb3JWYWx1ZSk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOaYr+WQpuWQr+eUqOaehOS7tuW8uuiwgwoJICAgKgoJICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZSAtIOaYr+WQpuWQr+eUqOaehOS7tuW8uuiwgwoJICAgKi8KCSAgZW5hYmxlQmxpbmtDb21wb25lbnRzOiBmdW5jdGlvbiBlbmFibGVCbGlua0NvbXBvbmVudHMoZW5hYmxlKSB7CgkgICAgaWYgKHRoaXMubW9kZWxNYW5hZ2VyLmlzQmxpbmtQZXJtaXRlZCgpKSB7CgkgICAgICByZXR1cm47CgkgICAgfQoKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5lbmFibGVCbGluayhlbmFibGUpOwoJICAgIHRoaXMucmVuZGVyKCk7CgkgIH0sCgoJICAvKioKCSAgICog5qC55o2u5p6E5Lu2SUTorr7nva7lpJrkuKrmnoTku7bkuLrlvLrosIPnirbmgIHpm4blkIggb2JqZWN0SWRz57G75Z6L5Li6QXJyYXnvvIzkuLrlpJrkuKpvYmplY3RJZOeahOaVsOe7hAoJICAgKgoJICAgKiBAcGFyYW0ge0FycmF5fSBvYmpJZExpc3QgLSBPYmplY3QgSWRzLgoJICAgKgoJICAgKi8KCSAgc2V0QmxpbmtDb21wb25lbnRzQnlJZDogZnVuY3Rpb24gc2V0QmxpbmtDb21wb25lbnRzQnlJZChvYmpJZExpc3QpIHsKCSAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuaXNCbGlua1Blcm1pdGVkKCkpIHsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuc2V0QmxpbmtDb21wb25lbnRzQnlJZChvYmpJZExpc3QpOwoJICB9LAoKCSAgLyoqCgkgICAqIOagueaNruaehOS7tklE5Zyo5by66LCD54q25oCB6ZuG5ZCI5Lit57un57ut5re75Yqg5p6E5Lu2IG9iamVjdElkc+exu+Wei+S4ukFycmF577yM5Li65aSa5Liqb2JqZWN0SWTnmoTmlbDnu4QKCSAgICoKCSAgICogQHBhcmFtIHtBcnJheX0gb2JqSWRMaXN0IC0gT2JqZWN0IElkcy4KCSAgICoKCSAgICovCgkgIGFkZEJsaW5rQ29tcG9uZW50c0J5SWQ6IGZ1bmN0aW9uIGFkZEJsaW5rQ29tcG9uZW50c0J5SWQob2JqSWRMaXN0KSB7CgkgICAgaWYgKHRoaXMubW9kZWxNYW5hZ2VyLmlzQmxpbmtQZXJtaXRlZCgpKSB7CgkgICAgICByZXR1cm47CgkgICAgfQoKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5zY2VuZVN0YXRlLmFkZEJsaW5rQ29tcG9uZW50c0J5SWQob2JqSWRMaXN0KTsKCSAgfSwKCgkgIC8qKgoJICAgKiDmoLnmja7mnoTku7ZJROS7juW8uuiwg+eKtuaAgembhuWQiOS4reWPlua2iOaehOS7tueahOW8uuiwg+eKtuaAgSBvYmplY3RJZHPnsbvlnovkuLpBcnJhee+8jOS4uuWkmuS4qm9iamVjdElk55qE5pWw57uECgkgICAqCgkgICAqIEBwYXJhbSB7QXJyYXl9IG9iaklkTGlzdCAtIE9iamVjdCBJZHMuCgkgICAqCgkgICAqLwoJICBjbGVhckJsaW5rQ29tcG9uZW50c0J5SWQ6IGZ1bmN0aW9uIGNsZWFyQmxpbmtDb21wb25lbnRzQnlJZChvYmpJZExpc3QpIHsKCSAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuaXNCbGlua1Blcm1pdGVkKCkpIHsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuY2xlYXJCbGlua0NvbXBvbmVudHNCeUlkKG9iaklkTGlzdCk7CgkgIH0sCgoJICAvKioKCSAgICog5Y+W5raI5omA5pyJ5p6E5Lu255qE5by66LCD54q25oCBCgkgICAqCgkgICAqLwoJICBjbGVhckFsbEJsaW5rQ29tcG9uZW50czogZnVuY3Rpb24gY2xlYXJBbGxCbGlua0NvbXBvbmVudHMoKSB7CgkgICAgaWYgKHRoaXMubW9kZWxNYW5hZ2VyLmlzQmxpbmtQZXJtaXRlZCgpKSB7CgkgICAgICByZXR1cm47CgkgICAgfQoKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5zY2VuZVN0YXRlLmNsZWFyQWxsQmxpbmtDb21wb25lbnRzKCk7CgkgIH0sCgoJICAvKioKCSAgICog6I635Y+W5by66LCD54q25oCB6ZuG5ZCI5Lit55qE5p6E5Lu2SUTmlbDnu4Qg6L+U5Zueb2JqZWN0SWRz77yM57G75Z6L5Li6QXJyYXnvvIzkuLrlpJrkuKpvYmplY3RJZOeahOaVsOe7hAoJICAgKgoJICAgKiBAcmV0dXJucyB7QXJyYXl9IG9iamVjdCBJZHMuCgkgICAqLwoJICBnZXRCbGlua0NvbXBvbmVudHM6IGZ1bmN0aW9uIGdldEJsaW5rQ29tcG9uZW50cygpIHsKCSAgICBpZiAodGhpcy5tb2RlbE1hbmFnZXIuaXNCbGlua1Blcm1pdGVkKCkpIHsKCSAgICAgIHJldHVybiBudWxsOwoJICAgIH0KCgkgICAgcmV0dXJuIHRoaXMubW9kZWxNYW5hZ2VyLnNjZW5lU3RhdGUuZ2V0QmxpbmtDb21wb25lbnRzKCk7CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5by66LCD54q25oCB55qE5p6E5Lu26aKc6Imy77yM5b2T5Y+C5pWw5Li656m65pe277yM5oGi5aSN5Li66buY6K6k6aKc6ImyCgkgICAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvciAtIOminOiJsuWvueixoXtjb2xvcjogeHh4LCBvcGFjaXR5OiB4eHh9CgkgICAqIEBwYXJhbSB7SW50fSBjb2xvci5jb2xvciAtIOWNgeWFrei/m+WItuminOiJsuWAvAoJICAgKiBAcGFyYW0ge0Zsb2F0fSBjb2xvci5vcGFjaXR5IC0g5LiN6YCP5piO5bqmCgkgICAqLwoJICBzZXRCbGlua0NvbG9yOiBmdW5jdGlvbiBzZXRCbGlua0NvbG9yKGNvbG9yKSB7CgkgICAgaWYgKHRoaXMubW9kZWxNYW5hZ2VyLmlzQmxpbmtQZXJtaXRlZCgpKSB7CgkgICAgICByZXR1cm47CgkgICAgfQoKCSAgICB0aGlzLm1vZGVsTWFuYWdlci5zZXRCbGlua0NvbG9yKGNvbG9yLmNvbG9yLCBjb2xvci5vcGFjaXR5KTsKCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7lvLrosIPnirbmgIHpopzoibLlj5jljJbnmoTpl7TpmpTml7bpl7TvvIzlj4LmlbDkuLrnqbrml7bmgaLlpI3kuLrpu5jorqTvvIzlj4LmlbA8PTDml7bml6DmlYgKCSAgICogQHBhcmFtIHtGbG9hdH0gdGltZSAtIOmXtOmalOaXtumXtO+8jOWNleS9jW1zCgkgICAqLwoJICBzZXRCbGlua0ludGVydmFsVGltZTogZnVuY3Rpb24gc2V0QmxpbmtJbnRlcnZhbFRpbWUodGltZSkgewoJICAgIGlmICh0aGlzLm1vZGVsTWFuYWdlci5pc0JsaW5rUGVybWl0ZWQoKSkgewoJICAgICAgcmV0dXJuOwoJICAgIH0KCgkgICAgdGhpcy5tb2RlbE1hbmFnZXIuc2V0QmxpbmtJbnRlcnZhbFRpbWUodGltZSk7CgkgIH0sCgkgIGdldE1vZGVsQnlDb21wb25lbnRLZXk6IGZ1bmN0aW9uIGdldE1vZGVsQnlDb21wb25lbnRLZXkoa2V5KSB7CgkgICAgdmFyIG1vZGVsID0gbnVsbDsKCgkgICAgZm9yICh2YXIgbSBpbiB0aGlzLm1vZGVsTWFuYWdlci5tb2RlbHMpIHsKCSAgICAgIGlmICh0aGlzLm1vZGVsTWFuYWdlci5tb2RlbHMuaGFzT3duUHJvcGVydHkobSkpIHsKCSAgICAgICAgbW9kZWwgPSB0aGlzLm1vZGVsTWFuYWdlci5nZXRNb2RlbChtKTsKCgkgICAgICAgIGlmIChtb2RlbCAmJiBtb2RlbC5oYXNDb21wb25lbnQoa2V5KSkgewoJICAgICAgICAgIHJldHVybiBtb2RlbDsKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCSAgfSwKCSAgZ2V0U2NlbmVTdGF0ZTogZnVuY3Rpb24gZ2V0U2NlbmVTdGF0ZSgpIHsKCSAgICB2YXIgc3RhdGUgPSB0aGlzLmdldEZpbHRlcigpLnNhdmVTdGF0ZSgpOwoJICAgIHZhciBjYW1lcmEgPSB0aGlzLmdldENhbWVyYSgpOwoJICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpOwoJICAgIHZhciBtb2RlbFNlbGVjdGlvbiA9IHRoaXMuZ2V0TW9kZWxTZWxlY3Rpb24oKTsKCSAgICByZXR1cm4gewoJICAgICAgc3RhdGU6IHN0YXRlLAoJICAgICAgY2FtZXJhOiBjYW1lcmEsCgkgICAgICBzZWxlY3Rpb246IHNlbGVjdGlvbiwKCSAgICAgIG1vZGVsU2VsZWN0aW9uOiBtb2RlbFNlbGVjdGlvbgoJICAgIH07CgkgIH0sCgkgIHNldFNjZW5lU3RhdGU6IGZ1bmN0aW9uIHNldFNjZW5lU3RhdGUoc3RhdGUpIHsKCSAgICAvLyB2YXIgdmlld2VyID0gdGhpcy5nZXRWaWV3ZXIoKTsKCSAgICAvLyB0aGlzLnNldENhbWVyYVN0YXR1cyhzdGF0ZS5jYW1lcmEpOwoJICAgIGlmICh0eXBlb2Ygc3RhdGUuY2FtZXJhID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihzdGF0ZS5jYW1lcmEpID09PSAib2JqZWN0IikgewoJICAgICAgc3RhdGUuY2FtZXJhID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FtZXJhKTsKCSAgICB9IC8vIHRoaXMuZXhpdFdhbGsoKTsKCgoJICAgIHRoaXMuc2V0Q2FtZXJhKHN0YXRlLmNhbWVyYSwgZmFsc2UpOwoJICAgIHRoaXMuc2V0U2VsZWN0aW9uKHN0YXRlLnNlbGVjdGlvbik7CgkgICAgdGhpcy5zZXRNb2RlbFNlbGVjdGlvbihzdGF0ZS5tb2RlbFNlbGVjdGlvbik7CgkgICAgdGhpcy5nZXRGaWx0ZXIoKS5sb2FkU3RhdGUoc3RhdGUuc3RhdGUpOyAvLyB0aGlzLnNldFNlY3Rpb25Cb3hTdGF0ZShzdGF0ZS5zZWN0aW9uU3RhdGUpOwoJICB9LAoJICBzZXRDb21wb25lbnRQb3NpdGlvbkJ5S2V5OiBmdW5jdGlvbiBzZXRDb21wb25lbnRQb3NpdGlvbkJ5S2V5KGtleSwgcG9zaXRpb24pIHsKCSAgICB2YXIgY2VudGVyID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5mcm9tQXJyYXkocG9zaXRpb24pOwoJICAgIHZhciBtb2RlbE1hbmFnZXIgPSB0aGlzLmdldE1vZGVsTWFuYWdlcigpOwoJICAgIHZhciB0ZW1wTTQgPSBuZXcgVEhSRUUuTWF0cml4NCgpOwoJICAgIGxvZ2dlciQxLnRpbWUoIuaehOS7tuenu+WKqOeUqOaXtiIpOwoJICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0TW9kZWxCeUNvbXBvbmVudEtleShrZXkpOwoKCSAgICBpZiAobW9kZWwpIHsKCSAgICAgIGlmIChtb2RlbE1hbmFnZXIuZXhwbG9zaW9uTGlzdC5pbmRleE9mKGtleSkgPT09IC0xKSB7CgkgICAgICAgIG1vZGVsTWFuYWdlci5leHBsb3Npb25MaXN0LnB1c2goa2V5KTsKCSAgICAgIH0KCgkgICAgICB2YXIgaGFuZGxlciA9IG1vZGVsLl9nZXRIYW5kbGVyKCk7CgoJICAgICAgaWYgKGhhbmRsZXIgaW5zdGFuY2VvZiBOb3JtYWxIYW5kbGVyKSB7CgkgICAgICAgIHZhciBub2RlID0gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0Q29tcG9uZW50KGtleSk7CgoJICAgICAgICBpZiAobm9kZSAmJiBub2RlWzBdICYmIG5vZGVbMF0ubWVzaCkgewoJICAgICAgICAgIHZhciBtZXNoID0gbm9kZVswXS5tZXNoOwoKCSAgICAgICAgICBpZiAobWVzaCkgewoJICAgICAgICAgICAgdmFyIG1hdHJpeFdvcmxkID0gbWVzaC5tYXRyaXhXb3JsZDsKCSAgICAgICAgICAgIG1hdHJpeFdvcmxkLnNldFBvc2l0aW9uKGNlbnRlcik7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgaW5zdGFuY2VvZiBCYXRjaGVkSGFuZGxlcikgewoJICAgICAgICB2YXIgZGVzY3JpcHRvciA9IG1vZGVsLm1vZGVsRGVzY3JpcHRvcjsKCSAgICAgICAgdmFyIHN0YW5kYXJkID0gZGVzY3JpcHRvci5tYXBOb2RlSW5mb0J5Q2F0ZWdvcnlbMV07CgkgICAgICAgIHZhciBpbnN0YW5jZWQgPSBkZXNjcmlwdG9yLm1hcE5vZGVJbmZvQnlDYXRlZ29yeVswXTsKCgkgICAgICAgIGlmIChzdGFuZGFyZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CgkgICAgICAgICAgLy8gbGlzdC5wdXNoKGlkKTsKCSAgICAgICAgICB2YXIgbm9kZXMgPSBzdGFuZGFyZFtrZXldOwoKCSAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5vZGVzLmxlbmd0aDsgaiArPSAxKSB7CgkgICAgICAgICAgICB2YXIgX25vZGUgPSBub2Rlc1tqXTsKCSAgICAgICAgICAgIHZhciBfbWVzaCA9IF9ub2RlLm1lc2g7CgoJICAgICAgICAgICAgaWYgKCFfbWVzaCkgewoJICAgICAgICAgICAgICBjb250aW51ZTsKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICBpZiAoIV9tZXNoLnVzZXJEYXRhKSB7CgkgICAgICAgICAgICAgIF9tZXNoLnVzZXJEYXRhID0ge307CgkgICAgICAgICAgICB9CgoJICAgICAgICAgICAgaWYgKCFfbWVzaC51c2VyRGF0YS5vZmZzZXQpIHsKCSAgICAgICAgICAgICAgX21lc2gudXNlckRhdGEub2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICB2YXIgaW5kZXggPSBfbm9kZS5pbmRleDsKCSAgICAgICAgICAgIHZhciBnZW8gPSBfbWVzaC5nZW9tZXRyeTsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbnMgPSBnZW8uYXR0cmlidXRlcy5wb3NpdGlvbjsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSBjZW50ZXIuY2xvbmUoKS5zdWIoX21lc2gudXNlckRhdGEub2Zmc2V0LmNsb25lKCkpOwoJICAgICAgICAgICAgdGVtcE00LnNldFBvc2l0aW9uKG9mZnNldCk7CgoJICAgICAgICAgICAgX21lc2gudXNlckRhdGEub2Zmc2V0LmNvcHkoY2VudGVyKTsKCgkgICAgICAgICAgICBHZW9tVXRpbCQxLmFwcGx5TWF0cml4NFRvQnVmZmVyKHRlbXBNNCwgcG9zaXRpb25zLmFycmF5LCBpbmRleC5wb3NpdGlvblN0YXJ0LCBpbmRleC5wb3NpdGlvblN0YXJ0ICsgaW5kZXgucG9zaXRpb25Db3VudCk7CgkgICAgICAgICAgICBwb3NpdGlvbnMubmVlZHNVcGRhdGUgPSB0cnVlOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoKCSAgICAgICAgaWYgKGluc3RhbmNlZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CgkgICAgICAgICAgdmFyIF9ub2RlcyA9IGluc3RhbmNlZFtrZXldOwoKCSAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgX25vZGVzLmxlbmd0aDsgX2ogKz0gMSkgewoJICAgICAgICAgICAgdmFyIF9ub2RlMiA9IF9ub2Rlc1tfal07CgkgICAgICAgICAgICB2YXIgX21lc2gyID0gX25vZGUyLm1lc2g7CgoJICAgICAgICAgICAgaWYgKCFfbWVzaDIpIHsKCSAgICAgICAgICAgICAgY29udGludWU7IC8vIGRlYnVnZ2VyOwoJICAgICAgICAgICAgfQoKCSAgICAgICAgICAgIHZhciBfaW5kZXggPSBfbWVzaDIuX2luZGljZXNHcm91cFtfbm9kZTIudXNlcklkXTsKCSAgICAgICAgICAgIHZhciBfZ2VvID0gX21lc2gyLmdlb21ldHJ5OwoKCSAgICAgICAgICAgIHZhciBtY29sMyA9IF9nZW8uZ2V0QXR0cmlidXRlKCJtY29sMyIpOwoKCSAgICAgICAgICAgIG1jb2wzLmFycmF5WzMgKiBfaW5kZXhdID0gY2VudGVyLng7CgkgICAgICAgICAgICBtY29sMy5hcnJheVszICogX2luZGV4ICsgMV0gPSBjZW50ZXIueTsKCSAgICAgICAgICAgIG1jb2wzLmFycmF5WzMgKiBfaW5kZXggKyAyXSA9IGNlbnRlci56OwoKCSAgICAgICAgICAgIF9ub2RlMi5tYXRyaXguc2V0UG9zaXRpb24oY2VudGVyKTsKCgkgICAgICAgICAgICBtY29sMy5uZWVkc1VwZGF0ZSA9IHRydWU7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICBsb2dnZXIkMS53YXJuKCLlvZPliY3mqKHlvI/kuIvmmoLkuI3mlK/mjIHmnoTku7bnp7vliqgiKTsKCSAgICAgIH0KCSAgICB9CgoJICAgIGxvZ2dlciQxLnRpbWVFbmQoIuaehOS7tuenu+WKqOeUqOaXtiIpOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruWcuuaZr+iDjOaZr+minOiJsgoJICAgKiBAZnVuY3Rpb24gR2xvZG9uLkJpbWZhY2UuVmlld2VyLlZpZXdlcjNELnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3IKCSAgICogQHBhcmFtIHtDb2xvcn0gY29sb3IxIOiuvue9ruiDjOaZr+minOiJsgoJICAgKiBAcGFyYW0ge0NvbG9yfSBjb2xvcjIg6K6+572u6IOM5pmv6aKc6ImyICAgIGNvbG9yMuWtmOWcqOaXtuWNs+aYr+eUseS4iuiAjOS4i+eahOe6v+aAp+a4kOWPmOiDjOaZr+minOiJsgoJICAgKi8KCSAgc2V0QmFja2dyb3VuZENvbG9yOiBmdW5jdGlvbiBzZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IxLCBjb2xvcjIpIHsKCSAgICBpZiAoY29sb3IyKSB7CgkgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcnMoW3sKCSAgICAgICAgY29sb3I6IGNvbG9yMSwKCSAgICAgICAgc3RvcDogIjAlIgoJICAgICAgfSwgewoJICAgICAgICBjb2xvcjogY29sb3IyLAoJICAgICAgICBzdG9wOiAiMTAwJSIKCSAgICAgIH1dLCAiMTgwZGVnIik7CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIOiuvue9ruaooeWei+WMuuWfn+iDjOaZr+minOiJsgoJICAgICAgdmFyIHZpZXdlckRpdiA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpOwoKCSAgICAgIGlmICh2aWV3ZXJEaXYpIHsKCSAgICAgICAgdmlld2VyRGl2LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjEuZ2V0UkdCQSgpOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCSAgc2V0QmFja2dyb3VuZENvbG9yczogZnVuY3Rpb24gc2V0QmFja2dyb3VuZENvbG9ycyhjb2xvcnMsIGRpcmVjdGlvbikgewoJICAgIHZhciB2aWV3ZXJEaXYgPSB0aGlzLmdldERvbUVsZW1lbnQoKTsKCSAgICB2YXIgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbiB8fCAiMGRlZyI7CgkgICAgdmFyIHN0eWxlQ29sb3IgPSBbXTsKCgkgICAgaWYgKGNvbG9ycyAmJiBjb2xvcnMubGVuZ3RoID4gMCkgewoJICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3JzWzBdLmNvbG9yIHx8IGNvbG9yc1swXSk7CgkgICAgICB9CgoJICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpICs9IDEpIHsKCSAgICAgICAgdmFyIGNvbG9yID0gY29sb3JzW2ldLmNvbG9yLmdldFJHQkEoKSArICIgIiArIGNvbG9yc1tpXS5zdG9wOwoJICAgICAgICBzdHlsZUNvbG9yLnB1c2goY29sb3IpOwoJICAgICAgfQoKCSAgICAgIHZhciBzdHlsZVN0cmluZyA9IGRpcmVjdGlvbnMgKyAiLCAiICsgc3R5bGVDb2xvci5qb2luKCIsIik7CgoJICAgICAgaWYgKHZpZXdlckRpdikgewoJICAgICAgICB2aWV3ZXJEaXYuc3R5bGUuYmFja2dyb3VuZCA9ICJsaW5lYXItZ3JhZGllbnQoIiArIHN0eWxlU3RyaW5nICsgIikiOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDojrflj5bmnoTku7bnmoTmnKzlnLDnn6npmLXvvIznm7jlr7nkuo7kuJbnlYznn6npmLXvvIh3b3JsZE1hdHJpeO+8ieiAjOiogAoJICAgKiBAcGFyYW0ga2V5CgkgICAqLwoJICBnZXRDb21wb25lbnRMb2NhbE1hdHJpeEJ5S2V5OiBmdW5jdGlvbiBnZXRDb21wb25lbnRMb2NhbE1hdHJpeEJ5S2V5KGtleSkgewoJICAgIGlmIChrZXkpIHsKCSAgICAgIHZhciBub2RlID0gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0Q29tcG9uZW50KGtleSk7CgoJICAgICAgaWYgKG5vZGUgJiYgbm9kZS5sZW5ndGggPiAwKSB7CgkgICAgICAgIHZhciBtZXNoID0gbm9kZVswXS5tZXNoOwoJICAgICAgICByZXR1cm4gbWVzaC5tYXRyaXg7CgkgICAgICB9CgkgICAgfQoKCSAgICByZXR1cm4gdW5kZWZpbmVkOwoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruaehOS7tueahOacrOWcsOefqemYte+8jOebuOWvueS6juS4lueVjOefqemYte+8iG1hdHJpeFdvcmxk77yJ6ICM6KiACgkgICAqIEBwYXJhbSBrZXkKCSAgICovCgkgIHNldENvbXBvbmVudExvY2FsTWF0cml4QnlLZXk6IGZ1bmN0aW9uIHNldENvbXBvbmVudExvY2FsTWF0cml4QnlLZXkoa2V5LCBtYXRyaXhBcnJheSkgewoJICAgIGlmIChrZXkpIHsKCSAgICAgIHZhciBub2RlID0gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0Q29tcG9uZW50KGtleSk7CgoJICAgICAgaWYgKG5vZGUgJiYgbm9kZS5sZW5ndGggPiAwKSB7CgkgICAgICAgIHZhciBtZXNoID0gbm9kZVswXS5tZXNoOwoJICAgICAgICBtZXNoLm1hdHJpeC5mcm9tQXJyYXkobWF0cml4QXJyYXkpOwoJICAgICAgICBtZXNoLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpOwoJICAgICAgICB0aGlzLnJlbmRlcigpOwoJICAgICAgICByZXR1cm4gdHJ1ZTsKCSAgICAgIH0KCSAgICB9CgoJICAgIHJldHVybiBmYWxzZTsKCSAgfSwKCgkgIC8qKgoJICAgKiDlr7nmnoTku7bov5vooYzlj5jmjaLmk43kvZzvvIznp4HmnInmlrnms5XvvIzlpJbpg6jlsL3ph4/osIPnlKjkuIvovrnnmoTkuInkuKrmlrnms5XjgIIKCSAgICogQHBhcmFtIGtleSDmnoTku7bnmoRrZXkKCSAgICovCgkgIF90cmFuc2Zvcm1Db21wb25lbnRCeUtleTogZnVuY3Rpb24gX3RyYW5zZm9ybUNvbXBvbmVudEJ5S2V5KGtleSkgewoJICAgIGlmIChHbG9iYWxEYXRhLk1lcmdlQ29tcG9uZW50KSB7CgkgICAgICBsb2dnZXIkMS5sb2coIuWQiOW5tuaooeW8j+S4i+aXoOazleS9v+eUqOivpeWKn+iDve+8iOivt+S/ruaUuU1lcmdlQ29tcG9uZW5077yJIik7CgkgICAgICByZXR1cm4gdW5kZWZpbmVkOwoJICAgIH0KCgkgICAgaWYgKGtleSkgewoJICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciKSB7CgkgICAgICAgIHZhciBub2RlID0gdGhpcy5tb2RlbE1hbmFnZXIuZ2V0Q29tcG9uZW50KGtleSk7CgoJICAgICAgICBpZiAobm9kZSAmJiBub2RlLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICB2YXIgbWVzaCA9IG5vZGVbMF0ubWVzaDsKCSAgICAgICAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLmVuYWJsZVRvb2wodGhpcywgVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgkgICAgICAgICAgdmFyIHRvb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldFRvb2xCeU5hbWUoVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgkgICAgICAgICAgdmFyIHNjb3BlID0gdGhpczsKCSAgICAgICAgICB0b29sLnRyYW5zZm9ybUNvbXBvbmVudChtZXNoLCBmdW5jdGlvbiAoZXZlbnQpIHsKCSAgICAgICAgICAgIHNjb3BlLnJlbmRlcigpOwoJICAgICAgICAgIH0pOwoJICAgICAgICAgIHJldHVybiB0b29sOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgaWYgKGtleSBpbnN0YW5jZW9mIFRIUkVFLk9iamVjdDNEKSB7CgkgICAgICAgIHZhciBfbWVzaDMgPSBrZXk7CgkgICAgICAgIHRoaXMuY29udHJvbE1hbmFnZXIuZW5hYmxlVG9vbCh0aGlzLCBUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgICAgIHZhciBfdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgICAgIHZhciBfc2NvcGUgPSB0aGlzOwoKCSAgICAgICAgX3Rvb2wudHJhbnNmb3JtQ29tcG9uZW50KF9tZXNoMywgZnVuY3Rpb24gKGV2ZW50KSB7CgkgICAgICAgICAgX3Njb3BlLnJlbmRlcigpOwoJICAgICAgICB9KTsKCgkgICAgICAgIHJldHVybiBfdG9vbDsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICB9CgkgICAgfQoKCSAgICByZXR1cm4gdW5kZWZpbmVkOwoJICB9LAoKCSAgLyoqCgkgICAqIOWvueaehOS7tui/m+ihjOW5s+enu+aTjeS9nAoJICAgKiBAcGFyYW0ga2V5IOaehOS7tueahGtleQoJICAgKi8KCSAgdHJhbnNsYXRlQ29tcG9uZW50QnlLZXk6IGZ1bmN0aW9uIHRyYW5zbGF0ZUNvbXBvbmVudEJ5S2V5KGtleSkgewoJICAgIHZhciB0b29sID0gdGhpcy5fdHJhbnNmb3JtQ29tcG9uZW50QnlLZXkoa2V5KTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIHRvb2wuc3dpdGNoVG9UcmFuc2xhdGVNb2RlKCk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWvueaehOS7tui/m+ihjOe8qeaUvuaTjeS9nAoJICAgKiBAcGFyYW0ga2V5IOaehOS7tueahGtleQoJICAgKi8KCSAgc2NhbGVDb21wb25lbnRCeUtleTogZnVuY3Rpb24gc2NhbGVDb21wb25lbnRCeUtleShrZXkpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuX3RyYW5zZm9ybUNvbXBvbmVudEJ5S2V5KGtleSk7CgoJICAgIGlmICh0b29sKSB7CgkgICAgICB0b29sLnN3aXRjaFRvU2NhbGVNb2RlKCk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWvueaehOS7tui/m+ihjOaXi+i9rOaTjeS9nAoJICAgKiBAcGFyYW0ga2V5IOaehOS7tueahGtleQoJICAgKi8KCSAgcm90YXRlQ29tcG9uZW50QnlLZXk6IGZ1bmN0aW9uIHJvdGF0ZUNvbXBvbmVudEJ5S2V5KGtleSkgewoJICAgIHZhciB0b29sID0gdGhpcy5fdHJhbnNmb3JtQ29tcG9uZW50QnlLZXkoa2V5KTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIHRvb2wuc3dpdGNoVG9Sb3RhdGVNb2RlKCk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWPlua2iOWPmOaNogoJICAgKiBAcGFyYW0gbmVlZFJlc3RvcmUg5piv5ZCm6ZyA6KaB6YeN572u5Li65Y+Y5o2i5Lul5YmN55qE54q25oCB77yM5LiN5Lyg5oiW6ICF5LygZmFsc2XooajnpLrkuI3ph43nva4KCSAgICovCgkgIGNhbmNlbFRyYW5zZm9ybUNvbXBvbmVudDogZnVuY3Rpb24gY2FuY2VsVHJhbnNmb3JtQ29tcG9uZW50KG5lZWRSZXN0b3JlKSB7CgkgICAgdmFyIHRvb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldFRvb2xCeU5hbWUoVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgoJICAgIGlmICh0b29sKSB7CgkgICAgICB0b29sLmNhbmNlbFRyYW5zZm9ybUNvbXBvbmVudChuZWVkUmVzdG9yZSk7CgkgICAgICB0aGlzLmNvbnRyb2xNYW5hZ2VyLmRpc2FibGVUb29sKHRvb2wubmFtZSk7CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWPquaYr+mHjee9ruaehOS7tueahOWPmOaNou+8jOaBouWkjeWIsOWIneWni+eKtuaAge+8jOS4jeS8muWPlua2iOWPmOaNogoJICAgKi8KCSAgcmVzdG9yZUNvbXBvbmVudFRyYW5zZm9ybTogZnVuY3Rpb24gcmVzdG9yZUNvbXBvbmVudFRyYW5zZm9ybSgpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIGlmICh0b29sLnJlc3RvcmVDb21wb25lbnRPcmlnaW5hbFRyYW5zZm9ybVN0YXRlKCkpIHsKCSAgICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5aKe5aSn5p6E5Lu25Y+Y5o2i5o6n5Yi25Zmo55qE5aSn5bCP77yI5Z2Q5qCH6L2055qE6ZW/55+t44CB5peL6L2s6L2055qE5aSn5bCP562J562J77yJCgkgICAqLwoJICBpbmNyZWFzZUNvbXBvbmVudFRyYW5zZm9ybUNvbnRyb2xTaXplOiBmdW5jdGlvbiBpbmNyZWFzZUNvbXBvbmVudFRyYW5zZm9ybUNvbnRyb2xTaXplKCkgewoJICAgIHZhciB0b29sID0gdGhpcy5jb250cm9sTWFuYWdlci5nZXRUb29sQnlOYW1lKFRvb2xNb2RlLkNPTVBPTkVOVF9UUkFOU0ZPUk0pOwoKCSAgICBpZiAodG9vbCkgewoJICAgICAgaWYgKHRvb2wuaW5jcmVhc2VUcmFuc2Zvcm1Db250cm9sU2l6ZSgpKSB7CgkgICAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWHj+Wwj+aehOS7tuWPmOaNouaOp+WItuWZqOeahOWkp+Wwj++8iOWdkOagh+i9tOeahOmVv+efreOAgeaXi+i9rOi9tOeahOWkp+Wwj+etieetie+8iQoJICAgKi8KCSAgZGVjcmVhc2VDb21wb25lbnRUcmFuc2Zvcm1Db250cm9sU2l6ZTogZnVuY3Rpb24gZGVjcmVhc2VDb21wb25lbnRUcmFuc2Zvcm1Db250cm9sU2l6ZSgpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIGlmICh0b29sLmRlY3JlYXNlVHJhbnNmb3JtQ29udHJvbFNpemUoKSkgewoJICAgICAgICB0aGlzLnJlbmRlcigpOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDorr7nva7lj5jmjaLnqbrpl7TkuLrlsYDpg6jnmoTvvIzmnoTku7bnmoTlsYDpg6jlnZDmoIfovbTkvJrpmo/mnoTku7bkuIDotbflj5jmjaIKCSAgICovCgkgIHNldENvbXBvbmVudFRyYW5zZm9ybVNwYWNlVG9Mb2NhbFNwYWNlOiBmdW5jdGlvbiBzZXRDb21wb25lbnRUcmFuc2Zvcm1TcGFjZVRvTG9jYWxTcGFjZSgpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIGlmICh0b29sLnNldFRyYW5zZm9ybVNwYWNlVG9Mb2NhbFNwYWNlKCkpIHsKCSAgICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6K6+572u5Y+Y5o2i56m66Ze05Li65LiW55WM55qE77yM5p6E5Lu255qE5Z2Q5qCH6L205LiN5Lya6ZqP5p6E5Lu25LiA6LW35Y+Y5o2iCgkgICAqLwoJICBzZXRDb21wb25lbnRUcmFuc2Zvcm1TcGFjZVRvV29ybGRTcGFjZTogZnVuY3Rpb24gc2V0Q29tcG9uZW50VHJhbnNmb3JtU3BhY2VUb1dvcmxkU3BhY2UoKSB7CgkgICAgdmFyIHRvb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldFRvb2xCeU5hbWUoVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgoJICAgIGlmICh0b29sKSB7CgkgICAgICBpZiAodG9vbC5zZXRUcmFuc2Zvcm1TcGFjZVRvV29ybGRTcGFjZSgpKSB7CgkgICAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOiuvue9ruaehOS7tuWPmOaNouepuumXtO+8jOWcqOWxgOmDqOWSjOS4lueVjOepuumXtOadpeWbnuWIh+aNogoJICAgKi8KCSAgc3dpdGNoQ29tcG9uZW50VHJhbnNmb3JtU3BhY2VCZXR3ZWVuTG9jYWxBbmRXb3JsZDogZnVuY3Rpb24gc3dpdGNoQ29tcG9uZW50VHJhbnNmb3JtU3BhY2VCZXR3ZWVuTG9jYWxBbmRXb3JsZCgpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIGlmICh0b29sLnN3aXRjaFRyYW5zZm9ybVNwYWNlKCkpIHsKCSAgICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog5pi+56S6YXhpc+i9tOeahOWPmOaNogoJICAgKiBAcGFyYW0gYXhpcyB75a2X56ym5Liy77yaJ3gnLCd5Jywneics5aSn5bCP5YaZ5LiN5pWP5oSffQoJICAgKi8KCSAgc2hvd0NvbXBvbmVudFRyYW5zZm9ybU9uQXhpczogZnVuY3Rpb24gc2hvd0NvbXBvbmVudFRyYW5zZm9ybU9uQXhpcyhheGlzKSB7CgkgICAgdmFyIHRvb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldFRvb2xCeU5hbWUoVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgoJICAgIGlmICh0b29sKSB7CgkgICAgICBpZiAodG9vbC5zaG93VHJhbnNmb3JtT25BeGlzKGF4aXMpKSB7CgkgICAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOmakOiXj2F4aXPovbTnmoTlj5jmjaIKCSAgICogQHBhcmFtIGF4aXMge+Wtl+espuS4su+8mid4JywneScsJ3onLOWkp+Wwj+WGmeS4jeaVj+aEn30KCSAgICovCgkgIGhpZGVDb21wb25lbnRUcmFuc2Zvcm1PbkF4aXM6IGZ1bmN0aW9uIGhpZGVDb21wb25lbnRUcmFuc2Zvcm1PbkF4aXMoYXhpcykgewoJICAgIHZhciB0b29sID0gdGhpcy5jb250cm9sTWFuYWdlci5nZXRUb29sQnlOYW1lKFRvb2xNb2RlLkNPTVBPTkVOVF9UUkFOU0ZPUk0pOwoKCSAgICBpZiAodG9vbCkgewoJICAgICAgaWYgKHRvb2wuaGlkZVRyYW5zZm9ybU9uQXhpcyhheGlzKSkgewoJICAgICAgICB0aGlzLnJlbmRlcigpOwoJICAgICAgfQoJICAgIH0KCSAgfSwKCgkgIC8qKgoJICAgKiDnpoHnlKjmnoTku7blj5jmjaLvvIzkvYbmmK/lj5jmjaLmjqfliLblmajku43nhLbov5jlnKjmmL7npLoKCSAgICovCgkgIGRpc2FibGVDb21wb25lbnRUcmFuc2Zvcm06IGZ1bmN0aW9uIGRpc2FibGVDb21wb25lbnRUcmFuc2Zvcm0oKSB7CgkgICAgdmFyIHRvb2wgPSB0aGlzLmNvbnRyb2xNYW5hZ2VyLmdldFRvb2xCeU5hbWUoVG9vbE1vZGUuQ09NUE9ORU5UX1RSQU5TRk9STSk7CgoJICAgIGlmICh0b29sKSB7CgkgICAgICBpZiAodG9vbC5kaXNhYmxlVHJhbnNmb3JtKCkpIHsKCSAgICAgICAgdGhpcy5yZW5kZXIoKTsKCSAgICAgIH0KCSAgICB9CgkgIH0sCgoJICAvKioKCSAgICog6YeN5paw5ZCv55So5p6E5Lu25Y+Y5o2iCgkgICAqLwoJICBlbmFibGVDb21wb25lbnRUcmFuc2Zvcm06IGZ1bmN0aW9uIGVuYWJsZUNvbXBvbmVudFRyYW5zZm9ybSgpIHsKCSAgICB2YXIgdG9vbCA9IHRoaXMuY29udHJvbE1hbmFnZXIuZ2V0VG9vbEJ5TmFtZShUb29sTW9kZS5DT01QT05FTlRfVFJBTlNGT1JNKTsKCgkgICAgaWYgKHRvb2wpIHsKCSAgICAgIGlmICh0b29sLmVuYWJsZVRyYW5zZm9ybSgpKSB7CgkgICAgICAgIHRoaXMucmVuZGVyKCk7CgkgICAgICB9CgkgICAgfQoJICB9LAoKCSAgLyoqCgkgICAqIOWcqOS4iee7tOWcuuaZr+eahOiDjOaZr+mHjOa3u+WKoOWwj+e6oueglmxvZ2/msLTljbDlm74KCSAgICovCgkgIGFkZFhoekxvZ29XYXRlcm1hcms6IGZ1bmN0aW9uIGFkZFhoekxvZ29XYXRlcm1hcmsoZG9tRWxlbWVudCkgewoJICAgIC8vIOWIm+W7uuWuuee6s2xvZ2/og4zmma/lm77nmoTlrrnlmagKCSAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CgkgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKCSAgICBjYW52YXMuc3R5bGUuYm90dG9tID0gIjYwcHgiOwoJICAgIGNhbnZhcy5zdHlsZS5yaWdodCA9ICIzMHB4IjsKCSAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDI3Nik7CgkgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgNTcpOwoJICAgIGRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FudmFzKTsKCSAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoJICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOyAvLyBpbWFnZS5zcmMgPSAiaW1nL3hoeldhdGVyTWFyay5wbmciOwoKCSAgICBpbWFnZS5zcmMgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFSUUFBQUE1Q0FZQUFBRDNOZFFsQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQTRLV2xVV0hSWVRVdzZZMjl0TG1Ga2IySmxMbmh0Y0FBQUFBQUFQRDk0Y0dGamEyVjBJR0psWjJsdVBTTHZ1NzhpSUdsa1BTSlhOVTB3VFhCRFpXaHBTSHB5WlZONlRsUmplbXRqT1dRaVB6NEtQSGc2ZUcxd2JXVjBZU0I0Yld4dWN6cDRQU0poWkc5aVpUcHVjenB0WlhSaEx5SWdlRHA0YlhCMGF6MGlRV1J2WW1VZ1dFMVFJRU52Y21VZ05TNDJMV014TXpnZ056a3VNVFU1T0RJMExDQXlNREUyTHpBNUx6RTBMVEF4T2pBNU9qQXhJQ0FnSUNBZ0lDQWlQZ29nSUNBOGNtUm1PbEpFUmlCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaVBnb2dJQ0FnSUNBOGNtUm1Pa1JsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlnb2dJQ0FnSUNBZ0lDQWdJQ0I0Yld4dWN6cDRiWEE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM4aUNpQWdJQ0FnSUNBZ0lDQWdJSGh0Ykc1ek9tUmpQU0pvZEhSd09pOHZjSFZ5YkM1dmNtY3ZaR012Wld4bGJXVnVkSE12TVM0eEx5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZjR2h2ZEc5emFHOXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNCb2IzUnZjMmh2Y0M4eExqQXZJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNmMzUkZkblE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVVYyWlc1MEl5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZkR2xtWmowaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTBhV1ptTHpFdU1DOGlDaUFnSUNBZ0lDQWdJQ0FnSUhodGJHNXpPbVY0YVdZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZaWGhwWmk4eExqQXZJajRLSUNBZ0lDQWdJQ0FnUEhodGNEcERjbVZoZEc5eVZHOXZiRDVCWkc5aVpTQlFhRzkwYjNOb2IzQWdRME1nTWpBeE55QW9UV0ZqYVc1MGIzTm9LVHd2ZUcxd09rTnlaV0YwYjNKVWIyOXNQZ29nSUNBZ0lDQWdJQ0E4ZUcxd09rTnlaV0YwWlVSaGRHVStNakF5TUMwd05DMHlPRlF4TXpvME5Eb3dOQ3N3T0Rvd01Ed3ZlRzF3T2tOeVpXRjBaVVJoZEdVK0NpQWdJQ0FnSUNBZ0lEeDRiWEE2VFc5a2FXWjVSR0YwWlQ0eU1ESXdMVEEwTFRJNFZERTBPalUxT2pRM0t6QTRPakF3UEM5NGJYQTZUVzlrYVdaNVJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5aWFJoWkdGMFlVUmhkR1UrTWpBeU1DMHdOQzB5T0ZReE5EbzFOVG8wTnlzd09Eb3dNRHd2ZUcxd09rMWxkR0ZrWVhSaFJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEdSak9tWnZjbTFoZEQ1cGJXRm5aUzl3Ym1jOEwyUmpPbVp2Y20xaGRENEtJQ0FnSUNBZ0lDQWdQSEJvYjNSdmMyaHZjRHBEYjJ4dmNrMXZaR1UrTXp3dmNHaHZkRzl6YUc5d09rTnZiRzl5VFc5a1pUNEtJQ0FnSUNBZ0lDQWdQSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUStlRzF3TG1scFpEcGpOVGxqT1RneU5DMHlOV015TFRReFpUa3RZakU0TWkwMk5EZ3dNR1V5TW1OallUYzhMM2h0Y0UxTk9rbHVjM1JoYm1ObFNVUStDaUFnSUNBZ0lDQWdJRHg0YlhCTlRUcEViMk4xYldWdWRFbEVQbmh0Y0M1a2FXUTZZelU1WXprNE1qUXRNalZqTWkwME1XVTVMV0l4T0RJdE5qUTRNREJsTWpKalkyRTNQQzk0YlhCTlRUcEViMk4xYldWdWRFbEVQZ29nSUNBZ0lDQWdJQ0E4ZUcxd1RVMDZUM0pwWjJsdVlXeEViMk4xYldWdWRFbEVQbmh0Y0M1a2FXUTZZelU1WXprNE1qUXRNalZqTWkwME1XVTVMV0l4T0RJdE5qUTRNREJsTWpKalkyRTNQQzk0YlhCTlRUcFBjbWxuYVc1aGJFUnZZM1Z0Wlc1MFNVUStDaUFnSUNBZ0lDQWdJRHg0YlhCTlRUcElhWE4wYjNKNVBnb2dJQ0FnSUNBZ0lDQWdJQ0E4Y21SbU9sTmxjVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwc2FTQnlaR1k2Y0dGeWMyVlVlWEJsUFNKU1pYTnZkWEpqWlNJK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwaFkzUnBiMjQrWTNKbFlYUmxaRHd2YzNSRmRuUTZZV04wYVc5dVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNmFXNXpkR0Z1WTJWSlJENTRiWEF1YVdsa09tTTFPV001T0RJMExUSTFZekl0TkRGbE9TMWlNVGd5TFRZME9EQXdaVEl5WTJOaE56d3ZjM1JGZG5RNmFXNXpkR0Z1WTJWSlJENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9uZG9aVzQrTWpBeU1DMHdOQzB5T0ZReE16bzBORG93TkNzd09Eb3dNRHd2YzNSRmRuUTZkMmhsYmo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUStRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTkRJREl3TVRjZ0tFMWhZMmx1ZEc5emFDazhMM04wUlhaME9uTnZablIzWVhKbFFXZGxiblErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Y21SbU9teHBQZ29nSUNBZ0lDQWdJQ0FnSUNBOEwzSmtaanBUWlhFK0NpQWdJQ0FnSUNBZ0lEd3ZlRzF3VFUwNlNHbHpkRzl5ZVQ0S0lDQWdJQ0FnSUNBZ1BIUnBabVk2VDNKcFpXNTBZWFJwYjI0K01Ud3ZkR2xtWmpwUGNtbGxiblJoZEdsdmJqNEtJQ0FnSUNBZ0lDQWdQSFJwWm1ZNldGSmxjMjlzZFhScGIyNCtOekl3TURBd0x6RXdNREF3UEM5MGFXWm1PbGhTWlhOdmJIVjBhVzl1UGdvZ0lDQWdJQ0FnSUNBOGRHbG1aanBaVW1WemIyeDFkR2x2Ymo0M01qQXdNREF2TVRBd01EQThMM1JwWm1ZNldWSmxjMjlzZFhScGIyNCtDaUFnSUNBZ0lDQWdJRHgwYVdabU9sSmxjMjlzZFhScGIyNVZibWwwUGpJOEwzUnBabVk2VW1WemIyeDFkR2x2YmxWdWFYUStDaUFnSUNBZ0lDQWdJRHhsZUdsbU9rTnZiRzl5VTNCaFkyVStOalUxTXpVOEwyVjRhV1k2UTI5c2IzSlRjR0ZqWlQ0S0lDQWdJQ0FnSUNBZ1BHVjRhV1k2VUdsNFpXeFlSR2x0Wlc1emFXOXVQakkzTmp3dlpYaHBaanBRYVhobGJGaEVhVzFsYm5OcGIyNCtDaUFnSUNBZ0lDQWdJRHhsZUdsbU9sQnBlR1ZzV1VScGJXVnVjMmx2Ymo0MU56d3ZaWGhwWmpwUWFYaGxiRmxFYVcxbGJuTnBiMjQrQ2lBZ0lDQWdJRHd2Y21SbU9rUmxjMk55YVhCMGFXOXVQZ29nSUNBOEwzSmtaanBTUkVZK0Nqd3ZlRHA0YlhCdFpYUmhQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBbzhQM2h3WVdOclpYUWdaVzVrUFNKM0lqOCtnSjJLc3dBQUFDQmpTRkpOQUFCNkpRQUFnSU1BQVBuL0FBQ0E2UUFBZFRBQUFPcGdBQUE2bUFBQUYyK1NYOFZHQUFCQjEwbEVRVlI0MnV5OVNXd2QyYllsdHZZNUp5THVqWHZKeTU1VW01SklpV0tubERMZkw1ZnhnZkl2Rkd6VXdOODJQSElWWERCZ3dGTUROZ3lVUjRhblpjUDJ5REE4S1JkZ3dEQnE0SUVCVjhFMWNLRTZHLys5bDZrVVJWSlVueW1LZlgrN2lEamQ5dUJHOEYxUkpFVkt5cGVaNzc4REVKQnVFemVhYzliWmUrMjE5OFl6QVA4clFsajA0RDhEc0FTQUFmeFhsUmh2UnlmeEg2RXpIdWV2N3dCSUVXSUpQWGdGd0VVU0wvdEQrWGgyYlBEUmcvRWJEKzlQVDh4L1BYSDVtd2RSdVZsUitOKy8valA4ZDNFVm5CLzc3d0w0dmpLR3Z4dVc4RFkvNWxNQy91bTB3bUVsd0QvNTZsOEg5L1FneVgvM2J3T29WOGJ3bjRjbFBNcy8vd3pBVTFTUUlNSS8vaXQvRmR6VGcyWDhPRU1waFJzM2JrQXBkZHI3UWlsRlNpbjZYTDhwaE1EVTFGUVF4N0g4bk1lVlV1S0xMNzVBRUFTZjgvNElwWlNVVXNxelB2ZjExMS9qK3ZYcitDbkg0T0FnWm1abU1ERXhnY25KU1Z5NWNnVlJGSWs3ZCs2RWNSeUQ2T3hiSFFRQnBxYW1nbks1SENpbEpINkc0K3JWcXgvMWZHL2R1bFdlbVptSndqQTg4ZjB3RERFOVBZMkJnUUgwOS9kallHRGduYisrdmo2TWpZMUJmZFRFaEVjTXhtNUYwdUhzVUpWRmY1OUlVR0lDQVI3T0IxVkJOMHMvVEdhTkNtMGN4dVExQUlnY0VQNVFocFJTek03T2ppaWxsUGUrUFQ4L3YyK3RmZWNTZTNwNmtLWXBqREhuT2lZUklReERDc053NlA3OSsrVWtTUnJ6OC9PN3pqbi9xZWZyblB0czEwNUVLSlZLWW5wNitwcFNLdFJhTng0L2ZyeDUvUHAvVG9PWklhVUVFY0ZhaXlpS1NuZnYzaDFTU2dXM2I5L2VucCtmYjU3MWZXTU1CVUV3OU9XWFgxYWRjOW5EaHcvZldtdlA5VncrNThadzFrYkVuWEdoNzVWS3BXQndjSEJFU2ltbnBxYjJGeGNYOTYyMUg3ZkJYUGlrQWFTSzRJZEYyZHk2MFNkTVVGRkdDSmJNWVBZZ0FHQUNoTkljOTkzVXBuSnRadmpnOFBGR281RjQxNENCNUQ4TVdDRWlDb0tnRWdSQm1LWXBBOWcvanVvVEV4TjQ4dVRKaFFEbDd0MjdaYVZVeFhzZkJrRmd1M2ZPTUF4QlJPQ1B1SWZIcmF5TFRQTGpRRUZFbUpxYUtra3BJeUtTVVJRWjd6MWZZSEdKMzlOajhzNDVabVljSEJ5Z1ZDcWhyNjhQUWdpa2FVcGhHSmFJS0dUbWdTaUsybG1XK1pQdUxSRWhpaUlSQkVGTVJLSDNQcm5veGlPRVVKOWpZemh0TGdvaC9NSEJ3YjczUHIwQW1NaTV1YmtSQUdVQVZDNlhZd0IxQU82ekF3b0I4TjBmbEFwR1NmWDYzdFYrcUxBblNrbUJHWURuWThZSEE1NlppS3lTb2VCNCtPM2tyUjdYYU8vOUcyL1cyMDBMMXNiOVFZQ0tjdzVDQ0RqblRseE0zbnQ0Nzg4TkptRVlFaEgxRVpHMDFocGpUQjJBenllMG5KMmRqWVFRZE43RmUyd0hvKzN0YldlTVNZVVFORHM3TzNyYUpDOUFTMG9wckxYMjFhdFhXOVphNzV3REVVRktDV2FPbUptdHRTWkpraXlLSWpqblRnUzdmUGNFQUR4NDhLREV6R1BlZTlrMXhicm16anRUOElPR3h5bWZGVUlJUjBRYmp4NDlTclRXOE41amJXME5oNGVIcUZRcVNKSWtqZVA0TUlxaUFhVlUrZDY5ZS8wUEh6N2NQUW44Z3lEQXpNeE1TRVJrakRIVzJ1WUo1MzdxWWkrVlNoVWhST2pPWVNaNjcxR1lHVGxRbk92eEVwRWJIaDQrWEYxZFJaWmw1d0VUbXB1Ykd4UkNWUEo1bWh3Y0hPeWVCQ2JudFc3UEJoUm1OQUNVRUdDN0xJVzRmN2szVFlPYXNESmt6L2syZWZwV1NXQm1BbnRIcEFXVks0UHgySi8xMzJxdHIrenNWdzlGUnVrZkJLYndXWjdjUlN3SklRVHUzcjFibGxMR3pFek91ZGJ5OHZLaHRSWmhHT0xMTDcrTW1QbVM5MTRkZStoMDdEem8yT3ZGdjZsV3F6VUJyREV6amsveUxsQWtJUVNJQ0VRa3BaVDY2dFdyMGNEQVFPaTlEd0M0L1B3cStWYzVETVA0M3IxN0FSRVJNMVAzWWlJaW42WnBjMzkvWHdzaElLVVUrUzcvSHFEazU4RDVRcUlQTER3K3R2RG9PS0F3c3pqT2piUmFMYlJhTFFEZzVlWGwzZnYzN3hmM3ZPS2MyejhKS0l3eFlPYXFVa3BZYTkzVzFsWnlYcmVBbVRsSmtwWVFJdlBlZStjY1N5bnB0RTFGU2ltWnVaVC9QekhHdU5QbVVYR3NMZ3ZGbjhjYXpzRmtXRXBaYzg0SklrcFhWbFkyQWFSQkVPRDR0WVZoS0kweDB2c09mWEVhMzNRcW9HVFdZOFVJL0FlcVJQL2wrS1Z5WEkwSDZvNUxVckVnNTVuNGZPZ01CaGpNa2hqR1FxNlQ2T1ViUStVL2o0YnI4dGV2RHpuVE5tQ2ZMenpDWDlaQlJGQktJYmRPbEpUU091Y09qREdjdXh3Rk9OSDd1TStjTDJLUkg2dFlsR2NCSGFkcDJoSkNaSzR6UkJpR1pTSVMzbnR0ak5IRjhhV1V0bHd1UysvOUlJQ0FtWDJYcjg0QWhGS3FWa3l5WTVOTkVKR1RVcWJOWmxNVEVUWTNOMTFmWDErZG1VV1h3Kzg3M29Fc0VaRWdJcE9tYVpZZi8vZzFjNzd3RkROSCtXOW14aGpiaFM5RVJQN3c4TkJaYTVFdnV2ZkFucG5aZTk4R1FGcnJaaEFFY001UjEyZkllKy9ETUJUTVhBWWc4cDNjaEdINHdRM0RXZ3ZubkgvMDZORm1idlZ4cVZTaUxNdFFnUFp4UytqdTNidXhsUEpTRGhoN1Q1OCtiUjhIQ1dhRzl4NWhHRUpyemN4TVlSamk4dVhMTEtVODB5cnVBcE0rNTV3a291VHQyN2ViOVhvOUdSNGVScmRGUkVTSTR6aWNucDRlRlVMSVZxdTExV2cwMnZsbTgyRkFLYWpybW1TWWdXYjRaNVBqL1MzNGFsMnpsSVpCeFA0ajkzRW1nTUdlNEVSUWFvbUJ6WmtibFYyemZYRHc4cUJSdHA2bCsvbHhLNFVKL3pHRVp1RWVuSmN3dkhIalJvK1Vza0pFY003Vmw1ZVgyOTU3QkVGbjQzLzQ4R0Y2Nzk2OU5TbmxjWmVIcmJWbEtlV0FFSUtFRUEzblhEMEhsTzRUb01QRFExZTRNd3NMQzV2Rjk4TXdES2VtcHE0RlFZQTBUUThlUFhwMDJCMjR1WEhqUnRUYjI1c3lzMlptVmtxSmZERVRBSzIxTmlmdENNWENydGZydnBpZ1d1dDBjWEZ4NDlpa1p5bWxtcG1adWE2VUVtbWFac3ZMeXh1NU8wWW51U0FmV25oU1N2VDE5WEgrMlI0cFpkVmEyMjIxRldBdG1Oa0pJVXBUVTFOakJVaElLVVdXWmZibHk1ZWJrNU9Ub1pReU1NWjQ1eHpQek16MEthVzQyeHJydm13cEpWdHJrMisvL1RheDFtSndjSkM5OTJnMEdtcHljako2OHVSSlMydDk0anhRU2gzeE9Fb3ByN1htaytaZkZFVmlZbUtpOHZ6NTgwUnJiYlhXMk52YnV6Q1lySzZ1YnRicjlTUUlBalFhRFhTZlZ4QUV1SGZ2WGl5RUtHZFpKcTlldlRyeTl1M2J6VWFqa2VRYjRNbUFJc0U0QkxBWEtoejBDZm5uMXdkN3JTcjNyVm9Fd2pFZ3VBTUluOEZGSU8vWndSTUxLcGxvZUlRZjlGY2l2WEtRdmZXSm9RaHcvTE94VllJZ0lHYU93akEwMWxwM2JsOVNLUVJCSUxNc2s5WmEvYUhQUjFHa0twVkt2MUpLRWxINnpUZmY3R210VVNxVjVQMzc5MGVKU0gvenpUY0hDd3NMN2VPdVZCQUVtSnljQkJFaEI1UnNhV25wdlYxTktZWGg0V0VvcFdDTU9TSmFoUkNZbUpnSTh3WGttTGw5NjlZdGZ2WHExWkVybGlSSnVyS3lzdTY5aDFJS2QrN2NxVVZSVkdabTMydzI5MTYvZnQwODdkNElJVEE0T01oU1NnZ2hvSlNDMXBwUEFHRFg3YkpwclgyWEZYVGhoV2V0eGU3dUxvZ0lQVDA5Z1hPdW1ydGJ2bkR2Y2hldGNCZXAyeFdSSGJNbUl5S2hsS29Ta1dCbWhHRllWa3JGM2RaWTRhcDFmUTlSRk8xWWE1T2VuaDVjdlhvVjdYYTdmUFBtemRFd0ROWDA5UFQyczJmUER0dnQ5bkVDRjkwZ3hjd2twWHhuUXlNaWxNdGx6TTdPOWdzaCt1Zm01cXd4Wm50cGFhbFZyOWN2RENiTlpqT0o0eGhSRkdGbFplVTlWMjkrZnI0eFBUMGRLcVg2bkhPbHExZXZqcDRHS29vQk9EaGtZUHkxV05IZVZ5T1ZWK2p0RDl0VWdnRUpkZ3dDL3dqeFhpYlBMQ0ZFTlFsN1dOd3F2NW8xalNwdEhIaDRvN3JzNEo4S1hKUlNHQjhmcjFRcWxaSGg0V0Zuak5sZFdscHFmc2gzVmtwaGJtNnVGZ1JCdjliYUthVld0ZGIralBBckppY24rNlNVWmUrOVM5TjAzemxuZTN0N2NlZk9uUnFBS2pQVDNOeWMrT2FiYjdaT01xdWxsTlFGTXRSdXQ5OHp4MC9hRVl2RldTNlhxMElJeXJKTXI2NnUybHF0QmlFRUxsKytqRnF0aHNYRnhlNGRIVUVRUkVJSU1zYjQ1OCtmdDA4anBZdXh2cjZPcTFldlltdHJDL1Y2SFVxcDkveDBLYVU0OW44NkxReDlub1ZYbkt0U0NxMVd5eEJSTTdjNFNVcFp6cTBuYTR4SkMwRHBCbUVpRXM0NWZlblNwUWhBMVh0UFFnam52ZWY4WGxLWFMxYjh3VG5ucEpSZUNPRUx3QytzdlNBSWhERW1ETU53Y0dKaXdxNnNyTFFhalFZdUVxWWxJdHkrZmJ0Q1JIM0dtQ0FNUTlKYTAxbldjS2xVRW5OemMwUGRZTEt4c2JIWmJEWVRZd3kwMW9qaitNUzUwV3ExM01PSEQ3Zm01dVpZS1ZWajV0SzFhOWRHVjFaV2prRGxhTzVIQUZRb3NWYVJwYjk1ODJiL2xsWVY3U0Vzb1JNRy92R2plcDZaQ0phVVF0UTM1SFhsMmIzUkEvVm9yUjRsN0Z2UW9KOG96T3k5UjZWUzZSRkNSRVRrQWNoenVqQ1VoeGZMUVJDNHljbkozc2VQSHgrYzl1RTdkKzVVb2lqcTg5NGp5N0w2L1B6OElRQmN1WElseWtrekNjQWNIQnkwVGxvMFNxbjN3S093UW80dnd1TVJnenl5cEt5MWNSQUVGSVpoZTJkbngrL3M3RUFwaGFtcEtSd2NIQ0FJZ3FPZFNIUkdPVjg4aVpUU2ZVRFhCaUVFY240Qysvdjc1M1lGUDhldzFtSitmcjRCb0hITXRRclNORzJkNWxvUkVTcVZDbTdmdmozTXpJWGlxN200dUxpYjYwOElBQ3VsYUc1dXJrOElNV2lNY1l1TGl5dk9PVnNBY0pJa2VQdjJMZEkwVFVxbDBsNmxVaGt5eGtTbFVtbjQwcVZMOXZEd01Mdkk5UVJCb0pSU2c4NjVRQ25sMGpUZGYvYnNXZXNrTWxZcEJhVlVNRGs1T1NTRXFGcHJRVVRObFpXVnJlM3Q3YXdieUpnWmNSeS9CMjVGcFBMRml4ZTdkKzdjRVFCNkFid0RLc1c4VXFWeUpPOS9mYU52ejZuYVlRWUY0eUdKejR4Yy9BaUJFdTZnQnBFV0t2UStHQW9tYjFiL1pUdmJmL245V252VmdEUG5mNjlnUWtRSWdrQXhjem1mL05uaTRtTDdQRHVKRUlLMTFuVXBaVVVJRVZRcWxWcTVYRzZtYVdxN0YzNXVuUVJLcVVGbVZrU2tHNDFHdlNBY295Z2FjTTZGK2E2NHQ3VzExZUpQQk5majUwOUVtSjZlcmtncGxiWFdycSt2TjdzLysralJJNHlPam9ZUEhqeFF1Vy9PMXRySU9hZWNjeHdFQWMvTXpNUlN5ak5aOVNKazdiM1Bjazc0OS9vOHV5MmRidGVLbWM5MHJYcDdlMHVGaFppN1NwUmwyVHZQMFRsWENPVUlBR3V0VGZjRkprbUNKT25JVmw2OGVIRXdPenNiU2luN21ibFVxVlNHZ2lCWXo3THNYQk84WEM3VDlQVDBrQkNpbkhOdHJTZFBudXhsV2NZbldTVlRVMU05UW9nYUVaVnlNRWszTnpmM2RuWjJ0TFZXNUM1eUVkRUxaMmRucVp1RFlXYWthU3FxMVdxUVh5Y0xJWHhPWEVmWHJsMGJXVmxaMlRvOFBFeVlHZXBmWExreCtrVlR4YkgwZ2duc0JQOWU3SkpUZ1VXQWhXRmhCY1dEQTZYbzJzQjRjLzMxMWtIdkFXZVUvVDdQaEhINzl1MnFFRUl5c3hkQ0pQbEUrZUIzalRGWVhsNXVUMDFOdFltb3gzc2Z6YzNOOWY3MnQ3L2RPODU5M0w5L3YrcWNLeGxqbUloa1gxL2ZwUWNQSGhRZlVqbUoyVmhlWHQ1UDAwK0xzenZuc0xxNmVrVGE1WDQraFdIWUE0Qzg5M3AzZDlmbUppd3hNN2EydGpBK1BsNGxvc0dDMEF5Q3dCZmhZaUZFanhDaTU2eFFZazVWb0wrL3Y3bXlzckwrc1NyTXp6VzZYYXZDTFRsbDhZclIwZEZCQUlxWldRZ0JJWVRLbzJtKzJ6Vmo1akNQdkxpelhMVWtTVEEvUDc4M016TVRDU0VxUkZTWm1wb2FlUHIwNlU2YXBpZEdqWXJYeXVVeTV1Ym0rdk01SlFDMEZ4WVd0dEkwOVNkeGYvZnUzUnNXUXZSWWE2VXZkZ1BtWUhCd2NHUmdZT0Nrc0R3ZEN5U1FsQkxWYWhWRVJEbGZ3a1ZrTVQ5azZkcTFheVBlK3kxalRLSVcybG41YmFQRk16V2grK095RElVZ1NZQUQ0eWZ4TkRyN25DZGlPdEFrRDRTb2lTOEc0Nzk5T1R5TW51MGMrc3c1WlIzMGoyaEFGUXN0aXFKZVpwWWQ3Wlp0NUdUaXVjQW9EK1VkTUhPWm1VT2xWRzhVUmZWdUs4VTVoNTJkbmF5L3Y5OEZRU0J6czFzSUlTZ1BxVUpLbWJWYXJSTjNvSTkxNDdxdmMzSnlzdXljaS9JSkltL2Z2ajNXNVJZVnU1SDEzbHZ2dmN4MUQwVVdCWGVaL21mZTBqeVV5V2RKODQ4SjdQZ3NYaWFmK0Vla2JHNDlYUGgyU0NsdEZFVjBIT1R5NkVaZnJrMWhJVVJHUkpIM1BvemptSklrT2JxWHpqbFNPUXA3NzgySHpLOHN5K3p1N3U3dXlNaEl3TXhoRkVXMU8zZnVKUFB6ODYyVHJpR1A5R0Z5Y3JKR1JBUE9PU1dFeUxhMnRyYlRORFZuQUNjNTUxUVg1d1FBVWdpaGhCQW5rZUxkdW4zS255OTNLN09KaUluSVdXdE5FQVFoTTBmZSs5TFZxMWRIZDNaMnRoVzg1MTBXNmkvcTRKcHJ1aTlMWmFvRlVpZ0o4b0xnZmlwcmhjRUVabmhMSGlKUXFBM3V6ZlJXZHJGLzRCZDNtc010WmduL28zbG0wOVBUWlNGRW1Hc1Y5TkxTVW5wZStYd0JLc3ZMeThuVTFGUkNSTXBhR3g2M1VwZ1phMnRyU1g5Ly8xNU9pQ1lBaEpSeUFFQWNocUZydDl2NzYrdnJtWlFTbjNObno3a1RFRkVmQU1uTW5MdFpBUkhCZTQ5Y2syTG01K2ZmV0d0M0FWQVVSY0hrNU9TVklBZ0M3MzM5OGVQSDIrY0VGUlI4QTA2VzNYTlh3aDB6c3dqRFVKMFNOdVljM0ZXUkNKZi91eEN4SGYrOFB3bkluSFB3M2xjbUp5ZWo5d0lHSFlBU1FnaG01clRWYWgxV0twVmhJWVFZSFIwTmZ2amhCOWU5K1RCemtITVcraXo5VDhFbjdlM3R0WWVIaHcrSWFEQlBzUmhpNXBTSTNIRnJONDVqM0xsenA2eVVHamJHaEVFUTZDUkpkbmQyZHRwQ2lQYzJDV2FHTVliWDF0WU9oNGFHeWtSRTN2dXN1QWRTU2g4RWdUN21Fam9BcG9zbkkrKzlYMXhjTkNjOEF4WkM4SlVyVjhwRFEwUER6RndXUXBUNyt2cDZsU1NDbElCaGlNMldGUCs4clhtMGJPMWt1U1Q3VkVSaEFMTE04RCtkUklUSk14dEJ4SjdLVnZSSGZMOWF4Zk9OZzJTUEVvdnl1Y1BNUWdoY3YzNGRTcWxUWS9YNXc0WnpyamZQb0hWWmx0VlBNaXZQYTZXZ2t5Y1JTQ2w3b3lpcUowbGlpNTJuMVdyeG8wZVA5b3RvejdWcjEycGhHRWFGRnVYWnMyZjFUM1YxemlLRDg4Z1NBWEJDaUJhQUxBZlJpSmxyempuS3I1MkppTWZIeHdNcHBmVGVlMnR0UzJ0dHo1dGFJSVRBbi96Sm4vUjc3d2RPMkltTEdTYU1NVTRwVlo2Wm1ma0Nwd2piQ2dGYjhkdENpTkdwcVNrK0RpZzVFYjMzN2JmZjdoL2JFSXJqaHFWU0tTd1dZdTYyQ0FCR2E3MWJMcGVOYzY3NTVzMGJNekV4d1hFY2kvNysvbWhsWlNWMXpuVkw4aVV6ZXlJeUh3TCtYSStDK2ZuNS9YdjM3cFdsbEhHU0pCa0F6b0g4eUNMSWM0Nnd2cjdPbHk5ZmRrb3BvN1hlWFZwYU9qenBkNWdaTXpNejJOM2R4ZDdlWHVLOVg5L2UzclpwbXJydTNmY2s5L1NrMTg1NnRtdHJhMjNuM1BibzZPZ1lFWEdqMGFnZnhYc1VBUW9FNDBHcmJhVjJMZnVyb1hhVGNhREtDaVNKWUg4cU42aUlDeklRZUJKd1VjL3V6V3ZsalJ1MjBZdU5BNUEzbnl0bUlJVEEyTmhZUkVSeGJpMWtMMTY4YUg1TVFsNjNsYUtVa3RiYWNIeDh2Rzl0YlcxbmVIZ1lXWmJoKysrL2h6RUdnNE9ERUVLVWd5QVlJcUtBaUJyejgvTzdlZExoaitIU3lTQUlCdERSTW5LKzA5WG41K2ZiQURBN094dExLWHZ5WFpmeThDdVZTcVVlSVlRd3h1akhqeDgzendzbVJjUWhERU9SdTA3djhCQ0ZYMjZNOFYyUk1wSEhRby9mQTJKbVdHdDlnU3hDQ0tHVUtpeVVJM0RLdzdmdnlPK3R0Y2o1QTJibWRtNForSHduRDczM3ZVUWtvaWd5Q3dzTGg3bG1oM0xySVZCS2xaeHpoOFd4d2pBczUyU3RjODZsczdPeldGMWR4ZjUrSjFmMHRJUk9JbUtsMUo2MXR2SDY5ZXRtRkVWZUtZWGN4ZXIrREhaM2Q5UCsvdjYxdnI2KzB0T25UK3ZGY1U5NnR1VnlHZmZ2MzhmUzBoS3lMRXZUTk1WeFpldFpYTTF4MSs4c3QvUGc0S0FkeC9IbXExZXZkSzFXTSs4cFpaVUFQSWphbVpjdnRSZWJCdjVteGZQMU1CSWxRWUpGeDFyNWlZQ2w4OHNNWWl1VThtSGZJRFhqWjNPamgxdmZyZFZIVXUrM3lKNTZjdDU3ZlAvOTl4LzhrVC81a3orcEVaRUM0THozN1RSTjdVZGlJTElzNHpSTjY1VktKV2JtSUlxaTNyR3hzV1ozUnFqM0hnTURBMUd0Vmh2SlRlZjIyN2R2dDlJMGRZVzhPM2RENkhPVUJ3aUNBRjk5OVZYTldscytKcGppSXFrczk1WGZ4L1NPNVVMTWJQTUZDL3B3REpqenhZOHN5OXBkQ3ROMzFMN2VlMEZFZmQ1N3ljeVo5NzRwcGZTbnFGRlpDQkU1NTZvNW9EUnk2NHFPZzFTV1pZbHpEbUVZNG9zdnZzRGUzaDZ5TEtOS3BRSWhSTEt3c0xCWDZGVW1KeWNyQlpBU0VkSTBoWE91Q0w5bXpGeGk1ckpTU21pdGZibGNKcTExckpRaTU1eFpYVjAxbHk1ZGVnZTR6MHJvZE03Qk9XZkh4OGNqcFZRQnF1VkMyMkd0TFU5UFQzZGJLK2Jtelp1bGt6TEZpL0lNclZiTExpOHY2MmF6aVlPREEwZ3A4ZlhYWDVlVlV1WHV0SUpQSkxiWldwdjg5cmUvVFY2OGVOR3kxa0pyZlhJdWp3QWdSTWVUT0V5dGZKd3h2NmswM1AxeTdQdVVrb0VFZWNIdy9xZXFiOUtaMFNDUVFSeHBGc1A5VTdlcS8yckg3ZjdEdGRlSmNlYkU4L0lBL2hzQTJSazdkNmxVVWxMSzJEa25qVEdaMXJwKzU4NGRlTzlocmNXYk4yOXdrVjBaQUY2OWV0V2VtNXZMaUVnS0lXU2xVdW45elc5K2szWk5PdFhiMnp0RVJHWHZ2VFhHSEc1dGJaa2dDTlRjM0Z3b2hBaVVVa0dXWmZ6bzBhTzlENG5JemdOMDN2c2dCNDJzaUZBY3kydzlVVktlYTJJSVFPbmV2WHRmbkhZZjgxZ2hTU2xoakdrdkxDeHNXbXY1NGNPSENZRFRVdi9sdlh2M2FrRVFpRFJON2VQSGowKzkxakFNY2ZmdTNWZ0lVYzFCdWI2MHROUStqVFIzenFGY0xpTUlBbHk1Y2tWMThVU2NKQWx5aXdkaEdBYm9DTng0ZjMrZnU4UE96SndBNlBYZUJ6ZHYzaXkvZVBHaU5UZzRHQUVvNVFyYTl2Nyt2dSsyVEQ2VTBKbUhjb3Rrd1VMWDBtM1ZEUlJ1WEw2WkZEelVlNVpiTHRUamFyVzZ0N2k0dU5kOXI1UlNaZS85Z1BlZVBxUVpPayswc0xDdXBKUko0VXFHWVhoMnRyRWtRQkRnbVdpM0plVy9hR3RjanJ5N1hRNVVMU1RJQUdEd1QwYmNFb0VGaUgzaTZWQnd1ZEhIQTM5bmpkZER2RS81VkFHc0FmanZQd0FvYzNOenZjNjVnSm05Y3k1ZFgxL1Bob2FHUG1ueEdtTzhNYVllaG1Ia3ZWZFN5cmhjTHFza1NheVVVczdPem80U1VjVVk0NFVRbnBrck16TXovVUlJU1oxMFg1RkwxcHVmUXhCbWpNR2pSNDhPcHFlbjVjN09Uck8vdjM4b0NBSnhIcGRPQ09HRUVDWVBvNHFUekdqdnZSZENCT2drQmtJcFpicnV4YW5ITHBWS25Gc0RISWFoemJLTXo4aXlSVGY1V1FERFdXRGZiRGF4dExTRVgvM3FWekozYnpqTE1sc1EzdmxDa3puWThOcmFtbVptWExseUJiVmFEVnJyMUh2dndqQlUxV28xanVPNFBUUTAxQ09sbE5aYWQ1cnc4SXg0WnZHYjlLRTVWSlNNNlBvc1gyUU9PdWZJZXk5eVM2S05qeE9oYys1ZHhybjFSOGZ2N3djTExGRU9MQkpFbG9HVnhNb3RiL0dGQy9DRkRWQ1ZoQ0FDTEROK1gvb1ZvdnpQRXJUM3ZNbmF0TElnc2tEcEh4S1RQUlpHWUFCWEFmd0RBSzB6amh0RmtaSlM5bHBySlRNYnBkVEIvdjQrRnp2T3A0REswNmRQRy9mdjMrOTN6aW52ZlRBM045Zjc2MS8vZWkrZnlHWHZ2UlJDT0FBeUNJSzRNSCtkYzV4bG1RdkQwT1UxT0Q2TFVaaW1hZFpvTkRhM3RyYlExOWMzTElTZ0R5MEVadlphNjAwcEpSMlBMblNCbGRkYWg1VktaWkNad3lBSW5ER20vYUh6bGxMaTBxVkxZUjR5WnlHRVBVbnQyODNISEZzUWRKNnd2bElLYVpxS1VxbEU2Q1JGMm1QcTRhUDhwa0tNbHBjdXdOcmFtcjUyN1ZxYm1Yc0JWSzVmdjU3bEZoSkpLWk90cmEyMEd3Qno0TTVtWjJmWEwxRERocTIxWmFYVVFHNFo3UVZCa0p4bjhSZWtjcnZkdGpkdTNNRGUzaDY2Y25zNEJ6dVhLNFB0eHdCS3JqTCtJaSt4OE03MUpFbHlzWXB0aWdCUG9IWUdQTk1HVzFKanZLSndSUVFJUVlEczJIUS9HcjlDdndNS2E4R0pkVzdIYUtST0twWWdRYi9MOGpwK0Npa1Jlb2FIY2JtL0g2VVRKT2s3T3p1NGN1VktuN1UyelAzNTVNbVRKOG5IVmtjN0llTGp2ZmQxZE5ML2hWS3FOd2lDdXUyTU5oSEZuVklaVGdkQjRMejNPazFUbzVTeWk0dUwybHJyUDZhbzBobmdpU2lLSERPTEMxd0hyNit2SjJtYW9raHE2emFmdmZlSTQxamV1WE5uSUNjdjJUbFhmL0xreVFkTEN1WXlkMVVBaXV1SUluNkV6YWlUamkrRUlLMjFYMXBhTXNmeWQ3Z2JmS3kxMk5yYXd0YldGZ0R3cFV1WEdrRVFWSmc1TEpmTHc5NTdTVVRXT2Rkb3RWcnZyTEZjWmVybTUrZmI1NTFIUmFMbmtaUmRxV1I1ZVRtNVNNVy95Y2xKVEU5UFkyRmhBU2NsQzJxdDNXbks0SE80TzJmdU9vbzdtLzM1b3lBQVF0SHhLZllNVUc5WXZIVWFOMVNJa1ZLRWttTDQvUDNQT1IrRUlKQUhuR2RPdlBVYnhyTjFRbGl2aEJDQUlyQUhXQloyV2ZmaUFiQUpZQ0VJSUU2cEpuYjkrdlZ5RUFSOStRVFJ6SHlRaDMwL1Y1QUtqeDgvcnMvTXpQUUJDTHozMFZkZmZkWHo4T0hEL1hxOXZ0UGIyMHVMaTR1MnF5b2FNek9DSUVCdmIrOTdhZVdmUUtZaENBSjQ3L0hxMVN0b3JZOTg2b0pYT0MyRXlNeW8xV3JsbXpkdmxyNzc3cnVXMWxwM3p5OHBwYngxNjlZb0VmVUlJV0N0UFZoY1hOdzVIbklQd3hCU3lpTUxvSXZqcUtDamlYSE1yTTlacWV4Q3cxb0xhMjBZQkFGSktkM3hrby9PT1hFV3gvRDA2ZFBXdlh2M0VpRkVoWm1WRU1KcnJadkx5OHVON3VOMFczQVhlVzdIRXoybGxQUWhWKzZrWjd5enM0TzF0YlhUM2hlNTd1Umo1cytaRDBYRkpEZ2hGdDUzeWhPY0Yxd0VBU1FKam9HTnBzQWVPUXdaaS9HU3cxQVFJRkFDWG53NnYwSWlaNThNYzZhSnQwbTcxSkhTTEFnTXlIUE1PUVVnWmNhejFkVlRQL1BWVjE4Rk9UbkdXdXRrZVhrNStadzdKRE1qU1JMTHpLMDg0OVNrYVdxMDF0amEydEwxZXYyb2JGLzNRckxXaXI2K3ZtaDhmRHd5eHZEOC9IejlVMGhaSXNLbFM1Znc1czJiRGl1ZnA1L25mamFYU3FWaVliMFg1WkZTaXNIQndVRWhST1hCZ3djNlNaTDlwMCtmMXIzM1hrb3BKaWNuUjZJb0ttVDhqY1hGeGQxVFpPRVlIUjNGNjlldmozYnRLSXBVbm5BbzBNbWJ1cENROEFMaGN1RzlqL0pua2lxbHVQZ2RaaWF0ZFZncWxVaEthYnQzY0NrbHdqQ0U5NTZOTWUyOGRJTVVRdmdzeTFwWmxuRVJrYlBXWW54OEhHL2V2RGxYS2Niakx0bHhLK2U4Q3UzaUdzTXd4UHI2T242S0ZBZFZieWM3cUpSckFnZzc2ZGwwN3VyQmxMdEJERUlHWUsydHNhc1pONVhBdGJKQVQwaFFJZUM1RXhHNnNGVkNBRHVDYyt3M2RlcGJqc2x5b0x3Z0V1QnptMVlhd0tXY1IzbDd5bWNXRnhjYjE2OWZON1ZhclVaRWpmTllKeDk2WU5WcUZZT0RnOUJhSCtrQXROYjcrWTZXQmtIZ2J0MjZoVGR2M3VEdzhMQm9TU0ZtWm1iQ01BeExXdXVJaUNKbURuSUd2NVc3VGUrZHgzR1QrclJ6S3lxL0hTY1A4NUIwZVdabXB2RC95eDNPOWQwRVhLMjFDNExBRTFFcERNT1I2ZW5wcXZkK1B3ekRtSm1yZVQzVXhzTEN3dVpwNGZhaXBHVnh6bEVVWVdwcXFpOVBoUFRNM0U2UzVMTXpjbDJGdFlPOEJFSGFEYzc1UFR0SzhEdnVFbFFxRlpRN295Zm52QUJBeEhIY0UwVlJNalkyWnRmWDExRllsai9GQ0lJQTdYWWJHeHNiWjdrdEg3MGhmZWk3Nm45ckhkYi9DMzJZRFE1ZkdseDFxQndhaGdGWWl2T1hKU2NDZ3B3MlRnM2hxVFpZdHhvMzRnQlhLVUFKUUtDb1E5enkrWTRuQ0hDR2tEaG4xNXlCY1ZJeWc0VG9GSU82eU1nQURBRDRkd0g4ajZkOEp1Y25rdm41K2ZROHJRaUlDTFZhamM4eVJhMjFSMzFTaWlqQ3djR0JYbHBhMHNZWUJFR0FnWUdCc0wrL3Z5eWxqSEpSVlpqWDRSQjVjU2Q0NzlsM2hpMlh5M3hTM2tsaFVSVENyamlPY1ZvNmUxRStzSnRzRlVKSXBkUmdZZTUzYVY5ODEvVzRKMCtlYk9TVjBnYUVFR1dsVkRXdmYwcDVzYUxtbzBlUDFyc0VhaWZlTzJzdHZQY0ZtTlRDTU95ejFncm5uRTZTcEg3bnpwMUNnUGJSNGZvVHJCTklLWHVGRU5JWVk5dnRkcnRVS3FIZGJoODl6OU4wR2puM0VvK05qWTE0NzB0Q0NNdk16bnV2aUtqNjVaZGZVcVBSMkMzMFJUOVZBaVF6NCtYTGwyZGFORkVVSFJHNEY3MkhING95cXY5bDRrWnBwS2ZWWjB3VVgwb0lLNm5tMTFZanN3U1hXeURuZG9QUTBhOTRBQWNhbUxjV0t5MkRXMVdGSytVQW9leXdxdTRVZm9YeTd6TXpVa1BZOTJ3UGpKZk9Td2dDaVkrTW1Bb0Eyd0QrTlFEL0o0Q1ZVL3pPM045OTc4eTZ4V1hkQzNOc2JDd3MyUHVUeEZkcG11TFZxMWVZbUpqb01PQzU1TDlZNkVtU0lNdXl1RnF0RG5udmkvd3lkczU1YTYyVFVqcnZmV3FNeVhKUzNVMU5UY1VuQ003WUdGUE9yNEVCUkpPVGszR2VBRWJIK0NMYTN0NTJ6cm5zK0E3TXpMNVlDRVVpMlFuWHhJdUxpeTBwWlRJM045Y0hvQTlBNkp4REozcHFOVE56RUFTblJtZ0tNSW5qbUthbXB2cnpRbFFxREVQWGJEYnJHeHNiNmVEZzRHZTNUbTdmdmwxQlhpaUptWk9OalExYlBGK2xGRVpIUjB0QkVFUjVxWUlqVUNpVlNuVDM3dDJlSUFpR25ITlJFQVJXYTMzdzdObXp4cTFidDRiTDVYS0ZtYXM5UFQzQitQajR6cHMzYjFwNXRPYjNEaWpHbUZQdmUyNDlZbkp5TWc3RDBGNkVrTS92b2RkYXEySkRPckdtN0N2YkdwSnBVT3FYakpFZTRscEpZVmg3ckNRQ2E0bEI1dk1ZK0FXQmhTVEJNN0JqQ0lkMWk3ZFc0MFlwd0doUVFpUno0cllReGxFbk5BMG1HTzJ4N3d6cWxwQ0JGUHY4dlU4bDQvS1Y5ZStjWWFVY0o5T0t5ZmJnd1lPeXRUWmlacE12VXJiV0NxVlVYMUZvV1NsMUl0eHZiVzFoZEhUMEhabDBZZW9MSWRCcXRYUytZemdoaENHaWhKblR2YjA5dmJxNm1xR1RFVXZUMDlOallSaFd1b0RybmF6UVF1eVVQK3dlSXFxZTRxVlNyVlpyU2ltN3l3Z1Uyb3ZOcGFXbE5nRE16YzFWbEZKWGNFTGQ0WHpTK3NlUEgrOWR1M2F0WGExVys1VlMxUTZWSW10ZmZ2bGx5VG0zKy9UcDB5UkpFajdKU2xKS1JaT1Rrd05DaUtyV1dvWmg2Snh6Qnk5ZnZ0eE5rZ1I3ZTN1ZjJ4VUlsRktEQUpUM1hqUHo0WjA3ZDNvQlJFRVFtRnk0V0NXaUFBQkhVWlJHVWNUT09UazNOemVZeXdtQ0lBaXNjKzVnWVdGaFYydk45WHA5dDF3dU16TlhtYm5VMDlNek5qTXowNnpYNi90S0tmMnBJc1RQYkwzNFBLWGcwbkd1N3J6V1R4UkZoZHZzVHdhVUprcGJpY1hsVW1vbTQ2cXFoSUt1QnhFR0kyQXM5UGplYUd3bkF0WVJoRGovNGk3MEswSUNqZ25yTFlHOXpPTkthSEMxNURFVWhGQ0t3TlJ4ZzZ3R1doYlk4UTRaRTVnSnhCM1g1N05FaWM1aHBaeDBnN1RXU05OVWxrcWxJZWM2MVdLNit0SUlacVpPNHExUFQwa0p4OTdlSG03Y3VJSGpTWDU1dlpHa3A2ZG51OUZvbUxkdjM2WjUxaStQam80ZThSM1dXczVUNUVWWC9kT2p3eFFLU2Z3dU4rYWtOaHBuTWZjY0JBRXpzeTFjRlNtbDl0N3IzT1hoTXl5TjlNbVRKeHZqNCtPMVNxWFNseGV1cmtncG85bloyY2I4L1B5T01lYW9NSFlZaHZMKy9mdDlBSHFzdFpIM25zSXd0TTY1dzhlUEgrOWNKSGNwUHlhZDl1eTZOZ1Y2OE9EQmdQZSs3TDJIMXJyMXd3OC90R2RuWi91SXFNODVSMElJbitjQ3NYTXVUWktrTlRNekV6UHpJQkdWalRGQ0thVzk5L3VQSHovZTExcHpHSVpvTkJySnhzYkc1dXpzTEtTVXNiVldBYWpWYXJYS1YxOTl0ZmZOTjkvc2Y0N28zT2NjempuL3NRR0gvRDZmaWtSS01uSFRRTDZ3VXExYjQyL0Y0QytDU0ZRVjA4MDRwREdFZUtzMFhyWXNEaHhCZTRiNldPTFdBSytOd1ZwTzNGNHZCNmhJUXRzejlwMUJBb0poZ0pnNlFFSVh1MVFXSkVyb2FHRk9PajhQSUFid3Q5Q1I0SiswK0lub3FQOXZVWkRaV211c3RheVVFbDNacmNnWHY3ZldKb3VMaTRlbm1acjcrL3NZR3h2RDhYQ2s5eDdOWnBPWGw1Y1B4OGJHamdSVXhYRzZoRjFVcjlmM2hvZUhEL0hwd2pZNlBEenNsaE40S2VVK0FNcXl6RisrZkJrYkd4dDQrUENoQnZCRERoeit0SWhFbnUvQ3o1NDlPN2g1ODJaU3FWUUdwSlJWQUtHVXNqdzVPU2w3ZTN0ZGxtV3cxaUpOVSttOXJ6SnpETUJKS2RNMFRmZVhsNWZyRndXVDdsMzJ1RXQ2SExqejh5WHZmVmF2MXcvYjdUYnY3Ky9ybnA0ZW5hY1RjRjRaTHowOFBOd0p3OUJMS1M4UlVjek1Ya3FaMXV2MW5WZXZYaldMeUkyVXN0aHc3TUxDd3RyVTFOUmdFQVMxL05wbHM5bTBIOFA3NURKOGNXeHorRlM1QUNtbEFxMjFlL3o0OFpzOGJIeGhZWnRTU3M3TnpkME13MUNkNU9ZcklyQWl3REhSWWVya1Fzcjhoak0zVTVNWWljdXlyQ1RkaWlNTWhoSFdNNDFubVVXU2RSYnRoWWhiQUlINEhYRzdyQTIycmNhTmNnQXZDV21uK2dra1hmd3lHU0FRSS9Kc3R3RFdaMERvTm9DeEQwUjhqaS82OWZWMWZmUG16YjJpc0ZCK0k2VlN5bW10emNMQ1F2T3NFbjZOUmdOcG1xS25wK2RrMGppZm9BV0FIQWNlS1NWNzc5T0ZoWVZQSnZ1S3l2ZUYzTnhheTk5KysrMGVNMk5xYWdyajQrUFkzTndzU2lhNjh5NXM3ejJjYzFsdXJmVDM5UFQwTnB2Tnc0Mk5EVjEwNmhzZEhjV3JWNi8wOXZiMjdoZGZmQ0dFRU5uaDRlSHU2OWV2czR2dTRzWVk3T3pzK1A3Ky9sWU8ycWMydURMRzhIZmZmYmQvLy81OXFiVnU3KzN0cFFEdzdObXp0aERpelhHZTROS2xTMXl2MTBGRTlUaU9wYlUyYmJWYU85OS8vLzA3NTFsRXl3cHU2Y21USnp0VFUxTkpxVlRxZDg3cFo4K2V0VDdtZWVYMVIwelhQdmhackJJaGhIYk91U3pMek1kYUtNNDU3NXpUM252cFQwREwzN1hSNkFoZFlabG9sNlg4aXpwNDBEYmRUTGxNL1pFVWcyV2lXaEJpV0lWNEpTMVdUUVp0QVFlQ3d2blZjUVZ4YXhqWXQ4QVFFd0tmRTdJWEJCTGZvUnhKRUhuYnlocXRyZnJCLyt6WW55V3ZMNndVZlFveHk4ejQ0WWNmM3NPc1ZxdTFmNHdaSnlMaUltbndBN3ZETzYwNFR5T0VQN1JvajdkYytKaFJMSWp1M2J4NExWZDJmdXdPZUdTdFBILytmSDk4Zkx6NXd3OC9tSGE3aloyZEhZeU1qT0R5NWN2dzNpTkprdWJCd1lIWjJOZ3dseTlmOWgreml3c2hvTFZPNStmbjF3RmdkSFNVVDBzSHlCZTgvdTF2Zjd0T1JOd0ZQT3k5ZHllNWNsdGJXemc0T05nZkhSMXQ3K3pzNkN0WHJuelFUVWpURkFzTEN5MEE3Y0pWL1JoUzlidnZ2a3NCRkVEblA3WEp2VEVHMzN6enpRRTZQWXMvU2ZuTnpKaWZueThZQTM5ODdyOWZ2cUJEZnBCbDBFWkxpcjFFODBoZWNHa3dqT2hTbGFndlVyaWlMVjZsR2p0dGlZd0JnWTZiY2hIaVZnbzZDaEZmNUJyOUVaSExrRUtnWDdFdU53OE8veW1sNlgvTUgyNXBLQUgwQVBnZkFHeWNZQnFmWlVXOGF4ajlmc2NGRXMvT1BNYVBOUXFRTXNad0dJYTYrNTRWRWE2OGR4RENNTXlLZnNNZlU0MnVDR0VXaS9ZOEljM3pMUEM4Ym13QldBd2c3VDdQRDRudDh2ZjVVeGJzZWEzREN3VWxQdU14ejFMWm5wckxJd2xnSXVoakJaZnV4b0dxaHFBdlZBbERZWWoxUU9PNXRkaHZFNnhqU0hreGZ1VWlSZ21qQXp3Q0RFbEFKUUNHaE9SU0lLTGd5dVdSdnpiVU9IeTVzSFpnSEVOKzREaVhBUHdkQVA4dC9qaCtET0E3U1R4M2ZPRVVWczNQY1JUQVZ4RHduL004aTJNeDh4L2NzeGNmSkZSRng3WnZaMTYrYkZyMXp3Nk5YMnBudG1IaHkxSmdQQzdoVDNzcnVOZWowQmNDN0FEakdaOWI1dWk1QXdSS0FEMEVYSklCTGtjQjRnaXczbU1ubzJBM2kzckJkRlNXL0xRL0NXQVh3RjhIY1Axek1sKy9rSkdYbHp6TFR6NlhkWE9SeE1taVkrQlpydC94QlhlZVkvNG9pK0tjeCswcUtYRHVjZVhLbFNOcmFtQmc0RWU3aHA5cXFQT2l6dnNGbCtydWZybmkreUlwZXlUb2JpWEVpSXl3a21pOHRnYVo2ZGhYU256YVl2WGNTVEJTZ2xFR01DQUNWRU9DVW9EeHpJZkcrUTNqdkdjVldoWnFRNENzL3pCWlhMQmVmNDZPTHNYOEpRS1RRcVdiaHozZmNVdWlLRUljeCsveE5lUGo0eGdZR01DMzMzNTdCRGhkTlVTS2tQQ3A0T09jUTVabFJ4WGNUMXBJUklTclY2OWlaMmZubmNUQjh3RGY1MXlZNTNVcmpURm90VnJuUHU3czdDekNNTVRxNnVwUnFjWjZ2ZjVKQ3VCZkpLQjB1MEZGd2FXZGxsVC9zcDN4WUd6dGRCeUpnU0FVSXhXbVdpbkFjQlppSlRWWTB4a3lDeEFJRWhkTGEyWUdXQUNDR0FFQnZaSXhvRUtFQWNGYmNLc04zaUx0Mml5a2MwSUpnaUJpRytUV3hubW0xejQ2dXBUL0E4QTZ6aCt4K3FXTmNya01yWFZSNVIwQU1EVTFCZTg5NXVmbmp4WnpraVRZMnRwQ3JWWkRtcWJ2VFBScXRZcnVTbUxGZ2dyREVGTlRVM2o2OU9sUi9rZ0JXdDFqWTJNRFcxdGJSd3VwT0hZVVJVY1dDUkdoV3ExaWUzdjdYSXU1eUtZVlFudzB0eVNsUktWU1FhUFJPRXBKV0Z0Yk8wcktLOXllSXZmb09IbDd6c1p2dUhYckZrWkhSN0hhbGFDYXQwWDl3N0pRbUNEb0FyM0p1d291d1REVFdrdXFoblk4R05UdGJDbVN2VkdKcmxkQVE1SENtTGI0UGpYWWJnc1kzL25PZVlqYlBIb0RCYUNxR0VNcVJEa0EyQk8wWWIrWmRTY0tnZ1FBUVJldjcxU29aLzg5QVA4VFRvNzgvSkpISE1jWUdCaEFHSVpIa2F1Q0dCMFpHWG1uTVhaZVVCc0FjTzNhdFpPSU9KeldNMlp3Y0JCRWhOM2QzYVBQTGkwdEhjOFhPdnArbzlIQTgrZlA0YjNIeHNiR080dXkwT0ljSDRYMWN6eHNXNXhEQVFJZkF5aURnNE5vTnB2b2JtL1N2ZWk5OTlqYzNNVEhaajhMSWREZjMzL2h6T05mSktBSXg0NlVsSTY1dXo3UitiNU1CR1pRUzROYVJ0R09oYitWYWpkZURXUTVoTGhWTG1Fc2pEckNPR3R3MEVYY251M2VBR1Z3eDcwcGRkd2RhNGxiMnJrMWZ6eFI4Tk1JcEcwQVh3UDRtZ2l2aWY1Z2dLU3Zydzk1RVdZVU5WTzdRZUMwaFh0U24rUVBqZU1ha3ZNa25oWGdVb0JROStJN2Jna29wZWhYdi9wVlB3RDgrdGUvM2o4cFd2T3hPLzFaWlNtdHRVZWRGajhsRmFENGpTaUsvdkFCSlhSKzNVZXF2K1I5bkhxU2xwbkVCY1EwUkhrbE54QzFNaStYdEJkckh1NWE3UDBYWVNTcVVvanhTb1F4RHJFaURiNXZHOVIxaDdNb2NNVUQ4RlM0TjRSZUdXSkFlVVFCNEF5NFlhMWZaZmJXQ3VXNTA2LzhjMG55YmY3M256RGo3d0hZK3dXRFNqZVFGTHY5UmJtRm56THFraWNNWW1Sa0JHL2V2S00zRTk3N2dmemZoL2pNSWRVUG5kTWZ4d1UyYVZrSzBuKzErc05HdXI2NzBlZGRVcFhTc3lEQmZERXVWYUNqaEdVQzdTWldMZXg3OGE4YURiK1pHYXNKM0JzQWs1VVFmNlduZ3NrNFFEbm90T053REFobUJHRDBLdUI2cERCV1pvU1NrQmptdDBiYnRVUkNhNkU4T2huSG4zUEtDd0FOQUtVMHhiLzE3aVQrUlFISjVjdVhjZVhLRlZRcWxUTXpUbi91dzFxTFM1Y3VuVVRxMHVkcUFmSEg4U05hS0QzTzQ0VnovRS9RYXMzc3BPbC8yRGRXalN1bHZwUjh5SjFtVEJkeWd5VHlFZ1lNc2QyUzRwOG4yZytXMjNhbUlHNWpRYldTd21EcXNhWWxBc0dvQU9pVmhYc0RhTXZjTXQ1dEc0M01TOFdDNmNlTXJoR0FBd0IvbXFiNFJ6ZzVjZkNYWXBGOHJwMzJwOXFacmJWSE12MWpKUXk1dTZUQUw5MFNLZHpDVHhVcS91d0FoZERwazZuQmVHaXRlN1czZHZoMzYwR3JkT2xxelZucXRZS1VCeGZpQVQ3dkF1MlVQaUVZejJLdEphbXBMVjlTbWIxVDdwVTlKYUl2cWlFTkdZRk1NOG9LQ044TkE3TjFRaml2QkFsQUNQN1JkYWthNXl0djhITUJrb0dCZ2ZlQTVDVDNwbEI5NWgzNzJGckxVa3JFY1Z6b0tLaGJjVnFNTUF3cGIxR0t2QXI5VVhuSWd0ZklTekFjZjEwY1d6anZTTWVMQmxWNUllcDN1SnVPeDBVd3h2REl5QWcyTnpmZldYRE9PZlQwOVBnOC9DeTdYRFIzV2pFcHZFK3p1Wk5BS2IvZTR0eUxFaFhIKzk0Z0RFTnl6aDExSkhobk0rM2NTNUhYQStadW1YK3BWRUs1WEQ2NjUwSUlFa0p3RkVYdmRSdmdvaURMQ2Vmd3N3ZVU0MmQ3NkQya3pteXl0YllyUjY0MVJKTDBDUkpWcDRUeTNoTmRoRi9CNzRqYnBnYTkxSkkyV0x1YjdIRXpMTWs0OEZSU2dMUEVyUlM4aGFNd3NFQk91aDQ5M2gvYjk4T0h5eHY4bEtNb0lCMkdJY2JHeG81NjNuNklqTXpEbjJKdWJtN01HSU1YTDE1czdPL3YrOFhGUlpUTDVmRExMNzhjc3RieXk1Y3ZOOXZ0dGkvYWVzek96dGFFRUk2SXBMV1draVRaZS83OGVWWVVScHFjbkJ3VlFvaFdxN1g3NHNXTExEODNNVDA5UFNLRWtBQTBFY2tzeTVyTHk4dk5va3psM056Y29GSXFiTGZiaDArZlBtMFZWZG51M2JzMzdMMVh6THdiQklFdUFLOTdrVEV6UmtaR3l2MzkvVlVoUkE4ems1VFNNZlBobzBlUDlySXM2NjVSSzJkbVp2ckRNT3kxMW9vY1lMeld1cjY0dUxpZlpaa3J3SmlJeXJPenMvMUtxVGlYMkR0alRHTitmbjYzZTBFSFFZQXZ2L3l5eE13RHhoai85T25UN2FKUGRSUkZhbXBxYWpnTVF4SkNwTmJhaUlpeTMvem1OM3ZPT1h6Ly9mY0l3eEJ4SEVmMzd0MGJrRkw2bloyZHh2VDBkSzhRUWhVbEF2UEVRSkhYcjYxLzg4MDNqVjhVb0J4L0ljcUJ3REpEOUpaMWErMzdyYXhjYTR6MFZ2dVZFSEVidnl0b2ZWSGkxb0dvbmxpMWtCR3ZSSm1iTFRrTVJpVlpSOXZ0T29LeGdmS3lFd2ErTURkSUlCQ0pEQjNDOTJNOEpFWW54K2ZmQlBEM2YwNUVWeDc1S0JTdWI5NjhPU3ExY0I3VFdpbUZ3Y0hCS0k1ak5UWTJGcjE2OVNwcE5wdDQ4T0JCT1lxaUhpbWxIeHNiTzNqMTZsVUNBTFZhclJRRVFVVXAxU0FpSWFXTWpUSHArdnA2QmdDam82TWxwVlNQVWtwa1dkWmVXMXZMcEpTWW01c3JLYVVxQURLdHRZK2lxSmIzNm0zbXU3VElmNjhrcGZUT3VWYStVRlVZaGpVQS9PelpzNjI5dlQwWVk5NXhRN3ozTEtWVXZiMjlJNkpqaXRtOG1YMUlSSU4zNzk0VjMzMzMzVTV1d2NtWm1aa3hLV1VsQjZLaTBWZ1FodUhnM054YzlQang0eld0TlFkQklJZUdob2JDTUN4bFdaWVJrUS9ETUxMV3ZsY1UxaGlEaFlXRmJHcHFpdUk0N3AyZW50WlBuejdkOWQ0akwxM1FZNjNkMzl2Ynkvcjcrd2VGRUpWU3FWVFBzc3dXR3AwdnYveXl0MXd1OTJpdDk3dnJqQllXbTFLcXBKU0tpQ2d6eHBpaUZPWkZSeGlHMk56Y3hLZjJsUHBrUURsYW4wSkE2RTZmNEpiazVKOXRyNmRmRFYrdVhER3VmMWVJa2lVU3hQNUN3UEk3Zm9WcHQyM1ZiekxoTDhYUXZVRVlhTWVDNUVlRmdZbUlTRER4SWJ1cy94TzdkM2dBL3o2QTN3QjQvRE1CRk9jY05qWTIzdlB6enhzcWRjNng5NzRGb0ZhdFZrdklXNEZLS2N0RlllYmg0ZUh5cTFldmtsenhHbXV0c2J1NzI2alZhb0VRb2hKRlVSa2RMU0I2ZTN1am9ycDdGRVdsZ29NSWdpRE8zYVJHa2lRcEVmVXpjeW1LSXZMZTg5MjdkeU5ycmN4TEVVWlJGQWxycmI5MTYxWTV0L0piZTN0Ny9vd1FyWkJTVXBabFcwK2VQR2w1NzhYVTFGUXRqdVBoSUFocVNxbDlabll6TXpNMXBWU2wwOVk0MjE1Y1hFeVpHUk1URTVVNGpvZkRNS3pjdVhPbjUrWExsL1hKeWNscUZFWGxaclBaM3RqWVdOM2YzMmRtbHJkdTNRcE9BdWNrU1h5cjFkcVJVcGFKcU8vNjlldU5TcVVpaFJDOVdtdTlzTEN3UjBTdXY3OC9BMUNhbXBxcUxDd3NIT2IzU2lpbEtrbVNNRE0zNGpoT0h6OStuT1dDT2gvSGNUZzVPWGxGU3VtM3Q3ZDNkM2QzMDAvcFd2bXpzRkNPK3l3a0JQcEIrSCt5bFAvSjVwdm1seDdKMytvYjZiR1ZjcC94Rk1DNWd1RzRFTDhDQWRJTVNoMVFsVVJDbksrNjJMdUdqeUNwQUdPOXlWcjI4UGJXeXVHNGRmNmlCenB1cFl3QitJdWZHRkM2clkvektqTFBzSEE0VGROMkVBUzllUnZKL2R5UEQ3MzNpUkFpZE03RnpMeVg4d0FsSVlSYldWbEpWbFpXc3JtNXVSRXBaU21LSW1pdEVRUkJOUWdDbDJXWklhS1NsSktjYzV5bWFWa3B4V21hdG5kM2Q0MVN5cFRMNVhCNGVEamEzTnhNdmZmVklBalllOTltWmpFNk9ocHVibTZtNVhLNUJNRFg2L1dtVXVxb0Z1dnhYS0c4eFVsallXR2htZk1PN3ZuejV3ZHpjM01WSWlyTnpNeUV6NTgvVDdYV3ZUbC9zZlA4K2ZOMndXTzhmdjI2Y2Z2MjdTQUlnc0VnQ0dKbXJoZXVsRkpLOWZYMUJRY0hCNXFaM2NiR2hqdUpxQlZDWUd0cks0M2plRThwMVZlcFZBYUpLTWpyQU85b3JWME80blVwWmFTVXFoaGpEb1VRbUo2ZUxrc3BBMk5Nc3I2K251VUZ1SDNoVHQyNWM2Y1dobUZnclQxY1hWMnRKMG55ZTdjd1BnZDFjSzZsRzROZ2pjVTN6cnBzZitPZ2QyUGxiUWkvRnhJWjBiSEhCWEF4eGEzS1hhR0xTeDlJc0JBVUMrL0tzSWVIKzluYXR4dHY5KzVvN2E0QXVBemd5a2YrWGMxUnR2d1RnOG5uMUlOWWEvSHk1Y3MyRVhraFJDbU9ZekV4TVZGbVpxbTFiakZ6b3JVT2VucDYxT3pzYkNTRUlLVlVsbVVac2l6enpybVVtY1dsUzVlaWNybXNuSE1CRVNWaEdEYUpTRXhNVEpUak9GWkVGQkNSZmYzNnRkbmQzVVVZaG9rUWdtdTFXcFEzcnlwNzcwMmowVGdVUW1Ca1pDVE9pMVdWbUJrdlhyeElpL3lnbXpkdnZpTUVJeUp5enJtRGc0UDY2T2dvcXRWT3lWeXR0U2NpblJQUEVUcjlsQlVBbnArZlQ3cHpiZkwySFJrenMvZGVwV21LUjQ4ZXRaeHphYmxjanZyNys2OS85ZFZYWS9mdjM0K1BweDRVejZVbzZibTR1TGpIektrUW9wZVpTODY1ZytmUG54LzFubDVhV21ybXJXVmpLYVhNTGJnZUtTV1VVczN0N1czZTNOeUVFQUxWYWhYVDA5TjljUnozYTYyeitmbjUzZlBrTXYxaUFZV1BjU3p3SHFIV2RtOTdmWGVUc0NhdFBheDQ3MGdRNWRVRmZzU2xKb1NWd21mQ3RWZjF5c1kvZVBWbUt3bWlqTW5qY3o2Q24xS0d6OHhZWDEvL3JGb1NZNHozM3FkU1N0eTRjU1B1NmVtcE91ZTQzVzYzckxWTktTWGR2bjI3V3FsVUtzNDViamFiemE3NkppMGk0ckd4c2NyZHUzZXJBRkN2MXhzN096dXRQUEpTdlhIalJqa3ZXNUMwV3EyaUpHUFRPWWNvaXNxam82T2xNQXlGYzY2OXNyTFN5UE5ZWXFWVUNFQXhjMnB6MDBRcGhZR0JnWGNXZE42aUZPdnI2N2JaYkw2anpzMnIyQ1BMTWk1U0M2eTFpT09ZdS9PUHBKU1FVbkoranluL2MxbVdiVHJuRHZMZjZRMkM0TktEQnc4R2ptdGhlbnQ3ajBBdTV6OXNWeVRNZFN1U3N5eXoxdHAyWG1BOHJsUXFncG5MQU56UzBsS2p1OUxkeU1oSXVWS3BEQnBqZUhkM2R6dkxNb3RmNlBob2RRY0JjT3pSaXNQcy85M2IydG8vcUs4UGVHNzNTT2toU1lBK3AvNk1pQ1FKUlFTYkNGM1JoenRmdmZwaDdUOWR5VnIvWDJxNUh4N3FEeWdOM0RuMzBaWFRUdVd2T3NXQldrVEVVUlQxRUZGc2pMSEdtTlE1bDNqdk9RekRTcFpsRmUrOWYvcjBhVHZuSFFBZ3liS010ZGFWVXFsVUVVTHdzMmZQa3JkdjN5WlNTa2RFY2FsVXFqSXo3KzN0Tll2dzllTGlZaXFFc0VLSVNrOWUvOUo3MzhwN09LZENpUERtelp1OVVrcGtXZFl1ZWpjWEx0NnhSbVFzcFJUWHIxK1A2L1g2RWFBRVFTQUFoTG11SThzYmhVRUlRVmV1WEltNlFVbHJqV2F6S2RIcGJPaDdlbnB3Nzk0OWJHNXVaci81elc4Mkh6NTgrSDJXWlR1NWhUT2dsQXFPVzRwZHlaVlZJcW9BU0tXVUhJWmhyVlFxQmQydTBmYjI5cUV4eHBkS3BkN2J0Mi9YQUlnc3l4cFpscm11YUpRWUdob2FkTTdKdzhQRDdjM056Zll2ZWU1KzlDcmsvS1lOT01heTFmejNzbnI3Lzk1WlgyczV1elVRdUZRUUFVU0NQMVhZU2lSWUVFbkh0bTJiQjBIOGN2WGZYdDg4bUUydHp3d1Fna0IvMUUrZXkrMVpXbHBxNXczQktnQ1VsRExkM056RTY5ZXZOVFBiM0R5UGlDZ3Bxbkl4TXpZMk5yUzExZ29oeXQ3N0VqcFZ6RnlhcGdpQ0lBTVFFRkVzaFBCYlcxdHA4YjBzeTd3UUlpRWlFY2R4VFVySlMwdExhWnFtY002bEFDaU80OTY4ZW41eS9YcW5PazBlUFlweXNPaTJDS2lucDZlM1ZDckpJQWhRS3BYRTdkdTNhMUxLa2hEQ0xpOHY2eVJKV0FqUkNzTlFWQ3FWL2pBTUE2VVVnaUJBRkVWQkdJWTFwUlRsN1VRQklOamUzaGI1QXJjdlg3NDhjTTZsM252eHhSZGZxUDcrZmlpbFpCQUVxdWcxRklaaFVDcVZob2xJYUsyMzg0aE5ORDA5UFZSa1R6TXp0cmUzVXlMS0FKU2pLT3B6enZuOS9mMGp5eStLSWt4UFR3OElJZUlzeTVxcnE2dUhSV21KNG85K1laTmJmZklSQ0FoSndMREhkMGI3ZjdTMVdyOUxhUDJ0M3VIZXFGcXBHYytCODA0UVgweHhDNEM0b3hMeUphOWJyMWVhQjJ0bVAvbXp2K29nVnp2ZEFBdEU1RC9peGJuY0tLMjFGVUtZUExwajZ2VjZLMDFUcEdrS3BWUUtvQ3FFWUdQTWtmZjQ4dVZMQVBBM2J0eEk4c2dKYWEzVHdnSE5zaXdKdzdBbXBWVE0zR3kxV3I2cnlqeTAxa2tlRWxiZSs3cTFsdk1pUTIxcjdXQVVSYUcxdHJHOXZaMFZWZHkrK3VxcmZ1OTkvK3pzN09FMzMzeXpiYTMxUWdqSytaSEt6TXpNRlNKS3ZQZGxJVVJNUk01N2YxaTBBTm5kM2QwZkhSMk5sRksxdWJtNWtyVzJwWlFpSXFvSUlRSmpUUFBGaXhlSDFscWVtSmpvK2ZycnIyT3RkWkxmZzdLVU1qVEd0RlpYVjFOckxYMzExVmZYaVVodWJXMjlUWkpFVDA1T2ppaWxTcTFXYTJkcGFha0ZJUDNWcjM3VkcwVlJiV0ppb3YzMDZkTkRheTFhclJacnJadGhHSmE5OTVHVXNyRzl2WjE2N3lHRXdNVEVSSzFVS2cxYWEwa0l3VE16TXdORnhYc2hoSGZPdFgvNzI5KzJmMGxwRkovc0p4U3Q2U1NBS2dEckhCYXNjL3BnYTcreHNiS21qRGtJUEN3SlFYdys0cFlnU0VoRklQYnAzbFpyNjlucnRRM3BrV1NPNGRQT0VmNElJaC9sOW5DV1pVMEFtYlUyM2R6Y3pJcXFZMG1TdEoxem1URW1TOU0wdlhuejVsR1Yvcnh6WWpOL1gydXRrOHVYTDRPWjhmang0NVl4Sm1QbXJORm9OTHQ1QjJzdEZoY1gyOFlZN2IxUEc0MUdzMmd0dXJtNXFiWFdHVE5yQU8zTnpVM2UydHBDVHQ0cXBaVEl1d3dVZ0dpWk9kVmExNGxJQ2lGcVNxa0lnRW5UZEg5K2ZuNnZxRnRTcjlmVHQyL2ZiaHBqMmtJSUZZWmhUeTZFazBtU05PYm41emV0dFY1S2lUUk5XUWdSbFVxbFBxWFVTQmlHTldiV1FvajlWcXZGV1pZSmRCcW8wZURnb0JnZkg0K1VVcEV4SmxsZVh0NDN4c0JhNjVJazJYWE9tVXFsVW1ObVZZRDQ0dUppMDN2dmM2QnV0bG90enArRnFGYXJ2YTR6TWlLS3ZQZTl4cGdlWTB6Vk9kZERSTkZmUGd2bGhCSG52bWFtdGJhN0c5dlYzcEZHMkZQdWw4N0VpU2ZwT3N6K1NaZ2dPdkpZYnpJMmRmSEQydUdjZHZidnM4ZWZsZ2xTQ29EK21QMzVLVzdQNHVMaW9SQ2l3Y3hjaEN5OTkzajY5R21MaUg1Z1pveVBqN3VabVJuTXo4K2owV2pBR0lOSGp4NGxBSDVnWnR5OWU5ZE5URXdVTlVMc28wZVBWZ3Bpc3B2M3lOMmU5OTdmM053RUFON2YzMS9ORjZ2djRqbjQwYU5IZXpNek00MmxwU1dkV3p2ODZOR2p0N2xWNUNZbUpxTGUzdDRBblc0RTl1WExsKyswdDhqNzVTUlBuang1T3pVMVZRcUNRREF6TjV0TisrTEZDMjJNS1ZTcGVQejQ4ZUgxNjlmVDRlRmhTVVJralBHTGk0dHBjU0ZTU3Rkc05sZXpMQk1yS3l0cGZqNC9kTjgvQUhqOCtQR2hFS0taQjZUczRPQWdkbmQzajZUMlVrcVRXek5ISlBtMzMzNjczaVZ1bys0UWVRNGsvcWZxa2Z5ekFoUjBXUzFNREJmSjlKdlZOeHRmY3hqM0R2ZjNPeFdVRGoxTHNPZmMyaUFXZ3FvRUoyQmJiM2YwL3ZQRHJleExiVkFEMEF1Q3hSK0prczlFK0w2NzZ2Rk84YU9qMTl2dE5ycjdIT2YvZGdVQWRaUEdaMVZCUCt2OTB4cXFKMGxpNXVmblRUZElGTWRRU2tGS21UMTY5Q2dEZ0ltSmlmY1M3SW9DMDBtUytJV0ZoVFlSUVNtRm16ZHZ2aWNHekp2UUp3c0xDMGNWMUk3WGQ0bmpPTFBXZHI5KzR2MHI3cXRTQ3BjdVhVS1daYmh6NTA1TktTVzAxbzNqMFJ0ampQMURtMS9xeC80QlFRSTF6MWl5bXY4dm1OYmYzRW1UUCswYjZ5bFhTbjNHaTBBeFNTRUVFdmhrcCtuMy9zWFdXbnR1OEJLN0R0YkEvcEVqK1VzNVRtdjhKYVY4QjlDSzdvNm5nVXB4bktLZTdmR1dIVVZZK2F5ZVIwVms1N3hGdWFXVVFtc2RUazlQOXhGUlRXdHRreVE1dUhQbkRvbytUbS9ldlBtRHJMV2lmaDgvUWdCQ0NHaDQvSVcxL2gvdnJSMysxM1hWamk5Zjc0WHhZUStKZzd0cmJ4cS9NczROT0l1L0RtQk5pZzZhL0hIOGNadzBweTdJTFJ5dmgzc1NVSDJ1VWdKemMzTVJnRXZNSERLemRjN3RiMjV1WnYzOS9YL3d6K1gzQWlnRmNTdlFVYUFhN3lHME52THQ5N3YvbEZuOERTTC9aOVlpQVZBQy9lSkNaWDhjZnpsSHJ2WTk2a05VQUZPV1pUNktvZ3hBMW1xMURsKy9mdDFNa3VTOWNwZC9pT1AvSHdDQ21OMzlyYTBkd1FBQUFBQkpSVTVFcmtKZ2dnPT0iOwoKCSAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CgkgICAgfTsKCgkgIH0KCX0=</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">ICAgIHByaXZhdGUgdHlwZTogc3RyaW5nOwo=</text>
      </register>
      <register name="q" type="4">
        <keys>
          <key char="97" code="0" mods="0" />
          <key char="65535" code="27" mods="0" />
          <key char="65535" code="27" mods="0" />
          <key char="106" code="0" mods="0" />
          <key char="107" code="0" mods="0" />
        </keys>
      </register>
      <register name="2" type="2">
        <text encoding="base64">ICAgICAgICAK</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">ewo=</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">ICAgIC8vIC0tLS0tLSDms6jlhozoh6rlrprkuYnlm57osIPlh73mlbAgRSAtLS0tLS0tLS0tLS0tLSAvLwo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgIGNvbnN0cnVjdG9yOiBWaWV3ZXJJbXBsLAo=</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">ICAgIAo=</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">fQo=</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">ICAgIDE0NTIzNC1MMTQ1MjM0Cg==</text>
      </register>
      <register name=":" type="4">
        <text>141171</text>
      </register>
    </registers>
  </component>
  <component name="VimSearchSettings">
    <search>
      <last-search>pre&quot;</last-search>
      <last-pattern>pre&quot;</last-pattern>
      <last-replace>backup&quot;</last-replace>
      <last-substitute>pre&quot;</last-substitute>
      <last-dir>0</last-dir>
      <show-last>false</show-last>
    </search>
  </component>
  <component name="VimSettings">
    <state version="6" enabled="true" />
    <notifications>
      <idea-join enabled="true" />
      <idea-put enabled="false" />
    </notifications>
  </component>
</application>